var game_data=[{name:"Push",data:{version:5,title:"Beat Push-Up-Bot",instructions:"Alterate clicks in upper and lower half!",duration:5,backgroundID:242,gameObjects:[{ID:7,name:"screw2",graphicID:239,position:{x:389,y:186},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4},{ID:"flipObject",mode:"horizontally"}]},{triggers:[{ID:"touchArea",objectID:2,area:{x:282,y:21,width:402,height:66}}],actions:[{ID:"artPlay",frame:1,frame2:3,mode:"loop",speed:1}]},{triggers:[{ID:"touchArea",
objectID:2,area:{x:268,y:291,width:442,height:74}}],actions:[{ID:"artPlay",frame:3,frame2:1,mode:"loop",speed:1}]},{triggers:[{ID:"gameWasWon"}],actions:[{ID:"artStop"}]},{triggers:[{ID:"gameWasLost"}],actions:[{ID:"artStop"}]}]},{ID:5,name:"controller",graphicID:240,position:{x:801,y:272},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:5,frame2:6}]},{triggers:[{ID:"clickArea",area:{x:-32,y:203,width:718,height:194}},{ID:"counterEqualsNumber",objectID:1,counter:0}],actions:[{ID:"counterUp"}]},
{triggers:[{ID:"clickArea",area:{x:-32,y:7,width:718,height:194}},{ID:"counterEqualsNumber",objectID:1,counter:1}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"timeExact",time:100},{ID:"counterGreaterObject",objectID:5,object2ID:2}],actions:[{ID:"gameWin"}]}]},{ID:3,name:"screw",graphicID:239,position:{x:587,y:186},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4}]},{triggers:[{ID:"touchArea",objectID:2,area:{x:282,y:21,width:402,height:66}}],actions:[{ID:"artPlay",
frame:1,frame2:3,mode:"loop",speed:1}]},{triggers:[{ID:"touchArea",objectID:2,area:{x:268,y:291,width:442,height:74}}],actions:[{ID:"artPlay",frame:3,frame2:1,mode:"loop",speed:1}]},{triggers:[{ID:"gameWasWon"}],actions:[{ID:"artStop"}]},{triggers:[{ID:"gameWasLost"}],actions:[{ID:"artStop"}]}]},{ID:2,name:"push_up_robot",graphicID:238,position:{x:489,y:125},behaviours:[{triggers:[{ID:"touchArea",objectID:2,area:{x:362,y:15,width:294,height:72}}],actions:[{ID:"moveInDirection",angle:"1.57",speed:3},
{ID:"counterUp"},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchArea",objectID:2,area:{x:288,y:291,width:412,height:90}}],actions:[{ID:"moveInDirection",angle:"-1.57",speed:3},{ID:"counterUp"},{ID:"artToFrame",frame:2}]},{triggers:[{ID:"gameWasWon"}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:3}]},{triggers:[{ID:"gameWasLost"}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:4}]}]},{ID:1,name:"push_up_man",graphicID:240,position:{x:187,y:175},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",
frame:5,frame2:6}]},{triggers:[{ID:"clickArea",area:{x:-32,y:203,width:718,height:194}},{ID:"counterEqualsNumber",objectID:1,counter:0}],actions:[{ID:"artPlay",frame:5,frame2:2,mode:"once",speed:3},{ID:"counterUp"}]},{triggers:[{ID:"clickArea",area:{x:-32,y:7,width:718,height:194}},{ID:"counterEqualsNumber",objectID:1,counter:1}],actions:[{ID:"artPlay",frame:2,frame2:5,mode:"once",speed:3},{ID:"counterDown"}]},{triggers:[{ID:"gameWasWon"}],actions:[{ID:"counterSet",counter:2},{ID:"artToFrame",frame:6}]},
{triggers:[{ID:"gameWasLost"}],actions:[{ID:"counterSet",counter:2},{ID:"artToFrame",frame:1}]}]}],graphics:[{ID:242,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/242/gym.png?1354182609"},{ID:239,frameWidth:85,frameHeight:256,frameCount:3,url:"http://s3.amazonaws.com/mbgfx/graphics/239/screw.png?1354175983"},{ID:240,frameWidth:256,frameHeight:256,frameCount:6,url:"http://s3.amazonaws.com/mbgfx/graphics/240/push_up_man.png?1354179862"},{ID:238,frameWidth:256,
frameHeight:85,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/238/push_up_robot.png?1354174881"}]},id:46},{name:"Pull",data:{version:5,title:"Pull the treasures",instructions:"Click on the red arrows to navigate the diver. Collect the treasures and bring them to the rope",duration:30,backgroundID:197,gameObjects:[{ID:13,name:"vertical_line",graphicID:203,position:{x:245,y:174},behaviours:[],boundingArea:{x:-6,y:-127,width:9,height:254}},{ID:2,name:"diver",graphicID:196,position:{x:254,y:354},
behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:50,speed:4}]},{triggers:[{ID:"clickObject",objectID:8}],actions:[{ID:"moveInDirection",angle:"-1.57",speed:1},{ID:"artPlay",frame:2,frame2:3,mode:"ping-pong",speed:1}]},{triggers:[{ID:"clickObject",objectID:9},{ID:"counterEqualsNumber",objectID:2,counter:1}],actions:[{ID:"moveInDirection",angle:"0.00",speed:1},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"clickObject",objectID:10},{ID:"counterEqualsNumber",objectID:2,counter:1}],
actions:[{ID:"moveInDirection",angle:"3.14",speed:1},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"clickObject",objectID:11}],actions:[{ID:"moveInDirection",angle:"1.57",speed:1},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchArea",objectID:2,area:{x:-1,y:389,width:640,height:26}}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:7}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:13}],actions:[{ID:"counterSet",
counter:0}]},{triggers:[{ID:"clickObject",objectID:9},{ID:"counterEqualsNumber",objectID:2,counter:0}],actions:[{ID:"moveInDirection",angle:"0.00",speed:2},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"clickObject",objectID:10},{ID:"counterEqualsNumber",objectID:2,counter:0}],actions:[{ID:"moveInDirection",angle:"3.14",speed:2},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:17}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:18}],
actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"gameWasLost"}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:2}]}],boundingArea:{x:-10,y:-27,width:16,height:48}},{ID:18,name:"treasure3",graphicID:201,position:{x:329,y:372},behaviours:[{triggers:[{ID:"overlapObject",objectID:18,object2ID:2},{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"moveToObject",objectID:2,offset:{x:0,y:6},speed:4}]},{triggers:[{ID:"touchObject",objectID:18,object2ID:13}],actions:[{ID:"moveToObject",
objectID:13,offset:{x:-2,y:-136},speed:2},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:18,area:{x:221,y:31,width:24,height:22}}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:-32,y:12}}]}],boundingArea:{x:-8,y:-10,width:14,height:23}},{ID:17,name:"treasure2",graphicID:201,position:{x:438,y:349},behaviours:[{triggers:[{ID:"overlapObject",objectID:17,object2ID:2},{ID:"counterEqualsNumber",objectID:17,counter:0}],actions:[{ID:"moveToObject",objectID:2,offset:{x:0,y:6},speed:4}]},{triggers:[{ID:"touchObject",
objectID:17,object2ID:13}],actions:[{ID:"moveToObject",objectID:13,offset:{x:-2,y:-136},speed:2},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:17,area:{x:221,y:35,width:24,height:22}}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:-32,y:12}}]}],boundingArea:{x:-8,y:-10,width:14,height:23}},{ID:16,name:"swordfish_lightblue",graphicID:204,position:{x:-56,y:317},behaviours:[{triggers:[{ID:"timeRandom",time:48,time2:69}],actions:[{ID:"moveInDirection",angle:"0.00",speed:2}]},{triggers:[{ID:"touchObject",
objectID:16,object2ID:2}],actions:[{ID:"gameLose"}]}],boundingArea:{x:-28,y:-3,width:60,height:7}},{ID:11,name:"arr_down",graphicID:202,position:{x:54,y:376},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:5}]}]},{ID:10,name:"arr_left",graphicID:202,position:{x:19,y:341},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:7}]}]},{ID:9,name:"arr_right",graphicID:202,position:{x:90,y:342},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",
frame:3}]}]},{ID:8,name:"arrows_red",graphicID:202,position:{x:54,y:306},behaviours:[]},{ID:7,name:"treasure",graphicID:201,position:{x:133,y:364},behaviours:[{triggers:[{ID:"overlapObject",objectID:7,object2ID:2},{ID:"counterEqualsNumber",objectID:7,counter:0}],actions:[{ID:"moveToObject",objectID:2,offset:{x:0,y:6},speed:4}]},{triggers:[{ID:"touchObject",objectID:7,object2ID:13}],actions:[{ID:"moveToObject",objectID:13,offset:{x:-2,y:-136},speed:2},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",
objectID:7,area:{x:225,y:33,width:24,height:22}}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:-32,y:12}}]}],boundingArea:{x:-8,y:-10,width:14,height:23}},{ID:1,name:"crane_boat",graphicID:198,position:{x:323,y:34},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:60,speed:4},{ID:"moveRoam",area:{x:251,y:21,width:118,height:56},mode:"reflect",speed:0}]},{triggers:[{ID:"touchObject",objectID:1,object2ID:7}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"timeExact",time:100},
{ID:"counterEqualsNumber",objectID:1,counter:3}],actions:[{ID:"gameWin"}]},{triggers:[{ID:"touchObject",objectID:1,object2ID:17}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"touchObject",objectID:1,object2ID:18}],actions:[{ID:"counterUp"}]}]},{ID:4,name:"shark2",graphicID:199,position:{x:730,y:350},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveAlongPath",path:[{x:730,y:350},{x:-89,y:363}],mode:"circular",speed:1},{ID:"artToFrame",frame:2}]},{triggers:[{ID:"touchArea",objectID:4,area:{x:-121,
y:341,width:48,height:26}}],actions:[{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:4,object2ID:2}],actions:[{ID:"gameLose"}]}],boundingArea:{x:-50,y:-10,width:96,height:21}},{ID:3,name:"shark",graphicID:199,position:{x:-53,y:174},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveAlongPath",path:[{x:-53,y:174},{x:731,y:169},{x:725,y:249},{x:-49,y:237}],mode:"circular",speed:2}]},{triggers:[{ID:"touchArea",objectID:3,area:{x:681,y:199,width:48,height:26}}],actions:[{ID:"artToFrame",
frame:2}]},{triggers:[{ID:"touchArea",objectID:3,area:{x:-85,y:197,width:48,height:26}}],actions:[{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:3,object2ID:2}],actions:[{ID:"gameLose"}]}],boundingArea:{x:-50,y:-10,width:96,height:21}},{ID:6,name:"swordfish",graphicID:200,position:{x:-38,y:90},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveAlongPath",path:[{x:-38,y:90},{x:47,y:45},{x:75,y:47},{x:107,y:53},{x:127,y:73},{x:143,y:87},{x:165,y:95},{x:205,y:95},{x:243,y:95},
{x:297,y:95},{x:347,y:95},{x:393,y:95},{x:441,y:87},{x:463,y:71},{x:475,y:55},{x:491,y:47},{x:525,y:47},{x:551,y:59},{x:571,y:73},{x:593,y:81},{x:609,y:95},{x:639,y:95},{x:661,y:95},{x:685,y:95},{x:729,y:97}],mode:"once",speed:3}]}]}],graphics:[{ID:197,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/197/underwater.png?1351960629"},{ID:203,frameWidth:32,frameHeight:256,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/203/vertical_line.png?1352027293"},
{ID:196,frameWidth:72,frameHeight:103,frameCount:3,url:"http://s3.amazonaws.com/mbgfx/graphics/196/diver.png?1351960438"},{ID:201,frameWidth:32,frameHeight:32,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/201/treasure.png?1352026391"},{ID:204,frameWidth:69,frameHeight:32,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/204/swordfish_lightblue.png?1352029997"},{ID:202,frameWidth:32,frameHeight:32,frameCount:8,url:"http://s3.amazonaws.com/mbgfx/graphics/202/arrows_red.png?1352026777"},
{ID:198,frameWidth:256,frameHeight:148,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/198/crane_boat.png?1352023891"},{ID:199,frameWidth:101,frameHeight:32,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/199/shark.png?1352024587"},{ID:200,frameWidth:73,frameHeight:32,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/200/swordfish.png?1352025955"}]},id:37},{name:"Clone",data:{version:5,title:"Clone the Sheeptroopers",instructions:"Click when the sheep is in the cloning machine!",
duration:10,backgroundID:236,gameObjects:[{ID:18,name:"timer",graphicID:237,position:{x:0,y:449},behaviours:[{triggers:[{ID:"clickArea",area:{x:-34,y:-29,width:726,height:456}},{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"moveToLocation",location:{x:616,y:451},speed:2},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:18,area:{x:102,y:401,width:58,height:50}}],actions:[{ID:"jumpToLocation",location:{x:0,y:449}},{ID:"counterDown"}]}]},{ID:17,name:"sheep_foetus",graphicID:237,
position:{x:104,y:125},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveRoam",area:{x:66,y:77,width:78,height:98},mode:"wiggle",speed:0}]}]},{ID:13,name:"assembly_line",graphicID:234,position:{x:-3,y:329},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artPlay",frame:1,frame2:3,mode:"loop",speed:2}]}]},{ID:16,name:"assembly_line4",graphicID:234,position:{x:533,y:329},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artPlay",frame:1,frame2:3,mode:"loop",speed:2}]}]},{ID:15,name:"assembly_line3",
graphicID:234,position:{x:537,y:243},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artPlay",frame:1,frame2:3,mode:"loop",speed:2}]}]},{ID:14,name:"assembly_line2",graphicID:234,position:{x:210,y:329},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artPlay",frame:1,frame2:3,mode:"loop",speed:2}]}]},{ID:27,name:"clone5",graphicID:233,position:{x:-163,y:155},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:70,speed:4}]},{triggers:[{ID:"overlapObject",objectID:22,
object2ID:1},{ID:"clickArea",area:{x:-20,y:-23,width:718,height:440}},{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"jumpToLocation",location:{x:358,y:175}},{ID:"moveToLocation",location:{x:752,y:179},speed:3}]}]},{ID:26,name:"clone4",graphicID:233,position:{x:-152,y:135},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:70,speed:4}]},{triggers:[{ID:"overlapObject",objectID:21,object2ID:1},{ID:"clickArea",area:{x:-20,y:-23,width:718,height:440}},{ID:"counterEqualsNumber",
objectID:18,counter:0}],actions:[{ID:"jumpToLocation",location:{x:358,y:175}},{ID:"moveToLocation",location:{x:752,y:179},speed:3}]}]},{ID:25,name:"clone3",graphicID:233,position:{x:-162,y:108},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:70,speed:4}]},{triggers:[{ID:"overlapObject",objectID:20,object2ID:1},{ID:"clickArea",area:{x:-20,y:-23,width:718,height:440}},{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"jumpToLocation",location:{x:358,y:175}},{ID:"moveToLocation",
location:{x:752,y:179},speed:3}]}]},{ID:24,name:"clone2",graphicID:233,position:{x:-159,y:84},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:70,speed:4}]},{triggers:[{ID:"overlapObject",objectID:19,object2ID:1},{ID:"clickArea",area:{x:-20,y:-23,width:718,height:440}},{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"jumpToLocation",location:{x:358,y:175}},{ID:"moveToLocation",location:{x:752,y:179},speed:3}]}]},{ID:8,name:"clone",graphicID:233,position:{x:-120,
y:62},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:70,speed:4}]},{triggers:[{ID:"overlapObject",objectID:6,object2ID:1},{ID:"clickArea",area:{x:-20,y:-23,width:718,height:440}},{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"jumpToLocation",location:{x:358,y:175}},{ID:"moveToLocation",location:{x:752,y:179},speed:3}]}]},{ID:2,name:"machine2",graphicID:235,position:{x:357,y:167},behaviours:[{triggers:[{ID:"clickArea",area:{x:-24,y:-29,width:742,height:462}},
{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"artPlay",frame:4,frame2:1,mode:"once",speed:2}]},{triggers:[{ID:"touchArea",objectID:8,area:{x:676,y:83,width:56,height:108}}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",objectID:2,counter:5}],actions:[{ID:"gameWin"}]},{triggers:[{ID:"touchArea",objectID:24,area:{x:672,y:47,width:64,height:232}}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:25,area:{x:668,y:59,width:52,height:192}}],actions:[{ID:"counterUp"}]},
{triggers:[{ID:"touchArea",objectID:26,area:{x:670,y:109,width:36,height:170}}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:27,area:{x:662,y:71,width:60,height:212}}],actions:[{ID:"counterUp"}]}]},{ID:22,name:"sheep5",graphicID:233,position:{x:0,y:526},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4},{ID:"jumpToLocation",location:{x:-120,y:260}}]},{triggers:[{ID:"timeRandom",time:56,time2:63}],actions:[{ID:"moveToLocation",location:{x:723,y:258},
speed:3}]}],boundingArea:{x:1,y:-3,radius:8}},{ID:21,name:"sheep4",graphicID:233,position:{x:-30,y:496},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4},{ID:"jumpToLocation",location:{x:-120,y:260}}]},{triggers:[{ID:"timeRandom",time:41,time2:49}],actions:[{ID:"moveToLocation",location:{x:723,y:258},speed:3}]}],boundingArea:{x:1,y:-3,radius:8}},{ID:20,name:"sheep3",graphicID:233,position:{x:-60,y:466},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",
scale:80,speed:4},{ID:"jumpToLocation",location:{x:-120,y:260}}]},{triggers:[{ID:"timeRandom",time:27,time2:35}],actions:[{ID:"moveToLocation",location:{x:723,y:258},speed:3}]}],boundingArea:{x:1,y:-3,radius:8}},{ID:19,name:"sheep2",graphicID:233,position:{x:-90,y:436},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4},{ID:"jumpToLocation",location:{x:-120,y:260}}]},{triggers:[{ID:"timeRandom",time:12,time2:20}],actions:[{ID:"moveToLocation",location:{x:723,y:258},
speed:3}]}],boundingArea:{x:1,y:-3,radius:8}},{ID:6,name:"sheep",graphicID:233,position:{x:-120,y:406},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4},{ID:"jumpToLocation",location:{x:-120,y:260}}]},{triggers:[{ID:"timeExact",time:0}],actions:[{ID:"moveToLocation",location:{x:723,y:258},speed:3}]}],boundingArea:{x:1,y:-3,radius:8}},{ID:1,name:"machine",graphicID:235,position:{x:372,y:273},behaviours:[{triggers:[{ID:"clickArea",area:{x:-36,y:-37,width:740,height:482}},
{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"artPlay",frame:4,frame2:1,mode:"once",speed:2}]}],boundingArea:{x:-16,y:-89,width:26,height:176}}],graphics:[{ID:236,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/236/cloning_station.png?1354167805"},{ID:237,frameWidth:74,frameHeight:95,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/237/sheep_foetus.png?1354168108"},{ID:234,frameWidth:256,frameHeight:77,frameCount:3,url:"http://s3.amazonaws.com/mbgfx/graphics/234/assembly_line.png?1354165899"},
{ID:233,frameWidth:198,frameHeight:155,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/233/clone-sheep.png?1354164658"},{ID:235,frameWidth:199,frameHeight:196,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/235/clone_machine.png?1354167222"}]},id:45},{name:"Branch",data:{version:5,title:"Plant the Branchlings",instructions:"Click on the branchlings when their roots reach the turf!",duration:5,backgroundID:245,gameObjects:[{ID:11,name:"cloud2",graphicID:246,position:{x:223,y:61},
behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveInDirection",angle:"3.14",speed:0}]}]},{ID:10,name:"cloud",graphicID:246,position:{x:568,y:51},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveInDirection",angle:"3.14",speed:0}]}]},{ID:9,name:"turf3",graphicID:244,position:{x:462,y:323},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4}]}],boundingArea:{x:-17,y:-2,width:36,height:16}},{ID:7,name:"bottom3",graphicID:244,position:{x:-41,y:287},behaviours:[{triggers:[{ID:"gameStart"}],
actions:[{ID:"artToFrame",frame:2}]},{triggers:[{ID:"clickObject",objectID:5}],actions:[{ID:"jumpToObject",objectID:5,offset:{x:-2,y:50}}]}],boundingArea:{x:1,y:1,radius:15}},{ID:5,name:"branchling3",graphicID:243,position:{x:501,y:232},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveRoam",area:{x:378,y:203,width:166,height:180},mode:"wiggle",speed:2},{ID:"artPlay",frame:1,frame2:2,mode:"ping-pong",speed:2}]},{triggers:[{ID:"counterEqualsNumber",objectID:5,counter:0},{ID:"clickObject",
objectID:5}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",objectID:5,counter:1},{ID:"overlapObject",objectID:5,object2ID:7}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:5},{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",objectID:5,counter:1},{ID:"overlapObject",objectID:9,object2ID:7}],actions:[{ID:"artPlay",frame:2,frame2:4,mode:"once",speed:2},{ID:"counterUp"}]},{triggers:[{ID:"gameWasLost"},{ID:"counterEqualsNumber",objectID:5,counter:0}],actions:[{ID:"counterSet",
counter:5},{ID:"moveStop"},{ID:"artToFrame",frame:5}]}],boundingArea:{x:1,y:8,radius:53}},{ID:8,name:"turf2",graphicID:244,position:{x:311,y:201},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:3}],actions:[{ID:"counterUp"}]}],boundingArea:{x:-14,y:-3,width:31,height:17}},{ID:6,name:"bottom2",graphicID:244,position:{x:-71,y:257},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:2}]},{triggers:[{ID:"clickObject",
objectID:4}],actions:[{ID:"jumpToObject",objectID:4,offset:{x:-2,y:50}}]}],boundingArea:{x:1,y:0,radius:14}},{ID:4,name:"branchling2",graphicID:243,position:{x:316,y:124},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveRoam",area:{x:230,y:57,width:170,height:210},mode:"wiggle",speed:2},{ID:"artPlay",frame:1,frame2:2,mode:"ping-pong",speed:2}]},{triggers:[{ID:"counterEqualsNumber",objectID:4,counter:0},{ID:"clickObject",objectID:4}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",
objectID:4,counter:1},{ID:"overlapObject",objectID:4,object2ID:6}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:5},{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",objectID:4,counter:1},{ID:"overlapObject",objectID:8,object2ID:6}],actions:[{ID:"artPlay",frame:2,frame2:4,mode:"once",speed:2},{ID:"counterUp"}]},{triggers:[{ID:"gameWasLost"},{ID:"counterEqualsNumber",objectID:4,counter:0}],actions:[{ID:"counterSet",counter:5},{ID:"artToFrame",frame:5},{ID:"moveStop"}]}],boundingArea:{x:1,y:8,
radius:53}},{ID:1,name:"turf",graphicID:244,position:{x:118,y:259},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:80,speed:4}]},{triggers:[{ID:"touchObject",objectID:1,object2ID:3}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"touchObject",objectID:8,object2ID:6}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"touchObject",objectID:9,object2ID:7}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",objectID:1,counter:3}],actions:[{ID:"gameWin"}]}],boundingArea:{x:-15,
y:-2,width:31,height:16}},{ID:3,name:"bottom",graphicID:244,position:{x:-101,y:227},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:2}]},{triggers:[{ID:"clickObject",objectID:2}],actions:[{ID:"jumpToObject",objectID:2,offset:{x:-2,y:50}}]}],boundingArea:{x:0,y:1,radius:14}},{ID:2,name:"branchling",graphicID:243,position:{x:87,y:273},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveRoam",area:{x:32,y:133,width:176,height:202},mode:"wiggle",speed:2},{ID:"artPlay",
frame:1,frame2:2,mode:"ping-pong",speed:2}]},{triggers:[{ID:"counterEqualsNumber",objectID:2,counter:0},{ID:"clickObject",objectID:2}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",objectID:2,counter:1},{ID:"overlapObject",objectID:2,object2ID:3}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:5},{ID:"counterUp"}]},{triggers:[{ID:"counterEqualsNumber",objectID:2,counter:1},{ID:"overlapObject",objectID:1,object2ID:3}],actions:[{ID:"artPlay",frame:2,frame2:4,mode:"once",speed:2},
{ID:"counterUp"}]},{triggers:[{ID:"gameWasLost"},{ID:"counterEqualsNumber",objectID:2,counter:0}],actions:[{ID:"counterSet",counter:5},{ID:"moveStop"},{ID:"artToFrame",frame:5}]}],boundingArea:{x:1,y:8,radius:53}}],graphics:[{ID:245,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/245/field.png?1354259354"},{ID:246,frameWidth:137,frameHeight:78,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/246/cloud.png?1354263330"},{ID:244,frameWidth:86,frameHeight:57,
frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/244/turf.png?1354258940"},{ID:243,frameWidth:128,frameHeight:128,frameCount:5,url:"http://s3.amazonaws.com/mbgfx/graphics/243/branchling.png?1354258669"}]},id:48},{name:"Fork",data:{version:5,title:"Fork for bacon",instructions:"Click on the arrows to navigate the farmer and try to catch all pigs",duration:15,backgroundID:226,gameObjects:[{ID:16,name:"dirndl_top",graphicID:229,position:{x:209,y:374},behaviours:[{triggers:[{ID:"gameStart"}],
actions:[{ID:"artToFrame",frame:4}]}]},{ID:13,name:"grill",graphicID:228,position:{x:131,y:341},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"counterSet",counter:5}]},{triggers:[{ID:"counterEqualsObject",objectID:13,object2ID:6},{ID:"counterEqualsObject",objectID:13,object2ID:12},{ID:"counterEqualsObject",objectID:13,object2ID:15}],actions:[{ID:"gameWin"}]}]},{ID:15,name:"pig3",graphicID:224,position:{x:508,y:289},behaviours:[{triggers:[{ID:"timeRandom",time:14,time2:30}],actions:[{ID:"moveAlongPath",
path:[{x:508,y:289},{x:509,y:53},{x:115,y:51}],mode:"ping-pong",speed:2}]},{triggers:[{ID:"touchArea",objectID:15,area:{x:491,y:39,width:30,height:28}}],actions:[{ID:"artToFrame",frame:4}]},{triggers:[{ID:"touchArea",objectID:15,area:{x:495,y:293,width:30,height:28}}],actions:[{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:15,object2ID:1}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:5},{ID:"counterSet",counter:5},{ID:"jumpToLocation",location:{x:154,y:341}}]},{triggers:[{ID:"touchArea",
objectID:15,area:{x:81,y:47,width:30,height:28}}],actions:[{ID:"artToFrame",frame:2}]}],boundingArea:{x:-20,y:-22,width:37,height:42}},{ID:12,name:"pig2",graphicID:224,position:{x:108,y:75},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:3},{ID:"moveAlongPath",path:[{x:108,y:75},{x:109,y:209},{x:183,y:209},{x:39,y:215},{x:43,y:67},{x:313,y:67},{x:313,y:299}],mode:"circular",speed:2}]},{triggers:[{ID:"touchObject",objectID:12,object2ID:7}],actions:[{ID:"moveInDirection",angle:"1.57",
speed:1}]},{triggers:[{ID:"touchArea",objectID:12,area:{x:91,y:203,width:32,height:34}},{ID:"counterEqualsNumber",objectID:12,counter:0}],actions:[{ID:"artToFrame",frame:2}]},{triggers:[{ID:"touchArea",objectID:12,area:{x:193,y:189,width:32,height:34}}],actions:[{ID:"artToFrame",frame:4},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:12,area:{x:9,y:195,width:32,height:34}},{ID:"counterEqualsNumber",objectID:12,counter:1}],actions:[{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchArea",objectID:12,
area:{x:27,y:35,width:32,height:34}},{ID:"counterGreaterNumber",objectID:12,counter:0}],actions:[{ID:"artToFrame",frame:2}]},{triggers:[{ID:"touchArea",objectID:12,area:{x:317,y:49,width:32,height:34}},{ID:"counterGreaterNumber",objectID:12,counter:0}],actions:[{ID:"artToFrame",frame:3}]},{triggers:[{ID:"touchArea",objectID:12,area:{x:293,y:171,width:32,height:34}}],actions:[{ID:"moveInDirection",angle:"1.57",speed:2}]},{triggers:[{ID:"touchObject",objectID:12,object2ID:1}],actions:[{ID:"moveStop"},
{ID:"artToFrame",frame:5},{ID:"counterSet",counter:5},{ID:"jumpToLocation",location:{x:130,y:339}}]},{triggers:[{ID:"touchArea",objectID:12,area:{x:303,y:267,width:32,height:34}}],actions:[{ID:"moveInDirection",angle:"0.01",speed:2},{ID:"artToFrame",frame:2}]}],boundingArea:{x:-21,y:-21,width:42,height:40}},{ID:6,name:"pig",graphicID:224,position:{x:315,y:202},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveToLocation",location:{x:311,y:173},speed:2}]},{triggers:[{ID:"touchObject",objectID:6,
object2ID:1}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:5},{ID:"counterSet",counter:5},{ID:"jumpToLocation",location:{x:111,y:340}}]},{triggers:[{ID:"touchObject",objectID:6,object2ID:7}],actions:[{ID:"moveInLocation",location:{x:309,y:85},speed:1}]},{triggers:[{ID:"touchArea",objectID:6,area:{x:291,y:31,width:32,height:34}}],actions:[{ID:"artToFrame",frame:2},{ID:"moveInDirection",angle:"0.00",speed:2}]},{triggers:[{ID:"touchArea",objectID:6,area:{x:509,y:63,width:32,height:34}}],actions:[{ID:"artToFrame",
frame:3},{ID:"moveInDirection",angle:"1.57",speed:2}]},{triggers:[{ID:"touchArea",objectID:6,area:{x:447,y:179,width:112,height:38}}],actions:[{ID:"artToFrame",frame:3},{ID:"moveInDirection",angle:"1.57",speed:3}]},{triggers:[{ID:"touchArea",objectID:6,area:{x:505,y:347,width:46,height:34}}],actions:[{ID:"artToFrame",frame:4},{ID:"moveInDirection",angle:"3.14",speed:2}]},{triggers:[{ID:"touchArea",objectID:6,area:{x:233,y:329,width:46,height:34}}],actions:[{ID:"artToFrame",frame:2},{ID:"moveInDirection",
angle:"0.00",speed:2}]}],boundingArea:{x:-19,y:-22,width:38,height:44}},{ID:5,name:"arr_left",graphicID:202,position:{x:525,y:323},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:7}]}]},{ID:4,name:"arr_down",graphicID:202,position:{x:560,y:358},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:5}]}]},{ID:3,name:"arr_right",graphicID:202,position:{x:596,y:323},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:3}]}]},{ID:2,name:"arr_up",
graphicID:202,position:{x:560,y:287},behaviours:[]},{ID:7,name:"tree",graphicID:227,position:{x:310,y:140},behaviours:[],boundingArea:{x:-83,y:-13,width:163,height:25}},{ID:1,name:"peasant",graphicID:225,position:{x:316,y:342},behaviours:[{triggers:[{ID:"clickObject",objectID:2}],actions:[{ID:"moveInDirection",angle:"-1.57",speed:2},{ID:"artToFrame",frame:2}]},{triggers:[{ID:"clickObject",objectID:3}],actions:[{ID:"moveInDirection",angle:"0.00",speed:2},{ID:"artToFrame",frame:3}]},{triggers:[{ID:"clickObject",
objectID:5}],actions:[{ID:"moveInDirection",angle:"3.14",speed:2},{ID:"artToFrame",frame:5}]},{triggers:[{ID:"clickObject",objectID:4}],actions:[{ID:"moveInDirection",angle:"1.57",speed:2},{ID:"artToFrame",frame:4}]},{triggers:[{ID:"touchObject",objectID:1,object2ID:13}],actions:[{ID:"moveStop"}]}],boundingArea:{x:-11,y:-27,width:26,height:47}}],graphics:[{ID:226,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/226/field_top.png?1353939074"},{ID:229,frameWidth:62,
frameHeight:62,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/229/dirndl_top.png?1353961566"},{ID:228,frameWidth:81,frameHeight:40,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/228/grill.png?1353958607"},{ID:224,frameWidth:52,frameHeight:52,frameCount:5,url:"http://s3.amazonaws.com/mbgfx/graphics/224/pig.png?1353933166"},{ID:202,frameWidth:32,frameHeight:32,frameCount:8,url:"http://s3.amazonaws.com/mbgfx/graphics/202/arrows_red.png?1352026777"},{ID:227,frameWidth:171,frameHeight:90,
frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/227/tree.png?1353956621"},{ID:225,frameWidth:66,frameHeight:66,frameCount:5,url:"http://s3.amazonaws.com/mbgfx/graphics/225/peasant.png?1353935894"}]},id:47}];window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}());(function(a,d){function e(b,f,a){if(a===d&&1===b.nodeType)if(a="data-"+f.replace(sc,"-$1").toLowerCase(),a=b.getAttribute(a),"string"==typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:tc.test(a)?c.parseJSON(a):a}catch(g){}c.data(b,f,a)}else a=d;return a}function h(b){for(var f in b)if(!("data"===f&&c.isEmptyObject(b[f]))&&"toJSON"!==f)return!1;return!0}function l(){return!1}function n(){return!0}function s(b){return!b||!b.parentNode||11===b.parentNode.nodeType}function u(b,
f){do b=b[f];while(b&&1!==b.nodeType);return b}function E(b,f,a){f=f||0;if(c.isFunction(f))return c.grep(b,function(b,c){return!!f.call(b,c,b)===a});if(f.nodeType)return c.grep(b,function(b){return b===f===a});if("string"==typeof f){var g=c.grep(b,function(b){return 1===b.nodeType});if(uc.test(f))return c.filter(f,g,!a);f=c.filter(f,g)}return c.grep(b,function(b){return 0<=c.inArray(b,f)===a})}function w(b){var f=nb.split("|"),b=b.createDocumentFragment();if(b.createElement)for(;f.length;)b.createElement(f.pop());
return b}function C(b,f){if(1===f.nodeType&&c.hasData(b)){var a,g,d;g=c._data(b);var i=c._data(f,g),j=g.events;if(j)for(a in delete i.handle,i.events={},j){g=0;for(d=j[a].length;g<d;g++)c.event.add(f,a,j[a][g])}i.data&&(i.data=c.extend({},i.data))}}function ba(b,f){var a;1===f.nodeType&&(f.clearAttributes&&f.clearAttributes(),f.mergeAttributes&&f.mergeAttributes(b),a=f.nodeName.toLowerCase(),"object"===a?(f.parentNode&&(f.outerHTML=b.outerHTML),c.support.html5Clone&&b.innerHTML&&!c.trim(f.innerHTML)&&
(f.innerHTML=b.innerHTML)):"input"===a&&ob.test(b.type)?(f.defaultChecked=f.checked=b.checked,f.value!==b.value&&(f.value=b.value)):"option"===a?f.selected=b.defaultSelected:"input"===a||"textarea"===a?f.defaultValue=b.defaultValue:"script"===a&&f.text!==b.text&&(f.text=b.text),f.removeAttribute(c.expando))}function na(b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll("*"):[]}function pb(b){ob.test(b.type)&&(b.defaultChecked=
b.checked)}function qb(b,f){if(f in b)return f;for(var a=f.charAt(0).toUpperCase()+f.slice(1),c=f,d=rb.length;d--;)if(f=rb[d]+a,f in b)return f;return c}function oa(b,f){return b=f||b,"none"===c.css(b,"display")||!c.contains(b.ownerDocument,b)}function sb(b,f){for(var a,g,d=[],i=0,j=b.length;i<j;i++)a=b[i],a.style&&(d[i]=c._data(a,"olddisplay"),f?(!d[i]&&"none"===a.style.display&&(a.style.display=""),""===a.style.display&&oa(a)&&(d[i]=c._data(a,"olddisplay",tb(a.nodeName)))):(g=F(a,"display"),!d[i]&&
"none"!==g&&c._data(a,"olddisplay",g)));for(i=0;i<j;i++)if(a=b[i],a.style&&(!f||"none"===a.style.display||""===a.style.display))a.style.display=f?d[i]||"":"none";return b}function ub(b,f,a){return(b=vc.exec(f))?Math.max(0,b[1]-(a||0))+(b[2]||"px"):f}function vb(b,f,a,g){for(var f=a===(g?"border":"content")?4:"width"===f?1:0,d=0;4>f;f+=2)"margin"===a&&(d+=c.css(b,a+U[f],!0)),g?("content"===a&&(d-=parseFloat(F(b,"padding"+U[f]))||0),"margin"!==a&&(d-=parseFloat(F(b,"border"+U[f]+"Width"))||0)):(d+=
parseFloat(F(b,"padding"+U[f]))||0,"padding"!==a&&(d+=parseFloat(F(b,"border"+U[f]+"Width"))||0));return d}function wb(b,f,a){var g="width"===f?b.offsetWidth:b.offsetHeight,d=!0,i=c.support.boxSizing&&"border-box"===c.css(b,"boxSizing");if(0>=g||null==g){g=F(b,f);if(0>g||null==g)g=b.style[f];if(pa.test(g))return g;d=i&&(c.support.boxSizingReliable||g===b.style[f]);g=parseFloat(g)||0}return g+vb(b,f,a||(i?"border":"content"),d)+"px"}function tb(b){if(Oa[b])return Oa[b];var f=c("<"+b+">").appendTo(t.body),
a=f.css("display");f.remove();if("none"===a||""===a){ca=t.body.appendChild(ca||c.extend(t.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!da||!ca.createElement)da=(ca.contentWindow||ca.contentDocument).document,da.write("<!doctype html><html><body>"),da.close();f=da.body.appendChild(da.createElement(b));a=F(f,"display");t.body.removeChild(ca)}return Oa[b]=a,a}function Pa(b,f,a,g){var d;if(c.isArray(f))c.each(f,function(f,c){a||wc.test(b)?g(b,c):Pa(b+"["+("object"==typeof c?f:"")+"]",
c,a,g)});else if(!a&&"object"===c.type(f))for(d in f)Pa(b+"["+d+"]",f[d],a,g);else g(b,f)}function xb(b){return function(f,a){"string"!=typeof f&&(a=f,f="*");var g,d,i=f.toLowerCase().split(V),j=0,e=i.length;if(c.isFunction(a))for(;j<e;j++)g=i[j],(d=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=b[g]=b[g]||[],g[d?"unshift":"push"](a)}}function qa(b,f,a,c,k,i){k=k||f.dataTypes[0];i=i||{};i[k]=!0;for(var j,k=b[k],e=0,m=k?k.length:0,r=b===Qa;e<m&&(r||!j);e++)j=k[e](f,a,c),"string"==typeof j&&(!r||i[j]?j=d:(f.dataTypes.unshift(j),
j=qa(b,f,a,c,j,i)));return(r||!j)&&!i["*"]&&(j=qa(b,f,a,c,"*",i)),j}function yb(b,f){var a,g,k=c.ajaxSettings.flatOptions||{};for(a in f)f[a]!==d&&((k[a]?b:g||(g={}))[a]=f[a]);g&&c.extend(!0,b,g)}function zb(){try{return new a.XMLHttpRequest}catch(b){}}function Ab(){return setTimeout(function(){ra=d},0),ra=c.now()}function Bb(b,f,a){var g,d=0,i=sa.length,j=c.Deferred().always(function(){delete e.elem}),e=function(){for(var f=ra||Ab(),f=Math.max(0,m.startTime+m.duration-f),a=1-(f/m.duration||0),p=
0,c=m.tweens.length;p<c;p++)m.tweens[p].run(a);return j.notifyWith(b,[m,a,f]),1>a&&c?f:(j.resolveWith(b,[m]),!1)},m=j.promise({elem:b,props:c.extend({},f),opts:c.extend(!0,{specialEasing:{}},a),originalProperties:f,originalOptions:a,startTime:ra||Ab(),duration:a.duration,tweens:[],createTween:function(f,a){var p=c.Tween(b,m.opts,f,a,m.opts.specialEasing[f]||m.opts.easing);return m.tweens.push(p),p},stop:function(f){for(var a=0,p=f?m.tweens.length:0;a<p;a++)m.tweens[a].run(1);return f?j.resolveWith(b,
[m,f]):j.rejectWith(b,[m,f]),this}}),f=m.props,a=m.opts.specialEasing,r,h,q,l;for(g in f)if(r=c.camelCase(g),h=a[r],q=f[g],c.isArray(q)&&(h=q[1],q=f[g]=q[0]),g!==r&&(f[r]=q,delete f[g]),(l=c.cssHooks[r])&&"expand"in l)for(g in q=l.expand(q),delete f[r],q)g in f||(f[g]=q[g],a[g]=h);else a[r]=h;for(;d<i;d++)if(g=sa[d].call(m,b,f,m.opts))return g;var yc=m;c.each(f,function(b,f){for(var a=(ia[b]||[]).concat(ia["*"]),p=0,c=a.length;p<c&&!a[p].call(yc,b,f);p++);});return c.isFunction(m.opts.start)&&m.opts.start.call(b,
m),c.fx.timer(c.extend(e,{anim:m,queue:m.opts.queue,elem:b})),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function D(b,f,a,c,d){return new D.prototype.init(b,f,a,c,d)}function ta(b,f){for(var a,c={height:b},d=0,f=f?1:0;4>d;d+=2-f)a=U[d],c["margin"+a]=c["padding"+a]=b;return f&&(c.opacity=c.width=b),c}function Cb(b){return c.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var Db,ua,t=a.document,zc=a.location,Ac=a.navigator,Bc=
a.jQuery,Cc=a.$,Eb=Array.prototype.push,Q=Array.prototype.slice,Fb=Array.prototype.indexOf,Dc=Object.prototype.toString,Ra=Object.prototype.hasOwnProperty,Sa=String.prototype.trim,c=function(b,f){return new c.fn.init(b,f,Db)},va=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Ec=/\S/,V=/\s+/,Fc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Gc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hc=/^[\],:{}\s]*$/,Ic=/(?:^|:|,)(?:\s*\[)+/g,Jc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Kc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,
Lc=/^-ms-/,Mc=/-([\da-z])/gi,Nc=function(b,f){return(f+"").toUpperCase()},wa=function(){t.addEventListener?(t.removeEventListener("DOMContentLoaded",wa,!1),c.ready()):"complete"===t.readyState&&(t.detachEvent("onreadystatechange",wa),c.ready())},Hb={};c.fn=c.prototype={constructor:c,init:function(b,f,a){var g,k;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"==typeof b){"<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?g=[null,b,null]:g=Gc.exec(b);
if(g&&(g[1]||!f)){if(g[1])return f=f instanceof c?f[0]:f,k=f&&f.nodeType?f.ownerDocument||f:t,b=c.parseHTML(g[1],k,!0),Gb.test(g[1])&&c.isPlainObject(f)&&this.attr.call(b,f,!0),c.merge(this,b);if((f=t.getElementById(g[2]))&&f.parentNode){if(f.id!==g[2])return a.find(b);this.length=1;this[0]=f}return this.context=t,this.selector=b,this}return!f||f.jquery?(f||a).find(b):this.constructor(f).find(b)}return c.isFunction(b)?a.ready(b):(b.selector!==d&&(this.selector=b.selector,this.context=b.context),c.makeArray(b,
this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return Q.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b,f,a){b=c.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,"find"===f?b.selector=this.selector+(this.selector?" ":"")+a:f&&(b.selector=this.selector+"."+f+"("+a+")"),b},each:function(b,f){return c.each(this,b,f)},ready:function(b){return c.ready.promise().done(b),
this},eq:function(b){return b=+b,-1===b?this.slice(b):this.slice(b,b+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Q.apply(this,arguments),"slice",Q.call(arguments).join(","))},map:function(b){return this.pushStack(c.map(this,function(f,a){return b.call(f,a,f)}))},end:function(){return this.prevObject||this.constructor(null)},push:Eb,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var b,f,
a,g,k,i,j=arguments[0]||{},e=1,m=arguments.length,r=!1;"boolean"==typeof j&&(r=j,j=arguments[1]||{},e=2);"object"!=typeof j&&!c.isFunction(j)&&(j={});for(m===e&&(j=this,--e);e<m;e++)if(null!=(b=arguments[e]))for(f in b)a=j[f],g=b[f],j!==g&&(r&&g&&(c.isPlainObject(g)||(k=c.isArray(g)))?(k?(k=!1,i=a&&c.isArray(a)?a:[]):i=a&&c.isPlainObject(a)?a:{},j[f]=c.extend(r,i,g)):g!==d&&(j[f]=g));return j};c.extend({noConflict:function(b){return a.$===c&&(a.$=Cc),b&&a.jQuery===c&&(a.jQuery=Bc),c},isReady:!1,readyWait:1,
holdReady:function(b){b?c.readyWait++:c.ready(!0)},ready:function(b){if(!(!0===b?--c.readyWait:c.isReady)){if(!t.body)return setTimeout(c.ready,1);c.isReady=!0;!0!==b&&0<--c.readyWait||(ua.resolveWith(t,[c]),c.fn.trigger&&c(t).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===c.type(b)},isArray:Array.isArray||function(b){return"array"===c.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},type:function(b){return null==
b?String(b):Hb[Dc.call(b)]||"object"},isPlainObject:function(b){if(!b||"object"!==c.type(b)||b.nodeType||c.isWindow(b))return!1;try{if(b.constructor&&!Ra.call(b,"constructor")&&!Ra.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(var a in b);return a===d||Ra.call(b,a)},isEmptyObject:function(b){for(var f in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,f,a){var g;return!b||"string"!=typeof b?null:("boolean"==typeof f&&(a=f,f=0),f=f||t,(g=
Gb.exec(b))?[f.createElement(g[1])]:(g=c.buildFragment([b],f,a?null:[]),c.merge([],(g.cacheable?c.clone(g.fragment):g.fragment).childNodes)))},parseJSON:function(b){if(!b||"string"!=typeof b)return null;b=c.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(Hc.test(b.replace(Jc,"@").replace(Kc,"]").replace(Ic,"")))return(new Function("return "+b))();c.error("Invalid JSON: "+b)},parseXML:function(b){var f,p;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(p=new DOMParser,f=p.parseFromString(b,
"text/xml")):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(b))}catch(g){f=d}return(!f||!f.documentElement||f.getElementsByTagName("parsererror").length)&&c.error("Invalid XML: "+b),f},noop:function(){},globalEval:function(b){b&&Ec.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(b){return b.replace(Lc,"ms-").replace(Mc,Nc)},nodeName:function(b,f){return b.nodeName&&b.nodeName.toLowerCase()===f.toLowerCase()},each:function(b,f,a){var g,k=0,i=b.length,
j=i===d||c.isFunction(b);if(a)if(j)for(g in b){if(!1===f.apply(b[g],a))break}else for(;k<i&&!1!==f.apply(b[k++],a););else if(j)for(g in b){if(!1===f.call(b[g],g,b[g]))break}else for(;k<i&&!1!==f.call(b[k],k,b[k++]););return b},trim:Sa&&!Sa.call("\ufeff ")?function(b){return null==b?"":Sa.call(b)}:function(b){return null==b?"":(b+"").replace(Fc,"")},makeArray:function(b,f){var a,g=f||[];return null!=b&&(a=c.type(b),null==b.length||"string"===a||"function"===a||"regexp"===a||c.isWindow(b)?Eb.call(g,
b):c.merge(g,b)),g},inArray:function(b,f,a){var c;if(f){if(Fb)return Fb.call(f,b,a);c=f.length;for(a=a?0>a?Math.max(0,c+a):a:0;a<c;a++)if(a in f&&f[a]===b)return a}return-1},merge:function(b,f){var a=f.length,c=b.length,k=0;if("number"==typeof a)for(;k<a;k++)b[c++]=f[k];else for(;f[k]!==d;)b[c++]=f[k++];return b.length=c,b},grep:function(b,f,a){for(var c,d=[],i=0,j=b.length,a=!!a;i<j;i++)c=!!f(b[i],i),a!==c&&d.push(b[i]);return d},map:function(b,f,a){var g,k,i=[],j=0,e=b.length;if(b instanceof c||
e!==d&&"number"==typeof e&&(0<e&&b[0]&&b[e-1]||0===e||c.isArray(b)))for(;j<e;j++)g=f(b[j],j,a),null!=g&&(i[i.length]=g);else for(k in b)g=f(b[k],k,a),null!=g&&(i[i.length]=g);return i.concat.apply([],i)},guid:1,proxy:function(b,f){var a,g,k;return"string"==typeof f&&(a=b[f],f=b,b=a),c.isFunction(b)?(g=Q.call(arguments,2),k=function(){return b.apply(f,g.concat(Q.call(arguments)))},k.guid=b.guid=b.guid||c.guid++,k):d},access:function(b,f,a,g,k,i,j){var e,m=null==a,r=0,h=b.length;if(a&&"object"==typeof a){for(r in a)c.access(b,
f,r,a[r],1,i,g);k=1}else if(g!==d){e=j===d&&c.isFunction(g);m&&(e?(e=f,f=function(b,f,a){return e.call(c(b),a)}):(f.call(b,g),f=null));if(f)for(;r<h;r++)f(b[r],a,e?g.call(b[r],r,f(b[r],a)):g,j);k=1}return k?b:m?f.call(b):h?f(b[0],a):i},now:function(){return(new Date).getTime()}});c.ready.promise=function(b){if(!ua)if(ua=c.Deferred(),"complete"===t.readyState)setTimeout(c.ready,1);else if(t.addEventListener)t.addEventListener("DOMContentLoaded",wa,!1),a.addEventListener("load",c.ready,!1);else{t.attachEvent("onreadystatechange",
wa);a.attachEvent("onload",c.ready);var f=!1;try{f=null==a.frameElement&&t.documentElement}catch(p){}f&&f.doScroll&&function k(){if(!c.isReady){try{f.doScroll("left")}catch(b){return setTimeout(k,50)}c.ready()}}()}return ua.promise(b)};c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b,f){Hb["[object "+f+"]"]=f.toLowerCase()});Db=c(t);var Ib={};c.Callbacks=function(b){var f;if("string"==typeof b){if(!(f=Ib[b])){f=b;var a=Ib[f]={};f=(c.each(f.split(V),function(b,
f){a[f]=!0}),a)}}else f=c.extend({},b);var b=f,g,k,i,j,e,m,r=[],h=!b.once&&[],q=function(f){g=b.memory&&f;k=!0;m=j||0;j=0;e=r.length;for(i=!0;r&&m<e;m++)if(!1===r[m].apply(f[0],f[1])&&b.stopOnFalse){g=!1;break}i=!1;r&&(h?h.length&&q(h.shift()):g?r=[]:l.disable())},l={add:function(){if(r){var f=r.length;(function xc(f){c.each(f,function(f,a){var p=c.type(a);"function"===p&&(!b.unique||!l.has(a))?r.push(a):a&&a.length&&"string"!==p&&xc(a)})})(arguments);i?e=r.length:g&&(j=f,q(g))}return this},remove:function(){return r&&
c.each(arguments,function(b,f){for(var a;-1<(a=c.inArray(f,r,a));)r.splice(a,1),i&&(a<=e&&e--,a<=m&&m--)}),this},has:function(b){return-1<c.inArray(b,r)},empty:function(){return r=[],this},disable:function(){return r=h=g=d,this},disabled:function(){return!r},lock:function(){return h=d,g||l.disable(),this},locked:function(){return!h},fireWith:function(b,f){return f=f||[],f=[b,f.slice?f.slice():f],r&&(!k||h)&&(i?h.push(f):q(f)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!k}};
return l};c.extend({Deferred:function(b){var f=[["resolve","done",c.Callbacks("once memory"),"resolved"],["reject","fail",c.Callbacks("once memory"),"rejected"],["notify","progress",c.Callbacks("memory")]],a="pending",g={state:function(){return a},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var b=arguments;return c.Deferred(function(a){c.each(f,function(f,p){var g=p[0],e=b[f];d[p[1]](c.isFunction(e)?function(){var b=e.apply(this,arguments);b&&c.isFunction(b.promise)?
b.promise().done(a.resolve).fail(a.reject).progress(a.notify):a[g+"With"](this===d?a:this,[b])}:a[g])});b=null}).promise()},promise:function(b){return null!=b?c.extend(b,g):g}},d={};return g.pipe=g.then,c.each(f,function(b,c){var e=c[2],m=c[3];g[c[1]]=e.add;m&&e.add(function(){a=m},f[b^1][2].disable,f[2][2].lock);d[c[0]]=e.fire;d[c[0]+"With"]=e.fireWith}),g.promise(d),b&&b.call(d,d),d},when:function(b){var f=0,a=Q.call(arguments),g=a.length,d=1!==g||b&&c.isFunction(b.promise)?g:0,i=1===d?b:c.Deferred(),
j=function(b,f,a){return function(c){f[b]=this;a[b]=1<arguments.length?Q.call(arguments):c;a===e?i.notifyWith(f,a):--d||i.resolveWith(f,a)}},e,m,r;if(1<g){e=Array(g);m=Array(g);for(r=Array(g);f<g;f++)a[f]&&c.isFunction(a[f].promise)?a[f].promise().done(j(f,r,a)).fail(i.reject).progress(j(f,m,e)):--d}return d||i.resolveWith(r,a),i.promise()}});var Oc=c,Ta;var y,xa,W,ya,za,H,X,Aa,Ua,ja,Jb,z=t.createElement("div");z.setAttribute("className","t");z.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
xa=z.getElementsByTagName("*");W=z.getElementsByTagName("a")[0];W.style.cssText="top:1px;float:left;opacity:.5";if(!xa||!xa.length)Ta={};else{ya=t.createElement("select");za=ya.appendChild(t.createElement("option"));H=z.getElementsByTagName("input")[0];y={leadingWhitespace:3===z.firstChild.nodeType,tbody:!z.getElementsByTagName("tbody").length,htmlSerialize:!!z.getElementsByTagName("link").length,style:/top/.test(W.getAttribute("style")),hrefNormalized:"/a"===W.getAttribute("href"),opacity:/^0.5/.test(W.style.opacity),
cssFloat:!!W.style.cssFloat,checkOn:"on"===H.value,optSelected:za.selected,getSetAttribute:"t"!==z.className,enctype:!!t.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==t.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===t.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};H.checked=!0;y.noCloneChecked=H.cloneNode(!0).checked;
ya.disabled=!0;y.optDisabled=!za.disabled;try{delete z.test}catch(Qd){y.deleteExpando=!1}!z.addEventListener&&z.attachEvent&&z.fireEvent&&(z.attachEvent("onclick",Jb=function(){y.noCloneEvent=!1}),z.cloneNode(!0).fireEvent("onclick"),z.detachEvent("onclick",Jb));H=t.createElement("input");H.value="t";H.setAttribute("type","radio");y.radioValue="t"===H.value;H.setAttribute("checked","checked");H.setAttribute("name","t");z.appendChild(H);X=t.createDocumentFragment();X.appendChild(z.lastChild);y.checkClone=
X.cloneNode(!0).cloneNode(!0).lastChild.checked;y.appendChecked=H.checked;X.removeChild(H);X.appendChild(z);if(z.attachEvent)for(Ua in{submit:!0,change:!0,focusin:!0})Aa="on"+Ua,(ja=Aa in z)||(z.setAttribute(Aa,"return;"),ja="function"==typeof z[Aa]),y[Ua+"Bubbles"]=ja;Ta=(c(function(){var b,f,c,g,d=t.getElementsByTagName("body")[0];d&&(b=t.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",d.insertBefore(b,d.firstChild),f=t.createElement("div"),
b.appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=f.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",ja=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",y.reliableHiddenOffsets=ja&&0===c[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",y.boxSizing=
4===f.offsetWidth,y.doesNotIncludeMarginInBodyOffset=1!==d.offsetTop,a.getComputedStyle&&(y.pixelPosition="1%"!==(a.getComputedStyle(f,null)||{}).top,y.boxSizingReliable="4px"===(a.getComputedStyle(f,null)||{width:"4px"}).width,g=t.createElement("div"),g.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",g.style.marginRight=g.style.width="0",f.style.width="1px",f.appendChild(g),y.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),
"undefined"!=typeof f.style.zoom&&(f.innerHTML="",f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",y.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.style.overflow="visible",f.innerHTML="<div></div>",f.firstChild.style.width="5px",y.shrinkWrapBlocks=3!==f.offsetWidth,b.style.zoom=1),d.removeChild(b))}),X.removeChild(z),xa=W=ya=za=H=X=z=null,y)}Oc.support=Ta;var tc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sc=/([A-Z])/g;
c.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){return b=b.nodeType?c.cache[b[c.expando]]:b[c.expando],!!b&&!h(b)},data:function(b,f,a,g){if(c.acceptData(b)){var k,i,j=c.expando,e="string"==typeof f,m=b.nodeType,r=m?c.cache:b,h=m?b[j]:b[j]&&j;if(h&&r[h]&&(g||r[h].data)||!(e&&a===d)){h||(m?b[j]=h=c.deletedIds.pop()||c.guid++:h=j);r[h]||(r[h]={},
m||(r[h].toJSON=c.noop));if("object"==typeof f||"function"==typeof f)g?r[h]=c.extend(r[h],f):r[h].data=c.extend(r[h].data,f);return k=r[h],g||(k.data||(k.data={}),k=k.data),a!==d&&(k[c.camelCase(f)]=a),e?(i=k[f],null==i&&(i=k[c.camelCase(f)])):i=k,i}}},removeData:function(b,f,a){if(c.acceptData(b)){var g,d,i,j=b.nodeType,e=j?c.cache:b,m=j?b[c.expando]:c.expando;if(e[m]){if(f&&(g=a?e[m]:e[m].data)){c.isArray(f)||(f in g?f=[f]:(f=c.camelCase(f),f in g?f=[f]:f=f.split(" ")));d=0;for(i=f.length;d<i;d++)delete g[f[d]];
if(!(a?h:c.isEmptyObject)(g))return}if(!a&&(delete e[m].data,!h(e[m])))return;j?c.cleanData([b],!0):c.support.deleteExpando||e!=e.window?delete e[m]:e[m]=null}}},_data:function(b,f,a){return c.data(b,f,a,!0)},acceptData:function(b){var f=b.nodeName&&c.noData[b.nodeName.toLowerCase()];return!f||!0!==f&&b.getAttribute("classid")===f}});c.fn.extend({data:function(b,f){var a,g,k,i,j,L=this[0],m=0,h=null;if(b===d){if(this.length&&(h=c.data(L),1===L.nodeType&&!c._data(L,"parsedAttrs"))){k=L.attributes;
for(j=k.length;m<j;m++)i=k[m].name,i.indexOf("data-")||(i=c.camelCase(i.substring(5)),e(L,i,h[i]));c._data(L,"parsedAttrs",!0)}return h}return"object"==typeof b?this.each(function(){c.data(this,b)}):(a=b.split(".",2),a[1]=a[1]?"."+a[1]:"",g=a[1]+"!",c.access(this,function(f){if(f===d)return h=this.triggerHandler("getData"+g,[a[0]]),h===d&&L&&(h=c.data(L,b),h=e(L,b,h)),h===d&&a[1]?this.data(a[0]):h;a[1]=f;this.each(function(){var d=c(this);d.triggerHandler("setData"+g,a);c.data(this,b,f);d.triggerHandler("changeData"+
g,a)})},null,f,1<arguments.length,null,!1))},removeData:function(b){return this.each(function(){c.removeData(this,b)})}});c.extend({queue:function(b,f,a){var d;if(b)return f=(f||"fx")+"queue",d=c._data(b,f),a&&(!d||c.isArray(a)?d=c._data(b,f,c.makeArray(a)):d.push(a)),d||[]},dequeue:function(b,f){var f=f||"fx",a=c.queue(b,f),d=a.length,k=a.shift(),i=c._queueHooks(b,f),j=function(){c.dequeue(b,f)};"inprogress"===k&&(k=a.shift(),d--);k&&("fx"===f&&a.unshift("inprogress"),delete i.stop,k.call(b,j,i));
!d&&i&&i.empty.fire()},_queueHooks:function(b,f){var a=f+"queueHooks";return c._data(b,a)||c._data(b,a,{empty:c.Callbacks("once memory").add(function(){c.removeData(b,f+"queue",!0);c.removeData(b,a,!0)})})}});c.fn.extend({queue:function(b,f){var a=2;return"string"!=typeof b&&(f=b,b="fx",a--),arguments.length<a?c.queue(this[0],b):f===d?this:this.each(function(){var a=c.queue(this,b,f);c._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&c.dequeue(this,b)})},dequeue:function(b){return this.each(function(){c.dequeue(this,
b)})},delay:function(b,f){return b=c.fx?c.fx.speeds[b]||b:b,f=f||"fx",this.queue(f,function(f,a){var c=setTimeout(f,b);a.stop=function(){clearTimeout(c)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,f){var a,g=1,k=c.Deferred(),i=this,j=this.length,e=function(){--g||k.resolveWith(i,[i])};"string"!=typeof b&&(f=b,b=d);for(b=b||"fx";j--;)(a=c._data(i[j],b+"queueHooks"))&&a.empty&&(g++,a.empty.add(e));return e(),k.promise(f)}});var R,Kb,Lb,Mb=/[\t\r\n]/g,Pc=/\r/g,Qc=/^(?:button|input)$/i,
Rc=/^(?:button|input|object|select|textarea)$/i,Sc=/^a(?:rea|)$/i,Nb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ob=c.support.getSetAttribute;c.fn.extend({attr:function(b,f){return c.access(this,c.attr,b,f,1<arguments.length)},removeAttr:function(b){return this.each(function(){c.removeAttr(this,b)})},prop:function(b,f){return c.access(this,c.prop,b,f,1<arguments.length)},removeProp:function(b){return b=c.propFix[b]||
b,this.each(function(){try{this[b]=d,delete this[b]}catch(f){}})},addClass:function(b){var f,a,d,k,i,j,e;if(c.isFunction(b))return this.each(function(f){c(this).addClass(b.call(this,f,this.className))});if(b&&"string"==typeof b){f=b.split(V);a=0;for(d=this.length;a<d;a++)if(k=this[a],1===k.nodeType)if(!k.className&&1===f.length)k.className=b;else{i=" "+k.className+" ";j=0;for(e=f.length;j<e;j++)0>i.indexOf(" "+f[j]+" ")&&(i+=f[j]+" ");k.className=c.trim(i)}}return this},removeClass:function(b){var f,
a,g,k,i,j,e;if(c.isFunction(b))return this.each(function(f){c(this).removeClass(b.call(this,f,this.className))});if(b&&"string"==typeof b||b===d){f=(b||"").split(V);j=0;for(e=this.length;j<e;j++)if(g=this[j],1===g.nodeType&&g.className){a=(" "+g.className+" ").replace(Mb," ");k=0;for(i=f.length;k<i;k++)for(;0<=a.indexOf(" "+f[k]+" ");)a=a.replace(" "+f[k]+" "," ");g.className=b?c.trim(a):""}}return this},toggleClass:function(b,f){var a=typeof b,d="boolean"==typeof f;return c.isFunction(b)?this.each(function(a){c(this).toggleClass(b.call(this,
a,this.className,f),f)}):this.each(function(){if("string"===a)for(var k,i=0,j=c(this),e=f,m=b.split(V);k=m[i++];)e=d?e:!j.hasClass(k),j[e?"addClass":"removeClass"](k);else if("undefined"===a||"boolean"===a)this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===b?"":c._data(this,"__className__")||""})},hasClass:function(b){for(var b=" "+b+" ",f=0,a=this.length;f<a;f++)if(1===this[f].nodeType&&0<=(" "+this[f].className+" ").replace(Mb," ").indexOf(b))return!0;
return!1},val:function(b){var f,a,g,k=this[0];if(arguments.length)return g=c.isFunction(b),this.each(function(a){var p,k=c(this);if(1===this.nodeType&&(g?p=b.call(this,a,k.val()):p=b,null==p?p="":"number"==typeof p?p+="":c.isArray(p)&&(p=c.map(p,function(b){return null==b?"":b+""})),f=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],!f||!("set"in f)||f.set(this,p,"value")===d))this.value=p});if(k)return f=c.valHooks[k.type]||c.valHooks[k.nodeName.toLowerCase()],f&&"get"in f&&(a=f.get(k,
"value"))!==d?a:(a=k.value,"string"==typeof a?a.replace(Pc,""):null==a?"":a)}});c.extend({valHooks:{option:{get:function(b){var a=b.attributes.value;return!a||a.specified?b.value:b.text}},select:{get:function(b){var a,d,g=b.selectedIndex,k=[],i=b.options,j="select-one"===b.type;if(0>g)return null;b=j?g:0;for(d=j?g+1:i.length;b<d;b++)if(a=i[b],a.selected&&(c.support.optDisabled?!a.disabled:null===a.getAttribute("disabled"))&&(!a.parentNode.disabled||!c.nodeName(a.parentNode,"optgroup"))){a=c(a).val();
if(j)return a;k.push(a)}return j&&!k.length&&i.length?c(i[g]).val():k},set:function(b,a){var d=c.makeArray(a);return c(b).find("option").each(function(){this.selected=0<=c.inArray(c(this).val(),d)}),d.length||(b.selectedIndex=-1),d}}},attrFn:{},attr:function(b,a,p,g){var k,i,j=b.nodeType;if(b&&!(3===j||8===j||2===j)){if(g&&c.isFunction(c.fn[a]))return c(b)[a](p);if("undefined"==typeof b.getAttribute)return c.prop(b,a,p);(g=1!==j||!c.isXMLDoc(b))&&(a=a.toLowerCase(),i=c.attrHooks[a]||(Nb.test(a)?Kb:
R));if(p!==d){if(null===p){c.removeAttr(b,a);return}return i&&"set"in i&&g&&(k=i.set(b,p,a))!==d?k:(b.setAttribute(a,p+""),p)}return i&&"get"in i&&g&&null!==(k=i.get(b,a))?k:(k=b.getAttribute(a),null===k?d:k)}},removeAttr:function(b,a){var d,g,k,i,j=0;if(a&&1===b.nodeType)for(g=a.split(V);j<g.length;j++)(k=g[j])&&(d=c.propFix[k]||k,i=Nb.test(k),i||c.attr(b,k,""),b.removeAttribute(Ob?k:d),i&&d in b&&(b[d]=!1))},attrHooks:{type:{set:function(b,a){if(Qc.test(b.nodeName)&&b.parentNode)c.error("type property can't be changed");
else if(!c.support.radioValue&&"radio"===a&&c.nodeName(b,"input")){var d=b.value;return b.setAttribute("type",a),d&&(b.value=d),a}}},value:{get:function(b,a){return R&&c.nodeName(b,"button")?R.get(b,a):a in b?b.value:null},set:function(b,a,d){if(R&&c.nodeName(b,"button"))return R.set(b,a,d);b.value=a}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,a,p){var g,k,i,j=b.nodeType;if(b&&!(3===j||8===j||2===j))return i=1!==j||!c.isXMLDoc(b),i&&(a=c.propFix[a]||a,k=c.propHooks[a]),p!==d?k&&"set"in k&&(g=k.set(b,p,a))!==d?g:b[a]=p:k&&"get"in k&&null!==(g=k.get(b,a))?g:b[a]},propHooks:{tabIndex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Rc.test(b.nodeName)||Sc.test(b.nodeName)&&b.href?0:d}}}});Kb={get:function(b,a){var p,
g=c.prop(b,a);return!0===g||"boolean"!=typeof g&&(p=b.getAttributeNode(a))&&!1!==p.nodeValue?a.toLowerCase():d},set:function(b,a,d){var g;return!1===a?c.removeAttr(b,d):(g=c.propFix[d]||d,g in b&&(b[g]=!0),b.setAttribute(d,d.toLowerCase())),d}};Ob||(Lb={name:!0,id:!0,coords:!0},R=c.valHooks.button={get:function(b,a){var c;return c=b.getAttributeNode(a),c&&(Lb[a]?""!==c.value:c.specified)?c.value:d},set:function(b,a,c){var d=b.getAttributeNode(c);return d||(d=t.createAttribute(c),b.setAttributeNode(d)),
d.value=a+""}},c.each(["width","height"],function(b,a){c.attrHooks[a]=c.extend(c.attrHooks[a],{set:function(b,c){if(""===c)return b.setAttribute(a,"auto"),c}})}),c.attrHooks.contenteditable={get:R.get,set:function(b,a,c){""===a&&(a="false");R.set(b,a,c)}});c.support.hrefNormalized||c.each(["href","src","width","height"],function(b,a){c.attrHooks[a]=c.extend(c.attrHooks[a],{get:function(b){b=b.getAttribute(a,2);return null===b?d:b}})});c.support.style||(c.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
d},set:function(b,a){return b.style.cssText=a+""}});c.support.optSelected||(c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}));c.support.enctype||(c.propFix.enctype="encoding");c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],
{set:function(b,a){if(c.isArray(a))return b.checked=0<=c.inArray(c(b).val(),a)}})});var Va=/^(?:textarea|input|select)$/i,Pb=/^([^\.]*|)(?:\.(.+)|)$/,Tc=/(?:^|\s)hover(\.\S+|)\b/,Uc=/^key/,Vc=/^(?:mouse|contextmenu)|click/,Qb=/^(?:focusinfocus|focusoutblur)$/,Rb=function(b){return c.event.special.hover?b:b.replace(Tc,"mouseenter$1 mouseleave$1")};c.event={add:function(b,a,p,g,k){var i,j,e,m,h,l,q,n,s;if(!(3===b.nodeType||8===b.nodeType||!a||!p||!(i=c._data(b)))){p.handler&&(q=p,p=q.handler,k=q.selector);
p.guid||(p.guid=c.guid++);(e=i.events)||(i.events=e={});(j=i.handle)||(i.handle=j=function(b){return"undefined"!=typeof c&&(!b||c.event.triggered!==b.type)?c.event.dispatch.apply(j.elem,arguments):d},j.elem=b);a=c.trim(Rb(a)).split(" ");for(i=0;i<a.length;i++){m=Pb.exec(a[i])||[];h=m[1];l=(m[2]||"").split(".").sort();s=c.event.special[h]||{};h=(k?s.delegateType:s.bindType)||h;s=c.event.special[h]||{};m=c.extend({type:h,origType:m[1],data:g,handler:p,guid:p.guid,selector:k,needsContext:k&&c.expr.match.needsContext.test(k),
namespace:l.join(".")},q);n=e[h];if(!n&&(n=e[h]=[],n.delegateCount=0,!s.setup||!1===s.setup.call(b,g,l,j)))b.addEventListener?b.addEventListener(h,j,!1):b.attachEvent&&b.attachEvent("on"+h,j);s.add&&(s.add.call(b,m),m.handler.guid||(m.handler.guid=p.guid));k?n.splice(n.delegateCount++,0,m):n.push(m);c.event.global[h]=!0}b=null}},global:{},remove:function(b,a,d,g,k){var i,j,e,m,h,l,q,n,s,t,u=c.hasData(b)&&c._data(b);if(u&&(q=u.events)){a=c.trim(Rb(a||"")).split(" ");for(i=0;i<a.length;i++)if(j=Pb.exec(a[i])||
[],e=m=j[1],j=j[2],e){n=c.event.special[e]||{};e=(g?n.delegateType:n.bindType)||e;s=q[e]||[];h=s.length;j=j?RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<s.length;l++)t=s[l],(k||m===t.origType)&&(!d||d.guid===t.guid)&&(!j||j.test(t.namespace))&&(!g||g===t.selector||"**"===g&&t.selector)&&(s.splice(l--,1),t.selector&&s.delegateCount--,n.remove&&n.remove.call(b,t));0===s.length&&h!==s.length&&((!n.teardown||!1===n.teardown.call(b,j,u.handle))&&c.removeEvent(b,
e,u.handle),delete q[e])}else for(e in q)c.event.remove(b,e+a[i],d,g,!0);c.isEmptyObject(q)&&(delete u.handle,c.removeData(b,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,f,p,g){if(!p||3!==p.nodeType&&8!==p.nodeType){var k,i,j,e,m,h,l,q=b.type||b;e=[];if(!Qb.test(q+c.event.triggered)&&(0<=q.indexOf("!")&&(q=q.slice(0,-1),k=!0),0<=q.indexOf(".")&&(e=q.split("."),q=e.shift(),e.sort()),p&&!c.event.customEvent[q]||c.event.global[q]))if(b="object"==typeof b?b[c.expando]?
b:new c.Event(q,b):new c.Event(q),b.type=q,b.isTrigger=!0,b.exclusive=k,b.namespace=e.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e=0>q.indexOf(":")?"on"+q:"",p){if(b.result=d,b.target||(b.target=p),f=null!=f?c.makeArray(f):[],f.unshift(b),m=c.event.special[q]||{},!(m.trigger&&!1===m.trigger.apply(p,f))){l=[[p,m.bindType||q]];if(!g&&!m.noBubble&&!c.isWindow(p)){i=m.delegateType||q;k=Qb.test(i+q)?p:p.parentNode;for(j=p;k;k=k.parentNode)l.push([k,i]),
j=k;j===(p.ownerDocument||t)&&l.push([j.defaultView||j.parentWindow||a,i])}for(i=0;i<l.length&&!b.isPropagationStopped();i++)k=l[i][0],b.type=l[i][1],(h=(c._data(k,"events")||{})[b.type]&&c._data(k,"handle"))&&h.apply(k,f),(h=e&&k[e])&&c.acceptData(k)&&h.apply&&!1===h.apply(k,f)&&b.preventDefault();return b.type=q,!g&&!b.isDefaultPrevented()&&(!m._default||!1===m._default.apply(p.ownerDocument,f))&&("click"!==q||!c.nodeName(p,"a"))&&c.acceptData(p)&&e&&p[q]&&("focus"!==q&&"blur"!==q||0!==b.target.offsetWidth)&&
!c.isWindow(p)&&(j=p[e],j&&(p[e]=null),c.event.triggered=q,p[q](),c.event.triggered=d,j&&(p[e]=j)),b.result}}else for(i in p=c.cache,p)p[i].events&&p[i].events[q]&&c.event.trigger(b,f,p[i].handle.elem,!0)}},dispatch:function(b){var b=c.event.fix(b||a.event),f,p,g,k,e,j,h=(c._data(this,"events")||{})[b.type]||[],m=h.delegateCount,r=Q.call(arguments),l=!b.exclusive&&!b.namespace,q=c.event.special[b.type]||{},n=[];r[0]=b;b.delegateTarget=this;if(!(q.preDispatch&&!1===q.preDispatch.call(this,b))){if(m&&
(!b.button||"click"!==b.type))for(p=b.target;p!=this;p=p.parentNode||this)if(!0!==p.disabled||"click"!==b.type){k={};e=[];for(f=0;f<m;f++)g=h[f],j=g.selector,k[j]===d&&(k[j]=g.needsContext?0<=c(j,this).index(p):c.find(j,this,null,[p]).length),k[j]&&e.push(g);e.length&&n.push({elem:p,matches:e})}h.length>m&&n.push({elem:this,matches:h.slice(m)});for(f=0;f<n.length&&!b.isPropagationStopped();f++){k=n[f];b.currentTarget=k.elem;for(p=0;p<k.matches.length&&!b.isImmediatePropagationStopped();p++)if(g=k.matches[p],
l||!b.namespace&&!g.namespace||b.namespace_re&&b.namespace_re.test(g.namespace))b.data=g.data,b.handleObj=g,g=((c.event.special[g.origType]||{}).handle||g.handler).apply(k.elem,r),g!==d&&(b.result=g,!1===g&&(b.preventDefault(),b.stopPropagation()))}return q.postDispatch&&q.postDispatch.call(this,b),b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){return null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var c,g,k,e=a.button,j=a.fromElement;return null==b.pageX&&null!=a.clientX&&(c=b.target.ownerDocument||t,g=c.documentElement,k=c.body,b.pageX=a.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||0)-(g&&g.clientLeft||
k&&k.clientLeft||0),b.pageY=a.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)),!b.relatedTarget&&j&&(b.relatedTarget=j===b.target?a.toElement:j),!b.which&&e!==d&&(b.which=e&1?1:e&2?3:e&4?2:0),b}},fix:function(b){if(b[c.expando])return b;var a,d,g=b,k=c.event.fixHooks[b.type]||{},e=k.props?this.props.concat(k.props):this.props,b=c.Event(g);for(a=e.length;a;)d=e[--a],b[d]=g[d];return b.target||(b.target=g.srcElement||t),3===b.target.nodeType&&(b.target=b.target.parentNode),
b.metaKey=!!b.metaKey,k.filter?k.filter(b,g):b},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b,a,d){c.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(b,a){this.onbeforeunload===a&&(this.onbeforeunload=null)}}},simulate:function(b,a,d,g){b=c.extend(new c.Event,d,{type:b,isSimulated:!0,originalEvent:{}});g?c.event.trigger(b,null,a):c.event.dispatch.call(a,b);b.isDefaultPrevented()&&d.preventDefault()}};c.event.handle=
c.event.dispatch;c.removeEvent=t.removeEventListener?function(b,a,c){b.removeEventListener&&b.removeEventListener(a,c,!1)}:function(b,a,c){a="on"+a;b.detachEvent&&("undefined"==typeof b[a]&&(b[a]=null),b.detachEvent(a,c))};c.Event=function(b,a){if(this instanceof c.Event)b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?n:l):this.type=b,a&&c.extend(this,a),this.timeStamp=b&&b.timeStamp||c.now(),
this[c.expando]=!0;else return new c.Event(b,a)};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var b=this.originalEvent;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=n;var b=this.originalEvent;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n;this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l};
c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){c.event.special[b]={delegateType:a,bindType:a,handle:function(b){var d,k=b.relatedTarget,e=b.handleObj;if(!k||k!==this&&!c.contains(this,k))b.type=e.origType,d=e.handler.apply(this,arguments),b.type=a;return d}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return!1;c.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=c.nodeName(b,"input")||c.nodeName(b,"button")?
b.form:d)&&!c._data(b,"_submit_attached")&&(c.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),c._data(b,"_submit_attached",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&c.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(c.nodeName(this,"form"))return!1;c.event.remove(this,"._submit")}});c.support.changeBubbles||(c.event.special.change={setup:function(){if(Va.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)c.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),c.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);c.event.simulate("change",this,b,!0)});return!1}c.event.add(this,"beforeactivate._change",function(b){b=b.target;Va.test(b.nodeName)&&!c._data(b,"_change_attached")&&(c.event.add(b,"change._change",function(b){this.parentNode&&!b.isSimulated&&!b.isTrigger&&
c.event.simulate("change",this.parentNode,b,!0)}),c._data(b,"_change_attached",!0))})},handle:function(b){var a=b.target;if(this!==a||b.isSimulated||b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){return c.event.remove(this,"._change"),!Va.test(this.nodeName)}});c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(b,a){var d=0,g=function(b){c.event.simulate(a,b.target,c.event.fix(b),!0)};c.event.special[a]=
{setup:function(){0===d++&&t.addEventListener(b,g,!0)},teardown:function(){0===--d&&t.removeEventListener(b,g,!0)}}});c.fn.extend({on:function(b,a,p,g,e){var i,j;if("object"==typeof b){"string"!=typeof a&&(p=p||a,a=d);for(j in b)this.on(j,a,p,b[j],e);return this}null==p&&null==g?(g=a,p=a=d):null==g&&("string"==typeof a?(g=p,p=d):(g=p,p=a,a=d));if(!1===g)g=l;else if(!g)return this;return 1===e&&(i=g,g=function(b){return c().off(b),i.apply(this,arguments)},g.guid=i.guid||(i.guid=c.guid++)),this.each(function(){c.event.add(this,
b,g,p,a)})},one:function(b,a,c,d){return this.on(b,a,c,d,1)},off:function(b,a,p){var g,e;if(b&&b.preventDefault&&b.handleObj)return g=b.handleObj,c(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof b){for(e in b)this.off(e,a,b[e]);return this}if(!1===a||"function"==typeof a)p=a,a=d;return!1===p&&(p=l),this.each(function(){c.event.remove(this,b,p,a)})},bind:function(b,a,c){return this.on(b,null,a,c)},unbind:function(b,a){return this.off(b,
null,a)},live:function(b,a,d){return c(this.context).on(b,this.selector,a,d),this},die:function(b,a){return c(this.context).off(b,this.selector||"**",a),this},delegate:function(b,a,c,d){return this.on(a,b,c,d)},undelegate:function(b,a,c){return 1===arguments.length?this.off(b,"**"):this.off(a,b||"**",c)},trigger:function(b,a){return this.each(function(){c.event.trigger(b,a,this)})},triggerHandler:function(b,a){if(this[0])return c.event.trigger(b,a,this[0],!0)},toggle:function(b){var a=arguments,d=
b.guid||c.guid++,g=0,e=function(d){var p=(c._data(this,"lastToggle"+b.guid)||0)%g;return c._data(this,"lastToggle"+b.guid,p+1),d.preventDefault(),a[p].apply(this,arguments)||!1};for(e.guid=d;g<a.length;)a[g++].guid=d;return this.click(e)},hover:function(b,a){return this.mouseenter(b).mouseleave(a||b)}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,a){c.fn[a]=function(b,c){return null==c&&(c=b,b=null),0<arguments.length?this.on(a,null,b,c):this.trigger(a)};Uc.test(a)&&(c.event.fixHooks[a]=c.event.keyHooks);Vc.test(a)&&(c.event.fixHooks[a]=c.event.mouseHooks)});var Wc=a,A=function(b,a,c,d){var c=c||[],a=a||N,e,i,j,h,m=a.nodeType;if(!b||"string"!=typeof b)return c;if(1!==m&&9!==m)return[];j=Ba(a);if(!j&&!d&&(e=Xc.exec(b)))if(h=e[1])if(9===m){i=a.getElementById(h);if(!i||!i.parentNode)return c;if(i.id===h)return c.push(i),c}else{if(a.ownerDocument&&
(i=a.ownerDocument.getElementById(h))&&Sb(a,i)&&i.id===h)return c.push(i),c}else{if(e[2])return ea.apply(c,fa.call(a.getElementsByTagName(b),0)),c;if((h=e[3])&&Tb&&a.getElementsByClassName)return ea.apply(c,fa.call(a.getElementsByClassName(h),0)),c}return Wa(b.replace(Ca,"$1"),a,c,d,j)},ka=function(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}},Ub=function(b){return function(a){var c=a.nodeName.toLowerCase();return("input"===c||"button"===c)&&a.type===b}},Y=function(b){return O(function(a){return a=
+a,O(function(c,d){for(var e,i=b([],c.length,a),j=i.length;j--;)c[e=i[j]]&&(c[e]=!(d[e]=c[e]))})})},Da=function(b,a,c){if(b===a)return c;for(b=b.nextSibling;b;){if(b===a)return-1;b=b.nextSibling}return 1},Fa=function(b,a){var c,d,e,i,j,h,m;if(j=Vb[B][b])return a?0:j.slice(0);j=b;h=[];for(m=v.preFilter;j;){if(!c||(d=Yc.exec(j)))d&&(j=j.slice(d[0].length)),h.push(e=[]);c=!1;if(d=Zc.exec(j))e.push(c=new Wb(d.shift())),j=j.slice(c.length),c.type=d[0].replace(Ca," ");for(i in v.filter)(d=Ea[i].exec(j))&&
(!m[i]||(d=m[i](d,N,!0)))&&(e.push(c=new Wb(d.shift())),j=j.slice(c.length),c.type=i,c.matches=d);if(!c)break}return a?j.length:j?A.error(b):Vb(b,h).slice(0)},Ya=function(b,a,c){var d=a.dir,e=c&&"parentNode"===a.dir,i=$c++;return a.first?function(a,f,c){for(;a=a[d];)if(e||1===a.nodeType)return b(a,f,c)}:function(a,f,c){if(c)for(;a=a[d];){if((e||1===a.nodeType)&&b(a,f,c))return a}else for(var p,h=la+" "+i+" ",q=h+Xa;a=a[d];)if(e||1===a.nodeType){if((p=a[B])===q)return a.sizset;if("string"==typeof p&&
0===p.indexOf(h)){if(a.sizset)return a}else{a[B]=q;if(b(a,f,c))return a.sizset=!0,a;a.sizset=!1}}}},Za=function(b){return 1<b.length?function(a,c,d){for(var e=b.length;e--;)if(!b[e](a,c,d))return!1;return!0}:b[0]},Ga=function(b,a,c,d,e){for(var i,j=[],h=0,m=b.length,r=null!=a;h<m;h++)if(i=b[h])if(!c||c(i,d,e))j.push(i),r&&a.push(h);return j},$a=function(b,a,c,d,e,i){return d&&!d[B]&&(d=$a(d)),e&&!e[B]&&(e=$a(e,i)),O(function(j,i,h,r){if(!j||!e){var l,q,n=[],s=[],t=i.length;if(!(q=j)){q=a||"*";var u=
h.nodeType?[h]:h,J=[];l=0;for(var z=u.length;l<z;l++)A(q,u[l],J,j);q=J}u=b&&(j||!a)?Ga(q,n,b,h,r):q;J=c?e||(j?b:t||d)?[]:i:u;c&&c(u,J,h,r);if(d){q=Ga(J,s);d(q,[],h,r);for(h=q.length;h--;)if(l=q[h])J[s[h]]=!(u[s[h]]=l)}if(j)for(h=b&&J.length;h--;){if(l=J[h])j[n[h]]=!(i[n[h]]=l)}else J=Ga(J===i?J.splice(t,J.length):J),e?e(null,i,J,r):ea.apply(i,J)}})},ab=function(b){var a,c,d,e=b.length,i=v.relative[b[0].type];c=i||v.relative[" "];for(var j=i?1:0,h=Ya(function(b){return b===a},c,!0),m=Ya(function(b){return-1<
Xb.call(a,b)},c,!0),r=[function(b,c,d){return!i&&(d||c!==Ha)||((a=c).nodeType?h(b,c,d):m(b,c,d))}];j<e;j++)if(c=v.relative[b[j].type])r=[Ya(Za(r),c)];else{c=v.filter[b[j].type].apply(null,b[j].matches);if(c[B]){for(d=++j;d<e&&!v.relative[b[d].type];d++);return $a(1<j&&Za(r),1<j&&b.slice(0,j-1).join("").replace(Ca,"$1"),c,j<d&&ab(b.slice(j,d)),d<e&&ab(b=b.slice(d)),d<e&&b.join(""))}r.push(c)}return Za(r)},Wa=function(b,a,c,d,e){var i,j,h,m,r=Fa(b);if(!d&&1===r.length){j=r[0]=r[0].slice(0);if(2<j.length&&
"ID"===(h=j[0]).type&&9===a.nodeType&&!e&&v.relative[j[1].type]){a=v.find.ID(h.matches[0].replace(Z,""),a,e)[0];if(!a)return c;b=b.slice(j.shift().length)}for(i=Ea.POS.test(b)?-1:j.length-1;0<=i;i--){h=j[i];if(v.relative[m=h.type])break;if(m=v.find[m])if(d=m(h.matches[0].replace(Z,""),bb.test(j[0].type)&&a.parentNode||a,e)){j.splice(i,1);b=d.length&&j.join("");if(!b)return ea.apply(c,fa.call(d,0)),c;break}}}return cb(b,r)(d,a,e,c,bb.test(b)),c},Yb=function(){},Xa,db,v,Ia,Ba,Sb,cb,eb,ma,Ha,Zb=!0,B=
("sizcache"+Math.random()).replace(".",""),Wb=String,N=Wc.document,K=N.documentElement,la=0,$c=0,ad=[].pop,ea=[].push,fa=[].slice,Xb=[].indexOf||function(b){for(var a=0,c=this.length;a<c;a++)if(this[a]===b)return a;return-1},O=function(b,a){return b[B]=null==a||a,b},fb=function(){var b={},a=[];return O(function(c,d){return a.push(c)>v.cacheLength&&delete b[a.shift()],b[c]=d},b)},$b=fb(),Vb=fb(),ac=fb(),bc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",gb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+bc+")|[^:]|\\\\.)*|.*))\\)|)",Ca=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,bd=RegExp(gb),Xc=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,bb=/[\x20\t\r\n\f]*[+~]/,cd=/h\d/i,dd=/input|select|textarea|button/i,
Z=/\\(?!\\)/g,Ea={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+bc),PSEUDO:RegExp("^"+gb),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},S=function(b){var a=N.createElement("div");try{return b(a)}catch(c){return!1}finally{}},ed=S(function(b){return b.appendChild(N.createComment("")),!b.getElementsByTagName("*").length}),fd=S(function(b){return b.innerHTML="<a href='#'></a>",b.firstChild&&"undefined"!==typeof b.firstChild.getAttribute&&"#"===b.firstChild.getAttribute("href")}),
gd=S(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),Tb=S(function(b){return b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!b.getElementsByClassName||!b.getElementsByClassName("e").length?!1:(b.lastChild.className="e",2===b.getElementsByClassName("e").length)}),hd=S(function(b){b.id=B+0;b.innerHTML="<a name='"+B+"'></a><div name='"+B+"'></div>";K.insertBefore(b,K.firstChild);var a=N.getElementsByName&&
N.getElementsByName(B).length===2+N.getElementsByName(B+0).length;return db=!N.getElementById(B),K.removeChild(b),a});try{fa.call(K.childNodes,0)[0].nodeType}catch(Rd){fa=function(b){for(var a,c=[];a=this[b];b++)c.push(a);return c}}A.matches=function(b,a){return A(b,null,null,a)};A.matchesSelector=function(b,a){return 0<A(a,null,null,[b]).length};Ia=A.getText=function(b){var a,c="",d=0;if(a=b.nodeType)if(1===a||9===a||11===a){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=
b.nextSibling)c+=Ia(b)}else{if(3===a||4===a)return b.nodeValue}else for(;a=b[d];d++)c+=Ia(a);return c};Ba=A.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};Sb=A.contains=K.contains?function(b,a){var c=9===b.nodeType?b.documentElement:b,d=a&&a.parentNode;return b===d||!(!d||!(1===d.nodeType&&c.contains&&c.contains(d)))}:K.compareDocumentPosition?function(b,a){return a&&!!(b.compareDocumentPosition(a)&16)}:function(b,a){for(;a=a.parentNode;)if(a===b)return!0;
return!1};A.attr=function(b,a){var c,d=Ba(b);return d||(a=a.toLowerCase()),(c=v.attrHandle[a])?c(b):d||gd?b.getAttribute(a):(c=b.getAttributeNode(a),c?"boolean"==typeof b[a]?b[a]?a:null:c.specified?c.value:null:null)};v=A.selectors={cacheLength:50,createPseudo:O,match:Ea,attrHandle:fd?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}},find:{ID:db?function(b,a,c){if("undefined"!==typeof a.getElementById&&!c)return(b=a.getElementById(b))&&b.parentNode?
[b]:[]}:function(b,a,c){if("undefined"!==typeof a.getElementById&&!c)return(a=a.getElementById(b))?a.id===b||"undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id").value===b?[a]:void 0:[]},TAG:ed?function(b,a){if("undefined"!==typeof a.getElementsByTagName)return a.getElementsByTagName(b)}:function(b,a){var c=a.getElementsByTagName(b);if("*"===b){for(var d,e=[],i=0;d=c[i];i++)1===d.nodeType&&e.push(d);return e}return c},NAME:hd&&function(b,a){if("undefined"!==typeof a.getElementsByName)return a.getElementsByName(name)},
CLASS:Tb&&function(b,a,c){if("undefined"!==typeof a.getElementsByClassName&&!c)return a.getElementsByClassName(b)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Z,""),b[3]=(b[4]||b[5]||"").replace(Z,""),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1]?(b[2]||A.error(b[0]),b[3]=+(b[3]?b[4]+(b[5]||1):2*
("even"===b[2]||"odd"===b[2])),b[4]=+(b[6]+b[7]||"odd"===b[2])):b[2]&&A.error(b[0]),b},PSEUDO:function(b){var a,c;if(Ea.CHILD.test(b[0]))return null;if(b[3])b[2]=b[3];else if(a=b[4])bd.test(a)&&(c=Fa(a,!0))&&(c=a.indexOf(")",a.length-c)-a.length)&&(a=a.slice(0,c),b[0]=b[0].slice(0,c)),b[2]=a;return b.slice(0,3)}},filter:{ID:db?function(b){return b=b.replace(Z,""),function(a){return a.getAttribute("id")===b}}:function(b){return b=b.replace(Z,""),function(a){return(a="undefined"!==typeof a.getAttributeNode&&
a.getAttributeNode("id"))&&a.value===b}},TAG:function(b){return"*"===b?function(){return!0}:(b=b.replace(Z,"").toLowerCase(),function(a){return a.nodeName&&a.nodeName.toLowerCase()===b})},CLASS:function(b){var a=$b[B][b];return a||(a=$b(b,RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))),function(b){return a.test(b.className||"undefined"!==typeof b.getAttribute&&b.getAttribute("class")||"")}},ATTR:function(b,a,c){return function(d){d=A.attr(d,b);return null==d?"!="===a:a?(d+="","="===
a?d===c:"!="===a?d!==c:"^="===a?c&&0===d.indexOf(c):"*="===a?c&&-1<d.indexOf(c):"$="===a?c&&d.substr(d.length-c.length)===c:"~="===a?-1<(" "+d+" ").indexOf(c):"|="===a?d===c||d.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(b,a,c,d){return"nth"===b?function(b){var a,f;a=b.parentNode;if(1===c&&0===d)return!0;if(a){f=0;for(a=a.firstChild;a&&!(1===a.nodeType&&(f++,b===a));a=a.nextSibling);}return f-=d,f===c||0===f%c&&0<=f/c}:function(a){var c=a;switch(b){case "only":case "first":for(;c=c.previousSibling;)if(1===
c.nodeType)return!1;if("first"===b)return!0;c=a;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(b,a){var c,d=v.pseudos[b]||v.setFilters[b.toLowerCase()]||A.error("unsupported pseudo: "+b);return d[B]?d(a):1<d.length?(c=[b,b,"",a],v.setFilters.hasOwnProperty(b.toLowerCase())?O(function(b,c){for(var e,p=d(b,a),h=p.length;h--;)e=Xb.call(b,p[h]),b[e]=!(c[e]=p[h])}):function(b){return d(b,0,c)}):d}},pseudos:{not:O(function(b){var a=[],c=[],d=cb(b.replace(Ca,"$1"));
return d[B]?O(function(b,a,c,f){for(var f=d(b,null,f,[]),e=b.length;e--;)if(c=f[e])b[e]=!(a[e]=c)}):function(b,e,j){return a[0]=b,d(a,null,j,c),!c.pop()}}),has:O(function(b){return function(a){return 0<A(b,a).length}}),contains:O(function(b){return function(a){return-1<(a.textContent||a.innerText||Ia(a)).indexOf(b)}}),enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===
a&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},parent:function(b){return!v.pseudos.empty(b)},empty:function(b){for(var a,b=b.firstChild;b;){if("@"<b.nodeName||3===(a=b.nodeType)||4===a)return!1;b=b.nextSibling}return!0},header:function(b){return cd.test(b.nodeName)},text:function(b){var a,c;return"input"===b.nodeName.toLowerCase()&&"text"===(a=b.type)&&(null==(c=b.getAttribute("type"))||c.toLowerCase()===a)},radio:ka("radio"),checkbox:ka("checkbox"),
file:ka("file"),password:ka("password"),image:ka("image"),submit:Ub("submit"),reset:Ub("reset"),button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},input:function(b){return dd.test(b.nodeName)},focus:function(b){var a=b.ownerDocument;return b===a.activeElement&&(!a.hasFocus||a.hasFocus())&&(!!b.type||!!b.href)},active:function(b){return b===b.ownerDocument.activeElement},first:Y(function(){return[0]}),last:Y(function(b,a){return[a-1]}),eq:Y(function(b,
a,c){return[0>c?c+a:c]}),even:Y(function(b,a){for(var c=0;c<a;c+=2)b.push(c);return b}),odd:Y(function(b,a){for(var c=1;c<a;c+=2)b.push(c);return b}),lt:Y(function(b,a,c){for(a=0>c?c+a:c;0<=--a;)b.push(a);return b}),gt:Y(function(b,a,c){for(c=0>c?c+a:c;++c<a;)b.push(c);return b})}};eb=K.compareDocumentPosition?function(b,a){return b===a?(ma=!0,0):(!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition:b.compareDocumentPosition(a)&4)?-1:1}:function(b,a){if(b===a)return ma=
!0,0;if(b.sourceIndex&&a.sourceIndex)return b.sourceIndex-a.sourceIndex;var c,d,e=[],i=[];c=b.parentNode;d=a.parentNode;var j=c;if(c===d)return Da(b,a);if(!c)return-1;if(!d)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=d;j;)i.unshift(j),j=j.parentNode;c=e.length;d=i.length;for(j=0;j<c&&j<d;j++)if(e[j]!==i[j])return Da(e[j],i[j]);return j===c?Da(b,i[j],-1):Da(e[j],a,1)};[0,0].sort(eb);Zb=!ma;A.uniqueSort=function(b){var a,c=1;ma=Zb;b.sort(eb);if(ma)for(;a=b[c];c++)a===b[c-1]&&b.splice(c--,1);
return b};A.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};cb=A.compile=function(b,a){var c,d=[],e=[],i=ac[B][b];if(!i){a||(a=Fa(b));for(c=a.length;c--;)i=ab(a[c]),i[B]?d.push(i):e.push(i);var j=0<d.length,h=0<e.length,m=function(b,a,c,f,p){var i,l,n=[],s=0,t="0",u=b&&[],z=null!=p,x=Ha,w=b||h&&v.find.TAG("*",p&&a.parentNode||a),B=la+=null==x?1:Math.E;for(z&&(Ha=a!==N&&a,Xa=m.el);null!=(p=w[t]);t++){if(h&&p){for(i=0;l=e[i];i++)if(l(p,a,c)){f.push(p);break}z&&(la=B,Xa=
++m.el)}j&&((p=!l&&p)&&s--,b&&u.push(p))}s+=t;if(j&&t!==s){for(i=0;l=d[i];i++)l(u,n,a,c);if(b){if(0<s)for(;t--;)!u[t]&&!n[t]&&(n[t]=ad.call(f));n=Ga(n)}ea.apply(f,n);z&&!b&&0<n.length&&1<s+d.length&&A.uniqueSort(f)}return z&&(la=B,Ha=x),u};c=(m.el=0,j?O(m):m);i=ac(b,c)}return i};if(N.querySelectorAll){var cc,id=Wa,jd=/'|\\/g,kd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,P=[":focus"],Ja=[":active",":focus"],Ka=K.matchesSelector||K.mozMatchesSelector||K.webkitMatchesSelector||K.oMatchesSelector||
K.msMatchesSelector;S(function(b){b.innerHTML="<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||P.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||P.push(":checked")});S(function(b){b.innerHTML="<p test=''></p>";b.querySelectorAll("[test^='']").length&&P.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.innerHTML="<input type='hidden'/>";b.querySelectorAll(":enabled").length||P.push(":enabled",
":disabled")});P=RegExp(P.join("|"));Wa=function(b,a,c,d,e){if(!d&&!e&&(!P||!P.test(b))){var i,j,h=!0,m=B;j=a;i=9===a.nodeType&&b;if(1===a.nodeType&&"object"!==a.nodeName.toLowerCase()){i=Fa(b);(h=a.getAttribute("id"))?m=h.replace(jd,"\\$&"):a.setAttribute("id",m);m="[id='"+m+"'] ";for(j=i.length;j--;)i[j]=m+i[j].join("");j=bb.test(b)&&a.parentNode||a;i=i.join(",")}if(i)try{return ea.apply(c,fa.call(j.querySelectorAll(i),0)),c}catch(r){}finally{h||a.removeAttribute("id")}}return id(b,a,c,d,e)};Ka&&
(S(function(b){cc=Ka.call(b,"div");try{Ka.call(b,"[test!='']:sizzle"),Ja.push("!=",gb)}catch(a){}}),Ja=RegExp(Ja.join("|")),A.matchesSelector=function(b,a){a=a.replace(kd,"='$1']");if(!Ba(b)&&!Ja.test(a)&&(!P||!P.test(a)))try{var c=Ka.call(b,a);if(c||cc||b.document&&11!==b.document.nodeType)return c}catch(d){}return 0<A(a,null,null,[b]).length})}v.pseudos.nth=v.pseudos.eq;v.filters=Yb.prototype=v.pseudos;v.setFilters=new Yb;A.attr=c.attr;c.find=A;c.expr=A.selectors;c.expr[":"]=c.expr.pseudos;c.unique=
A.uniqueSort;c.text=A.getText;c.isXMLDoc=A.isXML;c.contains=A.contains;var ld=/Until$/,md=/^(?:parents|prev(?:Until|All))/,uc=/^.[^:#\[\.,]*$/,dc=c.expr.match.needsContext,nd={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(b){var a,d,e,k,i,j,h=this;if("string"!=typeof b)return c(b).filter(function(){a=0;for(d=h.length;a<d;a++)if(c.contains(h[a],this))return!0});j=this.pushStack("","find",b);a=0;for(d=this.length;a<d;a++)if(e=j.length,c.find(b,this[a],j),0<a)for(k=e;k<j.length;k++)for(i=
0;i<e;i++)if(j[i]===j[k]){j.splice(k--,1);break}return j},has:function(b){var a,d=c(b,this),e=d.length;return this.filter(function(){for(a=0;a<e;a++)if(c.contains(this,d[a]))return!0})},not:function(b){return this.pushStack(E(this,b,!1),"not",b)},filter:function(b){return this.pushStack(E(this,b,!0),"filter",b)},is:function(b){return!!b&&("string"==typeof b?dc.test(b)?0<=c(b,this.context).index(this[0]):0<c.filter(b,this).length:0<this.filter(b).length)},closest:function(b,a){for(var d,e=0,k=this.length,
i=[],j=dc.test(b)||"string"!=typeof b?c(b,a||this.context):0;e<k;e++)for(d=this[e];d&&d.ownerDocument&&d!==a&&11!==d.nodeType;){if(j?-1<j.index(d):c.find.matchesSelector(d,b)){i.push(d);break}d=d.parentNode}return i=1<i.length?c.unique(i):i,this.pushStack(i,"closest",b)},index:function(b){return b?"string"==typeof b?c.inArray(this[0],c(b)):c.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(b,a){var d="string"==typeof b?c(b,a):c.makeArray(b&&b.nodeType?
[b]:b),e=c.merge(this.get(),d);return this.pushStack(s(d[0])||s(e[0])?e:c.unique(e))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});c.fn.andSelf=c.fn.addBack;c.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return c.dir(b,"parentNode")},parentsUntil:function(b,a,d){return c.dir(b,"parentNode",d)},next:function(b){return u(b,"nextSibling")},prev:function(b){return u(b,"previousSibling")},nextAll:function(b){return c.dir(b,
"nextSibling")},prevAll:function(b){return c.dir(b,"previousSibling")},nextUntil:function(b,a,d){return c.dir(b,"nextSibling",d)},prevUntil:function(b,a,d){return c.dir(b,"previousSibling",d)},siblings:function(b){return c.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return c.sibling(b.firstChild)},contents:function(b){return c.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:c.merge([],b.childNodes)}},function(b,a){c.fn[b]=function(d,e){var k=c.map(this,a,d);return ld.test(b)||
(e=d),e&&"string"==typeof e&&(k=c.filter(e,k)),k=1<this.length&&!nd[b]?c.unique(k):k,1<this.length&&md.test(b)&&(k=k.reverse()),this.pushStack(k,b,Q.call(arguments).join(","))}});c.extend({filter:function(b,a,d){return d&&(b=":not("+b+")"),1===a.length?c.find.matchesSelector(a[0],b)?[a[0]]:[]:c.find.matches(b,a)},dir:function(b,a,e){for(var g=[],b=b[a];b&&9!==b.nodeType&&(e===d||1!==b.nodeType||!c(b).is(e));)1===b.nodeType&&g.push(b),b=b[a];return g},sibling:function(b,a){for(var c=[];b;b=b.nextSibling)1===
b.nodeType&&b!==a&&c.push(b);return c}});var nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",od=/ jQuery\d+="(?:null|\d+)"/g,hb=/^\s+/,ec=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fc=/<([\w:]+)/,pd=/<tbody/i,qd=/<|&#?\w+;/,rd=/<(?:script|style|link)/i,sd=/<(?:script|object|embed|option|style)/i,ib=RegExp("<(?:"+nb+")[\\s/>]","i"),ob=/^(?:checkbox|radio)$/,
gc=/checked\s*(?:[^=]|=\s*.checked.)/i,td=/\/(java|ecma)script/i,ud=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,G={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},hc=w(t),jb=hc.appendChild(t.createElement("div"));G.optgroup=
G.option;G.tbody=G.tfoot=G.colgroup=G.caption=G.thead;G.th=G.td;c.support.htmlSerialize||(G._default=[1,"X<div>","</div>"]);c.fn.extend({text:function(b){return c.access(this,function(b){return b===d?c.text(this):this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(b))},null,b,arguments.length)},wrapAll:function(b){if(c.isFunction(b))return this.each(function(a){c(this).wrapAll(b.call(this,a))});if(this[0]){var a=c(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);
a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return c.isFunction(b)?this.each(function(a){c(this).wrapInner(b.call(this,a))}):this.each(function(){var a=c(this),d=a.contents();d.length?d.wrapAll(b):a.append(b)})},wrap:function(b){var a=c.isFunction(b);return this.each(function(d){c(this).wrapAll(a?b.call(this,d):b)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||
c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(b,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var b=c.clean(arguments);return this.pushStack(c.merge(b,
this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this.nextSibling)});if(arguments.length){var b=c.clean(arguments);return this.pushStack(c.merge(this,b),"after",this.selector)}},remove:function(b,a){for(var d,e=0;null!=(d=this[e]);e++)if(!b||c.filter(b,[d]).length)!a&&1===d.nodeType&&(c.cleanData(d.getElementsByTagName("*")),c.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var b,
a=0;null!=(b=this[a]);a++)for(1===b.nodeType&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(b,a){return b=null==b?!1:b,a=null==a?b:a,this.map(function(){return c.clone(this,b,a)})},html:function(b){return c.access(this,function(b){var a=this[0]||{},e=0,k=this.length;if(b===d)return 1===a.nodeType?a.innerHTML.replace(od,""):d;if("string"==typeof b&&!rd.test(b)&&(c.support.htmlSerialize||!ib.test(b))&&(c.support.leadingWhitespace||!hb.test(b))&&
!G[(fc.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(ec,"<$1></$2>");try{for(;e<k;e++)a=this[e]||{},1===a.nodeType&&(c.cleanData(a.getElementsByTagName("*")),a.innerHTML=b);a=0}catch(i){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){return s(this[0])?this.length?this.pushStack(c(c.isFunction(b)?b():b),"replaceWith",b):this:c.isFunction(b)?this.each(function(a){var d=c(this),e=d.html();d.replaceWith(b.call(this,a,e))}):("string"!=typeof b&&(b=c(b).detach()),this.each(function(){var a=
this.nextSibling,d=this.parentNode;c(this).remove();a?c(a).before(b):c(d).append(b)}))},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,e){var b=[].concat.apply([],b),g,k,i,j=0,h=b[0],m=[],r=this.length;if(!c.support.checkClone&&1<r&&"string"==typeof h&&gc.test(h))return this.each(function(){c(this).domManip(b,a,e)});if(c.isFunction(h))return this.each(function(g){var j=c(this);b[0]=h.call(this,g,a?j.html():d);j.domManip(b,a,e)});if(this[0]){g=c.buildFragment(b,this,m);i=g.fragment;
k=i.firstChild;1===i.childNodes.length&&(i=k);if(k){a=a&&c.nodeName(k,"tr");for(g=g.cacheable||r-1;j<r;j++)e.call(a&&c.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j],j===g?i:c.clone(i,!0,!0))}i=k=null;m.length&&c.each(m,function(b,a){a.src?c.ajax?c.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):c.error("no ajax"):c.globalEval((a.text||a.textContent||a.innerHTML||"").replace(ud,
""));a.parentNode&&a.parentNode.removeChild(a)})}return this}});c.buildFragment=function(a,f,e){var g,k,i,j=a[0];return f=f||t,f=!f.nodeType&&f[0]||f,f=f.ownerDocument||f,1===a.length&&"string"==typeof j&&512>j.length&&f===t&&"<"===j.charAt(0)&&!sd.test(j)&&(c.support.checkClone||!gc.test(j))&&(c.support.html5Clone||!ib.test(j))&&(k=!0,g=c.fragments[j],i=g!==d),g||(g=f.createDocumentFragment(),c.clean(a,f,g,e),k&&(c.fragments[j]=i&&g)),{fragment:g,cacheable:k}};c.fragments={};c.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){c.fn[a]=function(e){var g,k=0,i=[],e=c(e),j=e.length;g=1===this.length&&this[0].parentNode;if((null==g||g&&11===g.nodeType&&1===g.childNodes.length)&&1===j)return e[d](this[0]),this;for(;k<j;k++)g=(0<k?this.clone(!0):this).get(),c(e[k])[d](g),i=i.concat(g);return this.pushStack(i,a,e.selector)}});c.extend({clone:function(a,d,e){var g,k,i,j;c.support.html5Clone||c.isXMLDoc(a)||!ib.test("<"+a.nodeName+
">")?j=a.cloneNode(!0):(jb.innerHTML=a.outerHTML,jb.removeChild(j=jb.firstChild));if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!c.isXMLDoc(a)){ba(a,j);g=na(a);k=na(j);for(i=0;g[i];++i)k[i]&&ba(g[i],k[i])}if(d&&(C(a,j),e)){g=na(a);k=na(j);for(i=0;g[i];++i)C(g[i],k[i])}return j},clean:function(a,d,e,g){var k,i,j,h,m,r,l,q=d===t&&hc,n=[];if(!d||"undefined"==typeof d.createDocumentFragment)d=t;for(k=0;null!=(j=a[k]);k++)if("number"==typeof j&&(j+=""),j){if("string"==
typeof j)if(qd.test(j)){q=q||w(d);r=d.createElement("div");q.appendChild(r);j=j.replace(ec,"<$1></$2>");i=(fc.exec(j)||["",""])[1].toLowerCase();h=G[i]||G._default;m=h[0];for(r.innerHTML=h[1]+j+h[2];m--;)r=r.lastChild;if(!c.support.tbody){m=pd.test(j);h="table"===i&&!m?r.firstChild&&r.firstChild.childNodes:"<table>"===h[1]&&!m?r.childNodes:[];for(i=h.length-1;0<=i;--i)c.nodeName(h[i],"tbody")&&!h[i].childNodes.length&&h[i].parentNode.removeChild(h[i])}!c.support.leadingWhitespace&&hb.test(j)&&r.insertBefore(d.createTextNode(hb.exec(j)[0]),
r.firstChild);j=r.childNodes;r.parentNode.removeChild(r)}else j=d.createTextNode(j);j.nodeType?n.push(j):c.merge(n,j)}r&&(j=r=q=null);if(!c.support.appendChecked)for(k=0;null!=(j=n[k]);k++)c.nodeName(j,"input")?pb(j):"undefined"!=typeof j.getElementsByTagName&&c.grep(j.getElementsByTagName("input"),pb);if(e){a=function(a){if(!a.type||td.test(a.type))return g?g.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a)};for(k=0;null!=(j=n[k]);k++)if(!c.nodeName(j,"script")||!a(j))e.appendChild(j),
"undefined"!=typeof j.getElementsByTagName&&(l=c.grep(c.merge([],j.getElementsByTagName("script")),a),n.splice.apply(n,[k+1,0].concat(l)),k+=l.length)}return n},cleanData:function(a,d){for(var e,g,k,i,j=0,h=c.expando,m=c.cache,r=c.support.deleteExpando,l=c.event.special;null!=(k=a[j]);j++)if(d||c.acceptData(k))if(e=(g=k[h])&&m[g]){if(e.events)for(i in e.events)l[i]?c.event.remove(k,i):c.removeEvent(k,i,e.handle);m[g]&&(delete m[g],r?delete k[h]:k.removeAttribute?k.removeAttribute(h):k[h]=null,c.deletedIds.push(g))}}});
var La,T;c.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};La=c.uaMatch(Ac.userAgent);T={};La.browser&&(T[La.browser]=!0,T.version=La.version);T.chrome?T.webkit=!0:T.webkit&&(T.safari=!0);c.browser=T;c.sub=function(){function a(c,d){return new a.fn.init(c,
d)}c.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(e,g){return g&&g instanceof c&&!(g instanceof a)&&(g=a(g)),c.fn.init.call(this,e,g,d)};a.fn.init.prototype=a.fn;var d=a(t);return a};var F,ca,da,kb=/alpha\([^)]*\)/i,vd=/opacity=([^)]*)/,wd=/^(top|right|bottom|left)$/,xd=/^(none|table(?!-c[ea]).+)/,ic=/^margin/,vc=RegExp("^("+va+")(.*)$","i"),pa=RegExp("^("+va+")(?!px)[a-z%]+$","i"),yd=RegExp("^([-+])=("+va+")","i"),Oa={},zd={position:"absolute",
visibility:"hidden",display:"block"},jc={letterSpacing:0,fontWeight:400},U=["Top","Right","Bottom","Left"],rb=["Webkit","O","Moz","ms"],Ad=c.fn.toggle;c.fn.extend({css:function(a,f){return c.access(this,function(a,b,f){return f!==d?c.style(a,b,f):c.css(a,b)},a,f,1<arguments.length)},show:function(){return sb(this,!0)},hide:function(){return sb(this)},toggle:function(a,d){var e="boolean"==typeof a;return c.isFunction(a)&&c.isFunction(d)?Ad.apply(this,arguments):this.each(function(){(e?a:oa(this))?
c(this).show():c(this).hide()})}});c.extend({cssHooks:{opacity:{get:function(a,c){if(c){var d=F(a,"opacity");return""===d?"1":d}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,f,e,g){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var k,i,j,h=c.camelCase(f),m=a.style,f=c.cssProps[h]||(c.cssProps[h]=qb(m,h));j=c.cssHooks[f]||c.cssHooks[h];if(e===d)return j&&
"get"in j&&(k=j.get(a,!1,g))!==d?k:m[f];i=typeof e;"string"===i&&(k=yd.exec(e))&&(e=(k[1]+1)*k[2]+parseFloat(c.css(a,f)),i="number");if(!(null==e||"number"===i&&isNaN(e)))if("number"===i&&!c.cssNumber[h]&&(e+="px"),!j||!("set"in j)||(e=j.set(a,e,g))!==d)try{m[f]=e}catch(r){}}},css:function(a,f,e,g){var k,i,j,h=c.camelCase(f);return f=c.cssProps[h]||(c.cssProps[h]=qb(a.style,h)),j=c.cssHooks[f]||c.cssHooks[h],j&&"get"in j&&(k=j.get(a,!0,g)),k===d&&(k=F(a,f)),"normal"===k&&f in jc&&(k=jc[f]),e||g!==
d?(i=parseFloat(k),e||c.isNumeric(i)?i||0:k):k},swap:function(a,c,d){var e,k={};for(e in c)k[e]=a.style[e],a.style[e]=c[e];d=d.call(a);for(e in c)a.style[e]=k[e];return d}});a.getComputedStyle?F=function(b,d){var e,g,k,i,j=a.getComputedStyle(b,null),h=b.style;return j&&(e=j[d],""===e&&!c.contains(b.ownerDocument,b)&&(e=c.style(b,d)),pa.test(e)&&ic.test(d)&&(g=h.width,k=h.minWidth,i=h.maxWidth,h.minWidth=h.maxWidth=h.width=e,e=j.width,h.width=g,h.minWidth=k,h.maxWidth=i)),e}:t.documentElement.currentStyle&&
(F=function(a,c){var d,e,k=a.currentStyle&&a.currentStyle[c],i=a.style;return null==k&&i&&i[c]&&(k=i[c]),pa.test(k)&&!wd.test(c)&&(d=i.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),i.left="fontSize"===c?"1em":k,k=i.pixelLeft+"px",i.left=d,e&&(a.runtimeStyle.left=e)),""===k?"auto":k});c.each(["height","width"],function(a,d){c.cssHooks[d]={get:function(a,b,e){if(b)return 0===a.offsetWidth&&xd.test(F(a,"display"))?c.swap(a,zd,function(){return wb(a,d,e)}):wb(a,
d,e)},set:function(a,b,e){return ub(a,b,e?vb(a,d,e,c.support.boxSizing&&"border-box"===c.css(a,"boxSizing")):0)}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,c){return vd.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(a,d){var e=a.style,g=a.currentStyle,k=c.isNumeric(d)?"alpha(opacity="+100*d+")":"",i=g&&g.filter||e.filter||"";e.zoom=1;if(1<=d&&(""===c.trim(i.replace(kb,""))&&e.removeAttribute)&&(e.removeAttribute("filter"),
g&&!g.filter))return;e.filter=kb.test(i)?i.replace(kb,k):i+" "+k}});c(function(){c.support.reliableMarginRight||(c.cssHooks.marginRight={get:function(a,d){return c.swap(a,{display:"inline-block"},function(){if(d)return F(a,"marginRight")})}});!c.support.pixelPosition&&c.fn.position&&c.each(["top","left"],function(a,d){c.cssHooks[d]={get:function(a,b){if(b){var e=F(a,d);return pa.test(e)?c(a).position()[d]+"px":e}}}})});c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){return 0===a.offsetWidth&&
0===a.offsetHeight||!c.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||F(a,"display"))},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});c.each({margin:"",padding:"",border:"Width"},function(a,d){c.cssHooks[a+d]={expand:function(c){for(var e="string"==typeof c?c.split(" "):[c],k={},c=0;4>c;c++)k[a+U[c]+d]=e[c]||e[c-2]||e[0];return k}};ic.test(a)||(c.cssHooks[a+d].set=ub)});var Bd=/%20/g,wc=/\[\]$/,kc=/\r?\n/g,Cd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Dd=/^(?:select|textarea)/i;c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Dd.test(this.nodeName)||Cd.test(this.type))}).map(function(a,d){var e=c(this).val();return null==e?null:c.isArray(e)?c.map(e,function(a){return{name:d.name,value:a.replace(kc,"\r\n")}}):{name:d.name,value:e.replace(kc,"\r\n")}}).get()}});
c.param=function(a,f){var e,g=[],k=function(a,b){b=c.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};f===d&&(f=c.ajaxSettings&&c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){k(this.name,this.value)});else for(e in a)Pa(e,a[e],f,k);return g.join("&").replace(Bd,"+")};var ga,aa,Ed=/#.*$/,Fd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Gd=/^(?:GET|HEAD)$/,Hd=/^\/\//,lc=/\?/,Id=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Jd=/([?&])_=[^&]*/,mc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nc=c.fn.load,Qa={},oc={},pc=["*/"]+["*"];try{aa=zc.href}catch(Sd){aa=t.createElement("a"),aa.href="",aa=aa.href}ga=mc.exec(aa.toLowerCase())||[];c.fn.load=function(a,f,e){if("string"!=typeof a&&nc)return nc.apply(this,arguments);if(!this.length)return this;var g,k,i,j=this,h=a.indexOf(" ");return 0<=h&&(g=a.slice(h,a.length),a=a.slice(0,h)),c.isFunction(f)?(e=f,f=d):f&&"object"==typeof f&&(k="POST"),c.ajax({url:a,type:k,dataType:"html",
data:f,complete:function(a,b){e&&j.each(e,i||[a.responseText,b,a])}}).done(function(a){i=arguments;j.html(g?c("<div>").append(a.replace(Id,"")).find(g):a)}),this};c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){c.fn[d]=function(a){return this.on(d,a)}});c.each(["get","post"],function(a,f){c[f]=function(a,b,e,i){return c.isFunction(b)&&(i=i||e,e=b,b=d),c.ajax({type:f,url:a,data:b,success:e,dataType:i})}});c.extend({getScript:function(a,f){return c.get(a,
d,f,"script")},getJSON:function(a,d,e){return c.get(a,d,e,"json")},ajaxSetup:function(a,d){return d?yb(a,c.ajaxSettings):(d=a,a=c.ajaxSettings),yb(a,d),a},ajaxSettings:{url:aa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ga[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":pc},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:xb(Qa),ajaxTransport:xb(oc),ajax:function(a,e){function h(a,b,e,f){var i,p,m,n,M,v=b;if(2!==B){B=2;l&&clearTimeout(l);j=d;k=f||"";x.readyState=0<a?4:0;if(e){n=q;var f=x,w,y,C,E,F=n.contents,D=n.dataTypes,H=n.responseFields;for(y in H)y in e&&(f[H[y]]=e[y]);for(;"*"===D[0];)D.shift(),
w===d&&(w=n.mimeType||f.getResponseHeader("content-type"));if(w)for(y in F)if(F[y]&&F[y].test(w)){D.unshift(y);break}if(D[0]in e)C=D[0];else{for(y in e){if(!D[0]||n.converters[y+" "+D[0]]){C=y;break}E||(E=y)}C=C||E}e=C?(C!==D[0]&&D.unshift(C),e[C]):void 0;n=e}if(200<=a&&300>a||304===a)if(q.ifModified&&(M=x.getResponseHeader("Last-Modified"),M&&(c.lastModified[g]=M),M=x.getResponseHeader("Etag"),M&&(c.etag[g]=M)),304===a)v="notmodified",i=!0;else{var I;a:{i=q;p=n;var G,v=i.dataTypes.slice(),e=v[0];
w={};y=0;i.dataFilter&&(p=i.dataFilter(p,i.dataType));if(v[1])for(I in i.converters)w[I.toLowerCase()]=i.converters[I];for(;m=v[++y];)if("*"!==m){if("*"!==e&&e!==m){I=w[e+" "+m]||w["* "+m];if(!I)for(G in w)if(M=G.split(" "),M[1]===m&&(I=w[e+" "+M[0]]||w["* "+M[0]])){!0===I?I=w[G]:!0!==w[G]&&(m=M[0],v.splice(y--,0,m));break}if(!0!==I)if(I&&i["throws"])p=I(p);else try{p=I(p)}catch(K){I={state:"parsererror",error:I?K:"No conversion from "+e+" to "+m};break a}}e=m}I={state:"success",data:p}}i=I;v=i.state;
p=i.data;m=i.error;i=!m}else if(m=v,!v||a)v="error",0>a&&(a=0);x.status=a;x.statusText=(b||v)+"";i?u.resolveWith(s,[p,v,x]):u.rejectWith(s,[x,v,m]);x.statusCode(A);A=d;r&&t.trigger("ajax"+(i?"Success":"Error"),[x,q,i?p:m]);z.fireWith(s,[x,v]);r&&(t.trigger("ajaxComplete",[x,q]),--c.active||c.event.trigger("ajaxStop"))}}"object"==typeof a&&(e=a,a=d);var e=e||{},g,k,i,j,l,m,r,n,q=c.ajaxSetup({},e),s=q.context||q,t=s!==q&&(s.nodeType||s instanceof c)?c(s):c.event,u=c.Deferred(),z=c.Callbacks("once memory"),
A=q.statusCode||{},v={},w={},B=0,y="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!B){var c=a.toLowerCase(),a=w[c]=w[c]||a;v[a]=b}return this},getAllResponseHeaders:function(){return 2===B?k:null},getResponseHeader:function(a){var b;if(2===B){if(!i)for(i={};b=Fd.exec(k);)i[b[1].toLowerCase()]=b[2];b=i[a.toLowerCase()]}return b===d?null:b},overrideMimeType:function(a){return B||(q.mimeType=a),this},abort:function(a){return a=a||y,j&&j.abort(a),h(0,a),this}};u.promise(x);x.success=x.done;
x.error=x.fail;x.complete=z.add;x.statusCode=function(a){if(a){var b;if(2>B)for(b in a)A[b]=[A[b],a[b]];else b=a[x.status],x.always(b)}return this};q.url=((a||q.url)+"").replace(Ed,"").replace(Hd,ga[1]+"//");q.dataTypes=c.trim(q.dataType||"*").toLowerCase().split(V);null==q.crossDomain&&(m=mc.exec(q.url.toLowerCase())||!1,q.crossDomain=m&&m.join(":")+(m[3]?"":"http:"===m[1]?80:443)!==ga.join(":")+(ga[3]?"":"http:"===ga[1]?80:443));q.data&&q.processData&&"string"!=typeof q.data&&(q.data=c.param(q.data,
q.traditional));qa(Qa,q,e,x);if(2===B)return x;r=q.global;q.type=q.type.toUpperCase();q.hasContent=!Gd.test(q.type);r&&0===c.active++&&c.event.trigger("ajaxStart");if(!q.hasContent&&(q.data&&(q.url+=(lc.test(q.url)?"&":"?")+q.data,delete q.data),g=q.url,!1===q.cache)){m=c.now();var C=q.url.replace(Jd,"$1_="+m);q.url=C+(C===q.url?(lc.test(q.url)?"&":"?")+"_="+m:"")}(q.data&&q.hasContent&&!1!==q.contentType||e.contentType)&&x.setRequestHeader("Content-Type",q.contentType);q.ifModified&&(g=g||q.url,
c.lastModified[g]&&x.setRequestHeader("If-Modified-Since",c.lastModified[g]),c.etag[g]&&x.setRequestHeader("If-None-Match",c.etag[g]));x.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+pc+"; q=0.01":""):q.accepts["*"]);for(n in q.headers)x.setRequestHeader(n,q.headers[n]);if(!q.beforeSend||!1!==q.beforeSend.call(s,x,q)&&2!==B){y="abort";for(n in{success:1,error:1,complete:1})x[n](q[n]);if(j=qa(oc,q,e,x)){x.readyState=1;r&&t.trigger("ajaxSend",
[x,q]);q.async&&0<q.timeout&&(l=setTimeout(function(){x.abort("timeout")},q.timeout));try{B=1,j.send(v,h)}catch(E){if(2>B)h(-1,E);else throw E;}}else h(-1,"No Transport");return x}return x.abort()},active:0,lastModified:{},etag:{}});var qc=[],Kd=/\?/,Ma=/(=)\?(?=&|$)|\?\?/,Ld=c.now();c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=qc.pop()||c.expando+"_"+Ld++;return this[a]=!0,a}});c.ajaxPrefilter("json jsonp",function(b,e,h){var g,k,i,j=b.data,l=b.url,m=!1!==b.jsonp,r=m&&Ma.test(l),
n=m&&!r&&"string"==typeof j&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ma.test(j);if("jsonp"===b.dataTypes[0]||r||n)return g=b.jsonpCallback=c.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,k=a[g],r?b.url=l.replace(Ma,"$1"+g):n?b.data=j.replace(Ma,"$1"+g):m&&(b.url+=(Kd.test(l)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){return i||c.error(g+" was not called"),i[0]},b.dataTypes[0]="json",a[g]=function(){i=arguments},h.always(function(){a[g]=
k;b[g]&&(b.jsonpCallback=e.jsonpCallback,qc.push(g));i&&c.isFunction(k)&&k(i[0]);i=k=d}),"script"});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return c.globalEval(a),a}}});c.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var c,e=
t.head||t.getElementsByTagName("head")[0]||t.documentElement;return{send:function(g,h){c=t.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,e&&c.parentNode&&e.removeChild(c),c=d,b||h(200,"success")};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var ha,lb=a.ActiveXObject?function(){for(var a in ha)ha[a](0,
1)}:!1,Md=0;c.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&zb()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:zb;var mb=c.ajaxSettings.xhr();c.extend(c.support,{ajax:!!mb,cors:!!mb&&"withCredentials"in mb});c.support.ajax&&c.ajaxTransport(function(b){if(!b.crossDomain||c.support.cors){var e;return{send:function(h,g){var k,i,j=b.xhr();b.username?j.open(b.type,b.url,b.async,b.username,b.password):j.open(b.type,b.url,b.async);if(b.xhrFields)for(i in b.xhrFields)j[i]=
b.xhrFields[i];b.mimeType&&j.overrideMimeType&&j.overrideMimeType(b.mimeType);!b.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");try{for(i in h)j.setRequestHeader(i,h[i])}catch(l){}j.send(b.hasContent&&b.data||null);e=function(a,i){var h,p,l,n,s;try{if(e&&(i||4===j.readyState))if(e=d,k&&(j.onreadystatechange=c.noop,lb&&delete ha[k]),i)4!==j.readyState&&j.abort();else{h=j.status;l=j.getAllResponseHeaders();n={};(s=j.responseXML)&&s.documentElement&&(n.xml=s);try{n.text=
j.responseText}catch(t){}try{p=j.statusText}catch(u){p=""}!h&&b.isLocal&&!b.crossDomain?h=n.text?200:404:1223===h&&(h=204)}}catch(L){i||g(-1,L)}n&&g(h,p,n,l)};b.async?4===j.readyState?setTimeout(e,0):(k=++Md,lb&&(ha||(ha={},c(a).unload(lb)),ha[k]=e),j.onreadystatechange=e):e()},abort:function(){e&&e(0,1)}}}});var ra,Na,Nd=/^(?:toggle|show|hide)$/,Od=RegExp("^(?:([-+])=|)("+va+")([a-z%]*)$","i"),Pd=/queueHooks$/,sa=[function(a,d,e){var g,h,i,j,l,m,r=this,n=a.style,q={},s=[],t=a.nodeType&&oa(a);e.queue||
(l=c._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,r.always(function(){r.always(function(){l.unqueued--;c.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(e.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===c.css(a,"display")&&"none"===c.css(a,"float")&&(!c.support.inlineBlockNeedsLayout||"inline"===tb(a.nodeName)?n.display="inline-block":n.zoom=1));e.overflow&&(n.overflow="hidden",
c.support.shrinkWrapBlocks||r.done(function(){n.overflow=e.overflow[0];n.overflowX=e.overflow[1];n.overflowY=e.overflow[2]}));for(g in d)h=d[g],Nd.exec(h)&&(delete d[g],h!==(t?"hide":"show")&&s.push(g));if(h=s.length){i=c._data(a,"fxshow")||c._data(a,"fxshow",{});t?c(a).show():r.done(function(){c(a).hide()});r.done(function(){var d;c.removeData(a,"fxshow",!0);for(d in q)c.style(a,d,q[d])});for(g=0;g<h;g++)d=s[g],j=r.createTween(d,t?i[d]:0),q[d]=i[d]||c.style(a,d),d in i||(i[d]=j.start,t&&(j.end=j.start,
j.start="width"===d||"height"===d?1:0))}}],ia={"*":[function(a,d){var e,g,h=this.createTween(a,d),i=Od.exec(d),j=h.cur(),l=+j||0,m=1,n=20;if(i){e=+i[2];g=i[3]||(c.cssNumber[a]?"":"px");if("px"!==g&&l){l=c.css(h.elem,a,!0)||e||1;do m=m||".5",l/=m,c.style(h.elem,a,l+g);while(m!==(m=h.cur()/j)&&1!==m&&--n)}h.unit=g;h.start=l;h.end=i[1]?l+(i[1]+1)*e:e}return h}]};c.Animation=c.extend(Bb,{tweener:function(a,d){c.isFunction(a)?(d=a,a=["*"]):a=a.split(" ");for(var e,g=0,h=a.length;g<h;g++)e=a[g],ia[e]=ia[e]||
[],ia[e].unshift(d)},prefilter:function(a,c){c?sa.unshift(a):sa.push(a)}});c.Tween=D;D.prototype={constructor:D,init:function(a,d,e,g,h,i){this.elem=a;this.prop=e;this.easing=h||"swing";this.options=d;this.start=this.now=this.cur();this.end=g;this.unit=i||(c.cssNumber[e]?"":"px")},cur:function(){var a=D.propHooks[this.prop];return a&&a.get?a.get(this):D.propHooks._default.get(this)},run:function(a){var d,e=D.propHooks[this.prop];return this.options.duration?this.pos=d=c.easing[this.easing](a,this.options.duration*
a,0,1,this.options.duration):this.pos=d=a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):D.propHooks._default.set(this),this}};D.prototype.init.prototype=D.prototype;D.propHooks={_default:{get:function(a){var d;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(d=c.css(a.elem,a.prop,!1,""),!d||"auto"===d?0:d):a.elem[a.prop]},set:function(a){c.fx.step[a.prop]?c.fx.step[a.prop](a):a.elem.style&&
(null!=a.elem.style[c.cssProps[a.prop]]||c.cssHooks[a.prop])?c.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};c.each(["toggle","show","hide"],function(a,d){var e=c.fn[d];c.fn[d]=function(g,h,i){return null==g||"boolean"==typeof g||!a&&c.isFunction(g)&&c.isFunction(h)?e.apply(this,arguments):this.animate(ta(d,!0),g,h,i)}});c.fn.extend({fadeTo:function(a,c,d,e){return this.filter(oa).css("opacity",
0).show().end().animate({opacity:c},a,d,e)},animate:function(a,d,e,g){var h=c.isEmptyObject(a),i=c.speed(d,e,g),d=function(){var d=Bb(this,c.extend({},a),i);h&&d.stop(!0)};return h||!1===i.queue?this.each(d):this.queue(i.queue,d)},stop:function(a,e,h){var g=function(a){var b=a.stop;delete a.stop;b(h)};return"string"!=typeof a&&(h=e,e=a,a=d),e&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var d=!0,e=null!=a&&a+"queueHooks",f=c.timers,l=c._data(this);if(e)l[e]&&l[e].stop&&g(l[e]);else for(e in l)l[e]&&
l[e].stop&&Pd.test(e)&&g(l[e]);for(e=f.length;e--;)f[e].elem===this&&(null==a||f[e].queue===a)&&(f[e].anim.stop(h),d=!1,f.splice(e,1));(d||!h)&&c.dequeue(this,a)})}});c.each({slideDown:ta("show"),slideUp:ta("hide"),slideToggle:ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){c.fn[a]=function(a,b,c){return this.animate(d,a,b,c)}});c.speed=function(a,d,e){var g=a&&"object"==typeof a?c.extend({},a):{complete:e||!e&&d||c.isFunction(a)&&a,duration:a,
easing:e&&d||d&&!c.isFunction(d)&&d};g.duration=c.fx.off?0:"number"==typeof g.duration?g.duration:g.duration in c.fx.speeds?c.fx.speeds[g.duration]:c.fx.speeds._default;if(null==g.queue||!0===g.queue)g.queue="fx";return g.old=g.complete,g.complete=function(){c.isFunction(g.old)&&g.old.call(this);g.queue&&c.dequeue(this,g.queue)},g};c.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};c.timers=[];c.fx=D.prototype.init;c.fx.tick=function(){for(var a,d=c.timers,
e=0;e<d.length;e++)a=d[e],!a()&&d[e]===a&&d.splice(e--,1);d.length||c.fx.stop()};c.fx.timer=function(a){a()&&c.timers.push(a)&&!Na&&(Na=setInterval(c.fx.tick,c.fx.interval))};c.fx.interval=13;c.fx.stop=function(){clearInterval(Na);Na=null};c.fx.speeds={slow:600,fast:200,_default:400};c.fx.step={};c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(c){return a===c.elem}).length});var rc=/^(?:body|html)$/i;c.fn.offset=function(a){if(arguments.length)return a===
d?this:this.each(function(d){c.offset.setOffset(this,a,d)});var e,h,g,k,i,j,l,m={top:0,left:0},n=this[0],s=n&&n.ownerDocument;if(s)return(h=s.body)===n?c.offset.bodyOffset(n):(e=s.documentElement,c.contains(e,n)?("undefined"!=typeof n.getBoundingClientRect&&(m=n.getBoundingClientRect()),g=Cb(s),k=e.clientTop||h.clientTop||0,i=e.clientLeft||h.clientLeft||0,j=g.pageYOffset||e.scrollTop,l=g.pageXOffset||e.scrollLeft,{top:m.top+j-k,left:m.left+l-i}):m)};c.offset={bodyOffset:function(a){var d=a.offsetTop,
e=a.offsetLeft;return c.support.doesNotIncludeMarginInBodyOffset&&(d+=parseFloat(c.css(a,"marginTop"))||0,e+=parseFloat(c.css(a,"marginLeft"))||0),{top:d,left:e}},setOffset:function(a,d,e){var g=c.css(a,"position");"static"===g&&(a.style.position="relative");var h=c(a),i=h.offset(),j=c.css(a,"top"),l=c.css(a,"left"),m={},n={},s,q;("absolute"===g||"fixed"===g)&&-1<c.inArray("auto",[j,l])?(n=h.position(),s=n.top,q=n.left):(s=parseFloat(j)||0,q=parseFloat(l)||0);c.isFunction(d)&&(d=d.call(a,e,i));null!=
d.top&&(m.top=d.top-i.top+s);null!=d.left&&(m.left=d.left-i.left+q);"using"in d?d.using.call(a,m):h.css(m)}};c.fn.extend({position:function(){if(this[0]){var a=this[0],d=this.offsetParent(),e=this.offset(),g=rc.test(d[0].nodeName)?{top:0,left:0}:d.offset();return e.top-=parseFloat(c.css(a,"marginTop"))||0,e.left-=parseFloat(c.css(a,"marginLeft"))||0,g.top+=parseFloat(c.css(d[0],"borderTopWidth"))||0,g.left+=parseFloat(c.css(d[0],"borderLeftWidth"))||0,{top:e.top-g.top,left:e.left-g.left}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||t.body;a&&!rc.test(a.nodeName)&&"static"===c.css(a,"position");)a=a.offsetParent;return a||t.body})}});c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,e){var h=/Y/.test(e);c.fn[a]=function(g){return c.access(this,function(a,b,g){var l=Cb(a);if(g===d)return l?e in l?l[e]:l.document.documentElement[b]:a[b];l?l.scrollTo(h?c(l).scrollLeft():g,h?g:c(l).scrollTop()):a[b]=g},a,g,arguments.length,null)}});c.each({Height:"height",Width:"width"},function(a,e){c.each({padding:"inner"+
a,content:e,"":"outer"+a},function(h,g){c.fn[g]=function(g,i){var j=arguments.length&&(h||"boolean"!=typeof g),l=h||(!0===g||!0===i?"margin":"border");return c.access(this,function(e,f,g){var h;return c.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(h=e.documentElement,Math.max(e.body["scroll"+a],h["scroll"+a],e.body["offset"+a],h["offset"+a],h["client"+a])):g===d?c.css(e,f,g,l):c.style(e,f,g,l)},e,j?g:d,j,null)}})});a.jQuery=a.$=c;"function"==typeof define&&define.amd&&define.amd.jQuery&&
define("jquery",[],function(){return c})})(window);$(function(){$.extend($.support,{touch:"ontouchend"in document});$.fn.addTouch=function(){$.support.touch&&this.each(function(a,d){d.addEventListener("touchstart",iPadTouchHandler,!1);d.addEventListener("touchmove",iPadTouchHandler,!1);d.addEventListener("touchend",iPadTouchHandler,!1);d.addEventListener("touchcancel",iPadTouchHandler,!1)});return this}});var lastTap=null,tapValid=!1,tapTimeout=null;function cancelTap(){tapValid=!1}
var rightClickPending=!1,rightClickEvent=null,holdTimeout=null,cancelMouseUp=!1;function cancelHold(){rightClickPending&&(window.clearTimeout(holdTimeout),rightClickPending=!1,rightClickEvent=null)}function startHold(a){rightClickPending||(rightClickPending=!0,rightClickEvent=a.changedTouches[0],holdTimeout=window.setTimeout("doRightClick();",800))}
function doRightClick(){rightClickPending=!1;var a=rightClickEvent,d=document.createEvent("MouseEvent");d.initMouseEvent("mouseup",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d);d=document.createEvent("MouseEvent");d.initMouseEvent("mousedown",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,2,null);a.target.dispatchEvent(d);d=document.createEvent("MouseEvent");d.initMouseEvent("contextmenu",!0,!0,window,1,a.screenX+50,a.screenY+
5,a.clientX+50,a.clientY+5,!1,!1,!1,!1,2,null);a.target.dispatchEvent(d);cancelMouseUp=!0;rightClickEvent=null}
function iPadTouchStart(a){var d=a.changedTouches[0],e="mouseover",h=document.createEvent("MouseEvent");h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);d.target.dispatchEvent(h);e="mousedown";h=document.createEvent("MouseEvent");h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);d.target.dispatchEvent(h);tapValid?(window.clearTimeout(tapTimeout),d.target==lastTap?(lastTap=null,tapValid=!1,e="click",h=document.createEvent("MouseEvent"),
h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(h),e="dblclick",h=document.createEvent("MouseEvent"),h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(h)):(lastTap=d.target,tapValid=!0,tapTimeout=window.setTimeout("cancelTap();",600),startHold(a))):(lastTap=d.target,tapValid=!0,tapTimeout=window.setTimeout("cancelTap();",600),startHold(a))}
function iPadTouchHandler(a){var d="";if(!(1<a.touches.length)){switch(a.type){case "touchstart":if($(a.changedTouches[0].target).is("select"))return;iPadTouchStart(a);a.preventDefault();return!1;case "touchmove":cancelHold();d="mousemove";a.preventDefault();break;case "touchend":if(cancelMouseUp)return cancelMouseUp=!1,a.preventDefault(),!1;cancelHold();d="mouseup";break;default:return}var a=a.changedTouches[0],e=document.createEvent("MouseEvent");e.initMouseEvent(d,!0,!0,window,1,a.screenX,a.screenY,
a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(e);"mouseup"==d&&(tapValid&&a.target==lastTap)&&(e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(e))}};var TAU=2*Math.PI;function bind(a,d){if(d)return function(){d.apply(a,arguments)}}function extend(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);return a}function log(){console.log.apply(console,arguments)}function clamp(a,d,e){return a?a<d?d:a>e?e:a:d}function map(a,d,e,h,l){return(a-d)*(l-h)/(e-d)+h}function checkAngle(a){a>Math.PI?a-=2*Math.PI:a<=-Math.PI&&(a+=2*Math.PI);return a}function rand(a,d){a=a||0;d=d||1;return Math.random()*(d-a)+a}function randInt(a,d){return Math.floor(rand(a,d))}
function randSign(){return 0.5<Math.random()?1:-1}function randBool(){return 0.5<Math.random()}function incrementString(a){var d,e=null,h=0;if(!a||!a.length)return"2";do{d=parseInt(a.charAt(a.length-1));if(isNaN(d))break;a=a.slice(0,-1);e+=d*Math.pow(10,h++)}while(9===d);return null!==e?a+(e+1):a+"2"}function timeString(a){var d=Math.floor(a/60),a=a-60*d;return(10>d?"0":"")+d+":"+(10>a?"0":"")+a}function rgbToHex(a,d,e){return"#"+(16777216+(a<<16)+(d<<8)+e).toString(16).slice(1).toUpperCase()}
function bresenham(a,d,e,h,l){for(var n=Math.abs(d-h),s=-Math.abs(e-l),u=d<h?1:-1,E=e<l?1:-1,w=n+s,C;;){a(d,e);if(d===h&&e===l)break;C=2*w;C>=s&&(w+=s,d+=u);C<=n&&(w+=n,e+=E)}}function ellipse(a,d,e,h,l){var n=Math.abs(d-h),s=Math.abs(e-l),u=s&1,E=4*(1-n)*s*s,w=4*(u+1)*n*n,C=E+w+u*n*n,ba;d>h&&(d=h,h+=n);e>l&&(e=l);e+=(s+1)/2;l=e-u;n*=8*n;u=8*s*s;do if(a(h,e,d,e),a(d,l,h,l),ba=2*C,ba<=w&&(e++,l--,C+=w+=n),ba>=E||2*C>w)d++,h--,C+=E+=u;while(d<=h);for(;e-l<s;)a(d-1,e,h+1,e++),a(d-1,l,h+1,l--)}
extend(CanvasRenderingContext2D.prototype,{drawLine:function(a,d,e,h){this.beginPath();this.moveTo(a,d);this.lineTo(e,h);this.stroke()},fillCircle:function(a,d,e){this.beginPath();this.arc(a,d,e,0,2*Math.PI,!0);this.fill()},strokeCircle:function(a,d,e){this.beginPath();this.arc(a,d,e,0,2*Math.PI,!0);this.stroke()},dashedTo:function(a,d,e,h,l){var n=e-a,s=h-d,u=Math.sqrt(n*n+s*s),E=l*n/u,l=l*s/u,u=E,w=l,C=!0;for(this.moveTo(a,d);Math.abs(n)>Math.abs(u)||Math.abs(s)>Math.abs(w);)C?this.lineTo(a+u,d+
w):this.moveTo(a+u,d+w),C=!C,u+=E,w+=l;this.lineTo(e,h)},dashedLine:function(a,d,e,h,l){this.beginPath();this.dashedTo(a,d,e,h,l);this.stroke()},dashedRect:function(a,d,e,h,l){this.beginPath();this.dashedTo(a,d,a+e,d,l);this.dashedTo(a+e,d,a+e,d+h,l);this.dashedTo(a+e,d+h,a,d+h,l);this.dashedTo(a,d+h,a,d,l);this.stroke()},drawArrow:function(a,d,e,h,l){l=l||1;this.drawLine(a,d,e,h);this.save();this.translate(e,h);this.rotate((new Vector(e-a,h-d)).angle());this.scale(l,l);this.beginPath();this.moveTo(-20,
0);this.lineTo(-25,-12);this.lineTo(1,0);this.lineTo(-25,12);this.closePath();this.fill();this.restore()},putImageDataOverlap:function(a,d,e){var h,l,n,s=a.data,u=a.width,a=a.height;this.save();this.translate(d,e);for(d=0;d<a;d++){h=0;l=4*d*u;for(e=0;e<u;e++)if(n=4*(d*u+e),s[l]!==s[n]||s[l+1]!==s[n+1]||s[l+2]!==s[n+2]||s[l+3]!==s[n+3])this.fillStyle="rgba("+s[l]+","+s[l+1]+","+s[l+2]+","+s[l+3]/255+")",this.fillRect(h,d,e-h,1),h=e,l=4*(d*u+h);this.fillStyle="rgba("+s[l]+","+s[l+1]+","+s[l+2]+","+
s[l+3]/255+")";this.fillRect(h,d,u-h,1)}this.restore()},cloneImageData:function(a){var d=this.createImageData(a),e;for(e=0;e<a.data.length;e++)d.data[e]=a.data[e];return d},createImageDataFromData:function(a){var d=this.createImageData(a.width,a.height),e;for(e=0;e<a.data.length;e++)d.data[e]=a.data[e];return d}});Array.prototype.forEachApply=function(a,d){this.forEach(function(e){e[a].call(e,d)})};Array.prototype.clone=function(){return this.concat()};
Array.prototype.shuffle=function(){for(var a=this.length,d,e;0<a--;)d=Math.floor(Math.random()*(a+1)),e=this[a],this[a]=this[d],this[d]=e;return this};Array.max=function(a){return Math.max.apply(Math,a)};Array.min=function(a){return Math.min.apply(Math,a)};var Vector=function(a,d){return this.set(a||0,d||0)};
Vector.prototype={set:function(a,d){this.x=a;this.y=d;return this},copy:function(a){return this.set(a.x,a.y)},clone:function(){return new Vector(this.x,this.y)},add:function(a){return new Vector(this.x+a.x,this.y+a.y)},addSelf:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a){return new Vector(this.x-a.x,this.y-a.y)},subSelf:function(a){this.x-=a.x;this.y-=a.y;return this},mul:function(a){return new Vector(this.x*a,this.y*a)},mulSelf:function(a){this.x*=a;this.y*=a;return this},div:function(a){return!a?
new Vector:new Vector(this.x/a,this.y/a)},divSelf:function(a){a&&(this.x/=a,this.y/=a);return this},dot:function(a){return this.x*a.x+this.y*a.y},normSquared:function(){return this.x*this.x+this.y*this.y},norm:function(){return Math.sqrt(this.normSquared())},normalize:function(){return this.div(this.norm())},normalizeSelf:function(){return this.divSelf(this.norm())},clamp:function(a){return this.normSquared()>a*a?this.normalize().mul(a):this},clampSelf:function(a){return this.normSquared()>a*a?this.normalizeSelf().mulSelf(a):
this},angle:function(a){return a?Math.acos(this.dot(a)/this.norm()/a.norm()):Math.atan2(this.y,this.x)},rotate:function(a){return this.clone().rotateSelf(a)},rotateSelf:function(a){return!a?this:this.set(Math.cos(a)*this.x-Math.sin(a)*this.y,Math.sin(a)*this.x+Math.cos(a)*this.y)},string:function(){return"( "+this.x+" | "+this.y+" )"},log:function(){console.log(this.string())},getData:function(){return{x:this.x,y:this.y}},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}};var Area=function(a,d,e,h){return this.set(a||0,d||0,e||0,h||0)};Area.prototype=new Vector;Area.prototype.constructor=Vector;
extend(Area.prototype,{set:function(a,d,e,h){this.x=a;this.y=d;this.width=e;this.height=h;return this},setPosition:function(a,d){this.x=a;this.y=d;return this},setCenter:function(a,d){this.x=a-0.5*this.width;this.y=d-0.5*this.height;return this},setSize:function(a,d){this.width=a;this.height=d;return this},copy:function(a){return this.set(a.x,a.y,a.width,a.height)},clone:function(){return new Area(this.x,this.y,this.width,this.height)},center:function(){return new Vector(this.x+this.width/2,this.y+
this.height/2)},contains:function(a){return a.x>=this.x&&a.x<=this.x+this.width&&a.y>=this.y&&a.y<=this.y+this.height},overlaps:function(a){return a instanceof Area?this.overlapsArea(a):a.overlapsArea(this)},overlapsArea:function(a){return this.x+this.width>a.x&&this.y+this.height>a.y&&this.x<a.x+a.width&&this.y<a.y+a.height},draw:function(a){a.strokeRect(this.x,this.y,this.width,this.height)},move:function(a){return this.addSelf(a)},resize:function(a){this.width=a.x-this.x;this.height=a.y-this.y;
return this},rasterize:function(a){this.x=Math.floor(this.x/a)*a;this.y=Math.floor(this.y/a)*a;this.width=Math.floor(this.width/a)*a;this.height=Math.floor(this.height/a)*a;return this},leavesArea:function(a){if(a.contains(this)){if(!a.contains({x:this.x+this.width,y:this.y+this.height}))return this.x+this.width>a.x+a.width?"width":"height"}else return this.x<a.x?"x":"y";return!1},adjust:function(){0>this.width&&(this.x-=this.width*=-1);0>this.height&&(this.y-=this.height*=-1);this.x=Math.floor(this.x);
this.y=Math.floor(this.y);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this},scaleSelf:function(a){this.x*=a.x;this.y*=a.y;this.width*=a.x;this.height*=a.y;return this.adjust()},string:function(){return"( "+this.x+" | "+this.y+" | "+this.width+" | "+this.height+" )"},getData:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}});var Circle=function(a,d,e){this.set(a||0,d||0,e||0)};Circle.prototype=new Vector;Circle.prototype.constructor=Vector;
extend(Circle.prototype,{set:function(a,d,e){this.x=a;this.y=d;this.radius=e;return this},setPosition:function(a,d){this.x=a;this.y=d;return this},setRadius:function(a){this.radius=a;return this},copy:function(a){return this.set(a.x,a.y,a.radius)},clone:function(){return new Circle(this.x,this.y,this.radius)},contains:function(a){return this.sub(a).norm()<=this.radius},overlaps:function(a){return a instanceof Circle?this.overlapsCircle(a):this.overlapsArea(a)},overlapsCircle:function(a){return this.sub(a).norm()<=
this.radius+a.radius},overlapsArea:function(a){var d=a.center().subSelf(this);d.x=Math.abs(d.x)-0.5*a.width;d.y=Math.abs(d.y)-0.5*a.height;return d.x>this.radius||d.y>this.radius?!1:0>=d.x||0>=d.y?!0:d.normSquared()<this.radius*this.radius},draw:function(a){a.strokeCircle(this.x,this.y,this.radius)},move:function(a){return this.addSelf(a)},resize:function(a){this.radius=this.sub(a).norm();return this},leavesArea:function(a){a.center();if(a.contains({x:this.x-this.radius,y:this.y-this.radius})){if(!a.contains({x:this.x+
this.radius,y:this.y+this.radius}))return this.x+this.radius>a.x+a.width?"width":"height"}else return this.x-this.radius<a.x?"x":"y";return!1},adjust:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.radius=Math.floor(this.radius)},scaleSelf:function(a){this.x*=a.x;this.y*=a.y;this.radius*=Math.abs(a.x);return this},string:function(){return"( "+this.x+" | "+this.y+" | "+this.radius+" )"},getData:function(){return{x:this.x,y:this.y,radius:this.radius}}});var Path=function(a){this.points=a||[]};Path.prototype={add:function(a){this.points.push(a);return this},copy:function(a){this.points=[];for(var d=0;d<a.points.length;d++)this.add(a.points[d]);return this},clone:function(){return(new Path).copy(this)},draw:function(a,d){for(var e=this.points,h=0;h<e.length-1;h++)a.drawArrow(e[h].x,e[h].y,e[h+1].x,e[h+1].y,d||1)},string:function(){return JSON.stringify(this.points)},log:function(){console.log(this.string())},getData:function(){return this.clone().points}};var StateMachine=function(a){this.scope=a;this.currentState=new this.State;this.states={};this.transitions={}};
StateMachine.prototype={State:function(a){a=a||{};this.name=a.name||"none";this.enter=a.enter||function(){};this.update=a.update||function(){};this.draw=a.draw||function(){};this.exit=a.exit||function(){}},Transition:function(a){a=a||{};this.name=a.name||"none";this.from=a.from||"none";this.to=a.to||"none";this.callback=a.callback||function(){}},init:function(a){var d,e=a.states instanceof Array?a.states:[];transitions=a.transitions instanceof Array?a.transitions:[];for(d=0;d<e.length;d++)this.addState(new this.State(e[d]));
for(d=0;d<transitions.length;d++)this.addTransition(new this.Transition(transitions[d]));this.states[a.initial]&&this.changeState(a.initial)},update:function(a){this.currentState.update.call(this.scope,a,this)},draw:function(a){this.currentState.draw.call(this.scope,a,this)},addState:function(a){this.states[a.name]=a},addTransition:function(a){var d=this;this.transitions[a.name]=a;this[a.name]=function(){return d.currentState.name!==a.to&&(d.currentState.name===a.from||"*"===a.from)?(d.changeState(a.to,
a.callback),!0):!1}},changeState:function(a,d){this.currentState.exit.call(this.scope);this.currentState=this.states[a];d&&d.call(this.scope);this.currentState.enter.call(this.scope,this)},hasState:function(a){return this.currentState.name===a}};var MoveAction=function(a,d,e){this.gameObject=d;this.speed=e;this.target=null;this.offset=new Vector;this.area=null;this.random=!1;this.direction=null;this.path=[];"moveIn"===a?this.execute=this.executeMoveIn:"moveTo"===a?this.execute=this.executeMoveTo:"moveAlongPath"==a?this.execute=this.executePath:"jumpTo"===a&&(this.execute=this.executeJumpTo)};
MoveAction.prototype={execute:null,executeJumpTo:function(){this.area?this.gameObject.movement.jump(this.area):this.gameObject.movement.setPosition(this.target.add(this.offset))},executeMoveTo:function(){this.gameObject.movement.setTarget(this.target,this.offset,this.speed)},executePath:function(){this.gameObject.movement.followPath(this.path,this.mode,this.speed)},executeMoveIn:function(){var a;a=this.random?2*Math.random()*Math.PI:null!==this.direction?this.direction:this.target.sub(this.gameObject.getPosition()).angle();
this.gameObject.movement.setDirection(a,this.speed)}};
var RoamAction=function(a,d,e,h){this.execute=function(){a.movement.roam(d,e,h)}},SwapAction=function(a,d){this.execute=function(){var e=a.getPosition(),h=d.getPosition(),l=e.clone();a.movement.stop();d.movement.stop();e.copy(h);h.copy(l)}},StopAction=function(a){this.execute=function(){a.movement.stop()}},ScaleAction=function(a,d,e){this.shape=a.shape;this.scale=new Vector(d,d);this.speed=this.speeds[e];this.execute=4===e?this.executeJumpScale:this.executeMoveScale};
ScaleAction.prototype={speeds:[1.25E-4,3.75E-4,0.00125,0.00375,1],execute:null,executeJumpScale:function(){this.shape.setScale(this.scale)},executeMoveScale:function(){this.shape.scaleTo(this.scale,this.speed)}};var FlipAction=function(a,d){this.shape=d.shape;this.flip=new Vector(1,1);"horizontally"===a?this.flip.set(-1,1):"vertically"===a?this.flip.set(1,-1):"both"===a&&this.flip.set(-1,-1)};FlipAction.prototype={execute:function(){this.shape.flip(this.flip)}};
var ArtAction=function(a,d,e,h,l,n){this.gameObject=d;this.frame=e;this.frame2=h;this.mode=l;this.speed=n;this.graphic;"frame"===a?this.execute=this.executeFrame:"play"===a?this.execute=this.executePlay:"stop"===a?this.execute=this.executeStop:"change"===a&&(this.execute=this.executeChange)};
ArtAction.prototype={execute:null,executeFrame:function(){this.gameObject.animation.setFrame(this.frame)},executePlay:function(){this.gameObject.animation.play(this.frame,this.frame2,this.mode,this.speed)},executeChange:function(){this.gameObject.setGraphic(this.graphic)},executeStop:function(){this.gameObject.animation.stop()}};
var WinAction={execute:function(a){!a.isWon&&!a.isLost&&(a.isWon=!0,a.player.fsm.end())}},LoseAction={execute:function(a){!a.isWon&&!a.isLost&&(a.isLost=!0,a.player.fsm.end())}},CounterAction=function(a,d,e){this.gameObject=e;this.count=d;this.type=a;this.execute=this[a];if(!this[a])throw"Counter type is unknown: "+a;};CounterAction.prototype={execute:null,up:function(){this.gameObject.counter++},down:function(){this.gameObject.counter--},set:function(){this.gameObject.counter=this.count}};var Animation=function(){this.frame=1;this.time=0;this.up=!0;this.plays=!1;this.speed};
Animation.prototype={speeds:[400,250,150,90,40],reset:function(){this.stop()},getFrame:function(){return this.frame},setFrame:function(a){this.frame=a;this.stop()},play:function(a,d,e,h){if(!this.plays||!(a===this.start&&d===this.end&&e===this.mode&&this.speed===this.speeds[h]))this.stop(),this.start=a,this.end=d,this.frame=a,this.up=a<d,this.mode=a!==d?e:"once",this.speed=this.speeds[h],this.plays=!0},stop:function(){this.time=0;this.plays=!1},update:function(a){if(this.plays&&(this.time+=a,this.time>=
this.speed))if(this.time-=this.speed,"loop"===this.mode)this.frame=this.up?this.frame+1>this.end?this.start:this.frame+1:this.frame-1<this.end?this.start:this.frame-1;else if("ping-pong"===this.mode){if(this.frame+=this.up?1:-1,this.frame===this.end||this.frame===this.start)this.up=!this.up}else this.frame!==this.end?this.frame+=this.up?1:-1:this.stop()}};var Behaviour=function(){this.triggers=[];this.actions=[]};Behaviour.prototype={check:function(a){for(var d=!0,e=0;e<this.triggers.length;e++)if(!this.triggers[e].check(a)){d=!1;break}if(d)if(5>a.version)this.actions.forEachApply("execute",a);else return this.actions;return[]},reset:function(){this.triggers.forEachApply("reset")},draw:function(a){this.triggers.forEachApply("draw",a)}};var Game=function(a){this.player=a;this.mouse=a.mouse;this.background=null;this.duration=5E3;this.graphics=[];this.gameObjects=[];this.behaviours=[];this.startActions=[];this.isLost=this.isWon=!1;this.version=0};
Game.prototype={init:function(){},reset:function(){this.isLost=this.isWon=!1;this.gameObjects.forEachApply("reset");this.behaviours.forEachApply("reset")},start:function(){this.startActions.forEachApply("execute",this)},update:function(a){for(var d=[],e=0;e<this.behaviours.length;e++)d=d.concat(this.behaviours[e].check(this));d.forEachApply("execute",this);this.gameObjects.forEachApply("update",a)},draw:function(a){this.background?this.background.drawImage(a):(a.fillStyle="#FFF",a.fillRect(0,0,640,
390));a.debug&&this.behaviours.forEachApply("draw",a);a.fillStyle="#AAA";a.strokeStyle="#AAA";this.gameObjects.forEachApply("draw",a);a.debug&&a.fillCircle(this.mouse._pos.x,this.mouse._pos.y,3)},getGameObjectWithID:function(a){for(var d=0;d<this.gameObjects.length;d++)if(this.gameObjects[d].ID===a)return this.gameObjects[d];console.error("no gameObject with ID "+a);return null},getGraphicWithID:function(a){for(var d=0;d<this.graphics.length;d++)if(this.graphics[d].ID===a)return this.graphics[d];
console.error("no graphic with ID "+a);return null},getGameObjectAt:function(a){for(var d=this.gameObjects.length-1;0<=d;d--)if(this.gameObjects[d].getArea().contains(a))return this.gameObjects[d];return null}};var GameObject=function(a,d){this.ID=a;this.name=d;this.graphic=this.startGraphic=null;this.shape=new Shape;this.movement=new Movement(this.shape);this.animation=new Animation;this.counter=0};
GameObject.prototype={reset:function(){this.setGraphic(this.startGraphic);this.shape.reset();this.movement.reset();this.animation.reset();this.counter=0},update:function(a){this.shape.update(a);this.movement.update(a);this.animation.update(a)},draw:function(a){var d;this.shape.draw(a,this.graphic,this.animation.getFrame());a.debug&&(this.movement.draw(a),d=this.shape.getBounds(),a.fillText(this.counter,d.x+2,d.y+17))},setGraphic:function(a){this.graphic=a;this.shape.setGraphicSize(a.frameWidth,a.frameHeight);
this.animation.setFrame(1)},setStartGraphic:function(a){this.startGraphic=a;this.setGraphic(a)},getPosition:function(){return this.shape.getPosition()},getArea:function(){return this.shape.getBounds()}};var Graphic=function(a){this.ID=a;this.image=null;this.frameHeight=this.frameWidth=0;this.frameCount=1;this.canvas=null};
Graphic.prototype={init:function(){var a=this.image,d,e;this.frameWidth*this.frameCount!==a.width||this.frameHeight!==a.height?console.error("graphic size and image size is not the same",this,a.width,a.height):(d=document.createElement("canvas"),d.width=this.frameWidth*this.frameCount,d.height=this.frameHeight,e=d.getContext("2d"),e.drawImage(a,0,0),this.canvas=d)},draw:function(a,d){var e=this.frameWidth,h=this.frameHeight;a.drawImage(this.canvas,(d-1)*e,0,e,h,-0.5*e,-0.5*h,e,h)},drawImage:function(a){a.drawImage(this.canvas,
0,0)}};var Mouse=function(a,d){this.canvas=d;this.player=a;this.dragging=this.clicked=!1;this._pos=new Vector;this.pos=new Vector;this.move=new Vector;this.area=new Area(0,0,640,390)};
Mouse.prototype={unbind:function(){$(this.canvas).unbind("mousedown");$(this.canvas).unbind("mousemove");$(this.canvas).unbind("mouseup");$(this.canvas).unbind("mousedown")},handleClick:function(){this.unbind();$(this.canvas).mousedown(bind(this,this.click))},handleDrag:function(){this.unbind();$(this.canvas).mousedown(bind(this,this.mousedown));$(this.canvas).mousemove(bind(this,this.mousemove));$(this.canvas).mouseup(bind(this,this.mouseup))},click:function(a){this.setMouse(a,this._pos);this.area.contains(this._pos)&&
(this.pos.copy(this._pos),this.clicked=!0,this.player.click(this));a.stopPropagation()},mousedown:function(a){this.setMouse(a,this.pos);this._pos.copy(this.pos);this.dragging=!0;this.player.mousedown(this);a.stopPropagation()},mousemove:function(a){this.dragging&&(this._pos.copy(this.pos),this.setMouse(a,this.pos),this.move.copy(this.pos).subSelf(this._pos),this.player.mousemove(this));a.stopPropagation()},mouseup:function(a){this.setMouse(a,this.pos);this.dragging=!1;this.player.mouseup(this);a.stopPropagation()},
setMouse:function(a,d){var e=$(this.canvas).offset(),h=this.player.increment;d.set(a.pageX-e.left,a.pageY-e.top);d.mulSelf(this.player.scale);d.x-=h.x+1;d.y-=h.y+1}};var Movement=function(a){this.shape=a;this.target;this.direction;this.offset=new Vector;this.roamArea;this.roamMode;this.bounceStart;this.time;this.speed;this.path=[];this.pathCounter=0;this.pathDirection=this.pathMode=null};
Movement.prototype={speeds:[0.125,0.375,1,2.5,6.25],reset:function(){this.stop()},getPosition:function(){return this.shape.getPosition()},setPosition:function(a){this.stop();this.shape.setPosition(a)},getArea:function(){return this.shape.getBounds()},setTarget:function(a,d,e){this.stop();this.target=a;this.offset.copy(d);this.setSpeed(e)},setDirection:function(a,d){this.stop();this.direction=a;this.setSpeed(d)},setSpeed:function(a){this.speed=this.speeds[a]},roam:function(a,d,e){var h=this.getArea(),
l=this.shape.getStartBounds(),n;a===this.roamMode&&d===this.roamArea&&this.speed===this.speeds[e]||(this.stop(),this.roamMode=a,this.roamArea=d,this.setSpeed(e),n=h.width||2*h.radius,e=h.height||2*h.radius,d.width<n&&(n=n-d.width+10,d.width+=n,d.x-=0.5*n),d.height<e&&(n=e-d.height+10,d.height+=n,d.y-=0.5*n),h.leavesArea(d)&&this.insertObject(d),"wiggle"===a||"insect"===a?this.direction=2*Math.random()*Math.PI:"reflect"===a?this.direction=Math.PI*(0.25+0.5*(Math.floor(100*Math.random())%4)):"bounce"===
a&&(h=this.getArea(),a=d.height-e,h=a-h.y,a=Math.sqrt(19.62*a),l.done?(h+=l.radius||0,this.bounceStart=d.y+d.height-(l.radius||l.height)-l.y):this.bounceStart=d.y+d.height-0.5*e,this.direction=new Vector(this.speed*randSign(),a),this.time=100*((a-Math.sqrt(a*a-19.62*h))/9.81)))},jump:function(a){a!==this.roamArea&&(this.stop(),this.roamArea=a,this.insertObject(a))},followPath:function(a,d,e){a===this.path&&d===this.pathMode&&this.speed===this.speeds[e]||(this.stop(),1<a.length&&(a[0]=this.getPosition().clone(),
this.target=a[1],this.path=a,this.pathMode=d,this.setSpeed(e),this.pathCounter=1))},stop:function(){this.roamArea=this.roamMode=this.direction=this.target=null;this.pathCounter=0;this.pathDirection=this.pathMode=null;this.offset.set(0,0)},update:function(a){var d=0.08*this.speed*a;this.target?this.updateTarget(d):"bounce"===this.roamMode?(this.time+=a,this.updateBounce(0.001*this.time)):null!==this.direction&&this.updateDirection(d)},updateTarget:function(a){var d=this.vector,e=this.target,h=this.getPosition();
d.copy(e).addSelf(this.offset).subSelf(h);d.norm()<a?(h.copy(e).addSelf(this.offset),this.pathMode?this.updatePath():this.target=null):(d.normalizeSelf().mulSelf(a),h.addSelf(d))},updatePath:function(){var a=this.path.length-1,d=this.pathMode,e=this.pathCounter;if("circular"===d)e===a?e=0:e++;else if("ping-pong"===d)e===a?this.pathDirection="backward":0===e&&(this.pathDirection="forward"),e+="backward"===this.pathDirection?-1:1;else if("once"===d){if(e===a){this.stop();return}e++}this.target=this.path[e];
this.pathCounter=e},updateDirection:function(a){var d=this.vector,e=this.roamMode,h=this.getPosition();d.set(a,0).rotateSelf(this.direction);h.addSelf(d);if(e&&("wiggle"===e?this.direction+=(0.2*Math.random()-0.1)*Math.PI:"insect"===e&&(this.direction=2*Math.random()*Math.PI),a=this.getArea().leavesArea(this.roamArea)))h.subSelf(d),this.reflectDirection(a)},updateBounce:function(a){var d=this.getPosition(),e=this.direction,a=a*10*this.speed;d.x+=e.x;d.y=this.bounceStart-e.y*a+4.905*a*a;if(a=this.getArea().leavesArea(this.roamArea))"x"===
a||"width"===a?(e.x*=-1,d.x+=e.x):(this.time=0,d.y=this.bounceStart)},reflectDirection:function(a){var d=this.vector.set(1,0).rotateSelf(this.direction);"x"===a||"width"===a?d.x*=-1:d.y*=-1;this.direction=d.angle()},insertObject:function(a){var d=this.getArea(),e=this.shape.getStartBounds(),h=this.getPosition();h.set(a.x+Math.random()*(a.width-(d.width||2*d.radius)),a.y+Math.random()*(a.height-(d.height||2*d.radius)));e.done?(h.subSelf(e),e.radius&&(h.x+=e.radius,h.y+=e.radius)):(h.x+=0.5*d.width,
h.y+=0.5*d.height)},draw:function(a){var d=this.getPosition();this.getArea().draw(a);this.target?(this.pathMode&&(new Path(this.path)).draw(a,0.5),a.save(),a.fillStyle=a.strokeStyle="red",a.drawArrow(d.x,d.y,this.target.x+this.offset.x,this.target.y+this.offset.y,0.7),a.restore()):this.roamMode?this.roamArea.draw(a):this.direction&&(a.save(),a.translate(d.x,d.y),a.rotate(this.direction),a.drawArrow(0,0,70,0,0.5),a.restore())},vector:new Vector};var ClickTrigger=function(a,d){this.gameObject=a;this.area=d};ClickTrigger.prototype={check:function(a){return a.mouse.clicked?this.gameObject?this.gameObject.getArea().contains(a.mouse.pos):this.area.contains(a.mouse.pos):!1},draw:function(a){this.area&&(a.strokeStyle="#F84",this.area.draw(a))},reset:function(){}};var ContactTrigger=function(a,d,e,h){this.gameObject=d;this.gameObject2=e;this.area=h;triggered=!1;"touch"===a?this.check=this.checkTouch:"overlap"===a&&(this.check=this.checkOverlap)};
ContactTrigger.prototype={check:null,checkTouch:function(){var a=this.checkOverlap();if(this.triggered&&!a)this.triggered=!1;else if(!this.triggered&&a)return this.triggered=!0;return!1},checkOverlap:function(){return this.area?this.gameObject.getArea().overlaps(this.area):this.gameObject.getArea().overlaps(this.gameObject2.getArea())},reset:function(){this.triggered=!1},draw:function(a){this.area&&(a.strokeStyle="#F77",this.area.draw(a))}};var TimeTrigger=function(a,d){this.time=a;this.time2=d;this.reset()};
TimeTrigger.prototype={check:function(a){var a=100*(a.player.timePlayed/a.duration),d=this.time2?this.randTime:this.time;return!this.triggered&&a>=d?this.triggered=!0:!1},reset:function(){this.triggered=!1;this.time2&&(this.randTime=this.time+Math.random()*(this.time2-this.time))},draw:function(a){var d=this.randTime||this.time,e=a.player.timelineCanvas.width,a=a.player.timelineCtx;a.fillStyle=this.triggered?"#AAA":"#333";this.randTime&&(a.fillRect(Math.floor(0.01*e*this.time)-1,0,2,16),a.fillRect(Math.floor(0.01*
e*this.time2)-1,0,2,16));a.fillRect(Math.floor(0.01*e*d)-1,0,3,16)}};
var EndTrigger=function(a){this.triggered=!1;this.check=function(d){return d[a]&&!this.triggered?this.triggered=!0:!1};this.reset=function(){this.triggered=!1};this.draw=function(){}},WonTrigger={check:function(a){return a.isWon},reset:function(){},draw:function(){}},LostTrigger={check:function(a){return a.isLost},reset:function(){},draw:function(){}},CounterTrigger=function(a,d,e,h){this.gameObject=d;this.gameObject2=h||{counter:e};this.triggered=!1;this.compareFunction=this[a];if(!this[a])throw"Counter type is unknown: "+
a;};CounterTrigger.prototype={check:function(){return this.compareFunction(this.gameObject.counter,this.gameObject2.counter)?this.triggered=!0:!1},compareFunction:null,equal:function(a,d){return a===d},greater:function(a,d){return a>d},smaller:function(a,d){return a<d},reset:function(){this.triggered=!1},draw:function(){}};var Shape=function(){this.startPosition=new Vector;this.position=new Vector;this.startBounds=new Area;this.bounds=new Area;this.scale=new Vector(1,1);this.targetScale=new Vector;this.speed;this.scales=!1;this.vector=new Vector};
Shape.prototype={reset:function(){this.position.copy(this.startPosition);this.scale.set(1,1);this.scales=!1},getPosition:function(){return this.position},setPosition:function(a){this.position.copy(a)},movePosition:function(a){this.position.copy(this.startPosition.addSelf(a))},getBounds:function(){return this.bounds.copy(this.startBounds).scaleSelf(this.scale).addSelf(this.position)},getStartBounds:function(){return this.startBounds},setBounds:function(a){this.startBounds=a.clone();this.bounds=a.clone();
this.startBounds.done=!0},setGraphicSize:function(a,d){this.startBounds.done||this.startBounds.set(-a/2,-d/2,a,d)},getScale:function(){return this.scale},setScale:function(a){this.scale.copy(a);this.scales=!1},scaleTo:function(a,d){this.targetScale.copy(a);this.speed=d;this.scales=!0},flip:function(a){this.scale.x*=a.x;this.scale.y*=a.y;this.targetScale.x*=a.x;this.targetScale.y*=a.y},update:function(a){if(this.scales){var d=this.vector,e=this.targetScale,h=this.scale,a=this.speed*a;d.copy(e).subSelf(h);
d.norm()<a?(h.copy(e),this.scales=!1):(d.normalizeSelf().mulSelf(a),h.addSelf(d))}},draw:function(a,d,e){a.save();a.translate(this.position.x,this.position.y);a.scale(this.scale.x,this.scale.y);d.draw(a,e);a.restore()}};var Player=function(){this.ID=Player.count++;this.mouse=this.loader=this.game=this.node=this.timelineCtx=this.timelineCanvas=this.canvas=this.ctx=null;this.fsm=new StateMachine(this);this.fsm.init({initial:"init",states:[{name:"init"},{name:"load",enter:this.enterLoad,draw:this.drawLoad,exit:this.exitLoad},{name:"ready",enter:this.enterReady},{name:"play",enter:this.enterPlay,draw:this.draw,update:this.update,exit:this.exitPlay},{name:"end",draw:this.draw,update:this.update},{name:"error",enter:this.enterError}],
transitions:[{name:"parse",from:"*",to:"load"},{name:"loaded",from:"load",to:"ready",callback:this.onReady},{name:"start",from:"ready",to:"play",callback:this.onStart},{name:"end",from:"play",to:"end",callback:this.onEnd},{name:"restart",from:"end",to:"ready"},{name:"error",from:"*",to:"error"}]});this.restTime=this.timePlayed=this.time=0;this.terminate=this.hasLoaded=!1};
Player.prototype={increment:{x:0,y:0},scale:1,loadAnimated:!0,endDelay:1E3,init:function(a){var d=$("#playerCanvas",a)[0],e=d.getContext("2d"),h=$(".playerTimeline",a)[0],l=this.increment,n=this;a.disableSelection();d.width=640+2*l.x;d.height=390+2*l.y;e.save();e.translate(l.x,l.y);e.font="20px sans-serif";this.ctx=e;this.canvas=d;e.player=this;this.mouse=new Mouse(this,d);e.debug=!1;$(".playButton",a).click(function(a){n.fsm.start();a.stopPropagation()});$(".playerUI",a).click(function(){n.fsm.restart()});
$("#player").addTouch();this.node=a;h&&(h.width=$(".playerTimeline",a).width(),h.height=$(".playerTimeline",a).height(),this.timelineCanvas=h,this.timelineCtx=h.getContext("2d"))},startRunloop:function(){function a(){d.terminate||(d.run(),requestAnimationFrame(a))}var d=this;a()},run:function(){var a,d=Date.now();a=d-this.time;this.time=d;this.fsm.update(100<a?100:a);this.fsm.draw(this.ctx);this.mouse.clicked=!1;Player.updates[this.ID]=this.time},reset:function(){this.restTime=this.timePlayed=0;this.mouse.clicked=
!1},parse:function(a,d,e){var h=this;this.hasLoaded=!1;this.fsm.parse();this.game=new Game(this,this.mouse);this.loader=new Loader(function(){h.hasLoaded=!0;h.fsm.loaded();d&&d()},this.loadAnimated,e);try{Parser.parseData(a,this.game,this.loader)}catch(l){console.log(l,l.message,l.stack),this.fsm.error()}},update:function(a){this.fsm.hasState("play")&&(this.timePlayed+=a);this.game.update(a);this.fsm.hasState("play")&&this.timePlayed>this.game.duration&&LoseAction.execute(this.game)},draw:function(a){this.game.draw(a);
this.timePlayed&&(this.drawTimeline(this.timelineCtx),a=Math.ceil((this.game.duration-this.timePlayed)/1E3),this.restTime!==a&&(this.showTime(a),this.restTime=a))},drawTimeline:function(a){a.fillStyle=this.game.isWon?"#70B477":this.game.isLost?"#CD5654":"#999";a.fillRect(0,0,Math.floor(this.timePlayed/this.game.duration*this.timelineCanvas.width),this.timelineCanvas.height)},drawLoad:function(a){this.loader.draw(a)},click:function(){},enterLoad:function(){var a=this.node;$(".playerUI",a).show();$(".loadScreen",
a).show();$(".titleScreen",a).hide();$(".playButton",a).removeClass("active");$(".titleBar",a).removeClass("active");$(".instructionBar",a).removeClass("active")},exitLoad:function(){$(".loadScreen",this.node).hide();this.showTime(this.game.duration/1E3)},enterReady:function(){var a=this.node;$(".titleScreen",a).show();$(".endScreen",a).fadeOut(300);$(".playButton",a).addClass("active");$(".titleBar",a).addClass("active");$(".instructionBar",a).addClass("active")},onReady:function(){this.reset();
this.game.reset();this.draw(this.ctx)},onStart:function(){var a=this.node;$(".playButton",a).removeClass("active");$(".titleBar",a).removeClass("active");$(".instructionBar",a).removeClass("active");$(".playerUI",a).delay(500).fadeOut(0);$(".titleScreen",a).delay(500).fadeOut(0);this.reset();this.game.reset();this.game.start()},enterPlay:function(){this.timelineCanvas.width=this.timelineCanvas.width;this.showTime(this.game.duration/1E3);this.mouse.handleClick()},exitPlay:function(){this.mouse.unbind()},
onEnd:function(){var a=this,d;$(".playerUI",this.node).show();this.game.isWon?(d=".winScreen",this.onWin()):(d=".loseScreen",this.onLose());$(".endText",this.node).hide();$(d,this.node).show();$(".endScreen",this.node).fadeIn(200);this.draw(this.ctx);setTimeout(function(){a.onRestart(a.game.isWon)&&a.fsm.restart()},1500)},enterError:function(){$(".titleScreen",this.node).hide();$(".startScreen",this.node).hide();$(".endScreen",this.node).hide();$(".errorScreen",this.node).show();this.ctx.fillStyle=
"white";this.ctx.fillRect(0,0,640,390);this.showTime(0)},showTime:function(a){$(".playerTime",this.node).html(timeString(a))},debug:function(){this.ctx.debug=!this.ctx.debug;this.redraw=!0},onWin:function(){},onLose:function(){},onRestart:function(){return!0}};Player.count=0;Player.updates=[];var Loader=function(a,d,e){this.callback=a;this.imagesLoaded=this.imageCount=0;this.corsSave=e;this.animated=d;this.loadCircle=0};
Loader.prototype={loadImage:function(a,d){if(a)if(100<=this.imageCount)console.error("Loader does not load more than 100 images");else{var e=new Image,h=this;e.onload=function(){d();h.imageLoaded()};var l="localhost"===document.location.hostname?!0:!1;this.corsSave&&(a=l?a:"/s3?url="+a);e.src=a;this.imageCount++;return e}},imageLoaded:function(){this.imagesLoaded++;this.animated||this.checkRemaining()},checkRemaining:function(){this.imageCount===this.imagesLoaded&&this.callback()},draw:function(a){var d=
this.imagesLoaded/this.imageCount+0.02,e=this.loadCircle,e=e+0.1*(d-e);0.02>d-e?1.02===d&&this.checkRemaining():(a.fillStyle="white",a.fillRect(0,0,640,390),a.save(),a.translate(320.5,160.5),a.lineWidth=5,a.strokeStyle="#C3C3C3",a.beginPath(),a.arc(0,0,30,0,TAU,!0),a.stroke(),a.strokeStyle="#CD5654",a.lineWidth=7,a.beginPath(),a.arc(0,0,30,-0.25*TAU,(-0.25+e)*TAU,!1),a.stroke(),a.restore(),this.loadCircle=e)}};var Parser={game:null,loader:null,actionIDs:{moveInDirection:function(a,d){var e=new MoveAction("moveIn",d,a.speed);e.direction=a.angle;return e},moveInRandom:function(a,d){var e=new MoveAction("moveIn",d,a.speed);e.random=!0;return e},moveInLocation:function(a,d){var e=new MoveAction("moveIn",d,a.speed);e.target=(new Vector).copy(a.location);return e},moveInObject:function(a,d,e){d=new MoveAction("moveIn",d,a.speed);d.target=e.getGameObjectWithID(a.objectID).getPosition();return d},moveToLocation:function(a,
d){var e=new MoveAction("moveTo",d,a.speed);e.target=(new Vector).copy(a.location);return e},moveAlongPath:function(a,d){var e=new MoveAction("moveAlongPath",d,a.speed);e.path=a.path;e.mode=a.mode;return e},moveToObject:function(a,d,e){d=new MoveAction("moveTo",d,a.speed);d.target=e.getGameObjectWithID(a.objectID).getPosition();d.offset=(new Vector).copy(a.offset);return d},jumpToLocation:function(a,d){var e=new MoveAction("jumpTo",d);e.target=(new Vector).copy(a.location);return e},jumpToObject:function(a,
d,e){d=new MoveAction("jumpTo",d);d.target=e.getGameObjectWithID(a.objectID).getPosition();d.offset=(new Vector).copy(a.offset);return d},jumpToArea:function(a,d){var e=new MoveAction("jumpTo",d);e.area=(new Area).copy(a.area);return e},moveRoam:function(a,d){return new RoamAction(d,a.mode,(new Area).copy(a.area),a.speed)},moveSwap:function(a,d,e){return new SwapAction(d,e.getGameObjectWithID(a.objectID))},moveStop:function(a,d){return new StopAction(d)},scaleSize:function(a,d){return new ScaleAction(d,
a.scale/100,a.speed)},flipObject:function(a,d){return new FlipAction(a.mode,d)},artToFrame:function(a,d){return new ArtAction("frame",d,a.frame)},artPlay:function(a,d){return new ArtAction("play",d,a.frame,a.frame2,a.mode,a.speed)},artStop:function(a,d){return new ArtAction("stop",d)},artChange:function(a,d,e){d=new ArtAction("change",d);d.graphic=e.getGraphicWithID(a.graphicID);return d},gameWin:function(){return WinAction},gameLose:function(){return LoseAction},gameEnd:function(){return LoseAction},
counterSet:function(a,d){return action=new CounterAction("set",a.counter,d)},counterUp:function(a,d){return action=new CounterAction("up",a,d)},counterDown:function(a,d){return action=new CounterAction("down",a,d)}},triggerIDs:{clickSelf:function(a,d){return new ClickTrigger(d)},clickObject:function(a,d,e){return new ClickTrigger(e.getGameObjectWithID(a.objectID))},clickArea:function(a){return new ClickTrigger(null,(new Area).copy(a.area))},touchObject:function(a,d,e){return 3>e.version?new ContactTrigger("touch",
d,e.getGameObjectWithID(a.objectID)):new ContactTrigger("touch",e.getGameObjectWithID(a.objectID),e.getGameObjectWithID(a.object2ID))},touchArea:function(a,d,e){return 3>e.version?new ContactTrigger("touch",d,null,(new Area).copy(a.area)):new ContactTrigger("touch",e.getGameObjectWithID(a.objectID),null,(new Area).copy(a.area))},overlapObject:function(a,d,e){return 3>e.version?new ContactTrigger("overlap",d,e.getGameObjectWithID(a.objectID)):new ContactTrigger("overlap",e.getGameObjectWithID(a.objectID),
e.getGameObjectWithID(a.object2ID))},overlapArea:function(a,d,e){return 3>e.version?new ContactTrigger("overlap",d,null,(new Area).copy(a.area)):new ContactTrigger("overlap",e.getGameObjectWithID(a.objectID),null,(new Area).copy(a.area))},timeExact:function(a){return new TimeTrigger(a.time)},timeRandom:function(a){return new TimeTrigger(a.time,a.time2)},counterEqualsObject:function(a,d,e){return 4>e.version?new CounterTrigger("equal",d,null,e.getGameObjectWithID(a.objectID)):new CounterTrigger("equal",
e.getGameObjectWithID(a.objectID),null,e.getGameObjectWithID(a.object2ID))},counterGreaterObject:function(a,d,e){return 4>e.version?new CounterTrigger("greater",d,null,e.getGameObjectWithID(a.objectID)):new CounterTrigger("greater",e.getGameObjectWithID(a.objectID),null,e.getGameObjectWithID(a.object2ID))},counterSmallerObject:function(a,d,e){return 4>e.version?new CounterTrigger("smaller",d,null,e.getGameObjectWithID(a.objectID)):new CounterTrigger("smaller",e.getGameObjectWithID(a.objectID),null,
e.getGameObjectWithID(a.object2ID))},counterEqualsNumber:function(a,d,e){return 4>e.version?new CounterTrigger("equal",d,a.counter,null):new CounterTrigger("equal",e.getGameObjectWithID(a.objectID),a.counter,null)},counterGreaterNumber:function(a,d,e){return 4>e.version?new CounterTrigger("greater",d,a.counter,null):new CounterTrigger("greater",e.getGameObjectWithID(a.objectID),a.counter,null)},counterSmallerNumber:function(a,d,e){return 4>e.version?new CounterTrigger("smaller",d,a.counter,null):
new CounterTrigger("smaller",e.getGameObjectWithID(a.objectID),a.counter,null)},gameIsWon:function(){return new EndTrigger("isWon")},gameWasWon:function(){return WonTrigger},gameIsLost:function(){return new EndTrigger("isLost")},gameWasLost:function(){return LostTrigger},gameStart:function(){return"start"}},parseData:function(a,d,e){var h=a.graphics,l=a.gameObjects,n,s,u;this.game=d;d.version=a.version;d.duration=1E3*(a.duration||5);if(h&&0<h.length)for(s=0;s<h.length;s++)n=this.parseGraphic(h[s],
e),d.graphics.push(n);if(l&&0<l.length){for(s=0;s<l.length;s++)n=this.parseGameObject(l[s]),d.gameObjects.push(n);for(s=0;s<l.length;s++)if(h=l[s].behaviours,n=d.gameObjects[s],h&&0<h.length)for(u=0;u<h.length;u++){var E=this.parseBehaviour(h[u],n);E&&this.game.behaviours.push(E)}}a.backgroundID&&(d.background=d.getGraphicWithID(a.backgroundID));e.checkRemaining()},parseGraphic:function(a,d){var e=new Graphic(a.ID);e.frameWidth=a.frameWidth;e.frameHeight=a.frameHeight;e.frameCount=a.frameCount||1;
e.image=d.loadImage(a.url,function(){e.init()});return e},parseGameObject:function(a){var d=new GameObject(a.ID,a.name);d.shape.startPosition.copy(a.position);d.setStartGraphic(this.game.getGraphicWithID(a.graphicID));a.boundingArea&&(a.boundingArea.width?d.shape.setBounds((new Area).copy(a.boundingArea)):a.boundingArea.radius&&d.shape.setBounds((new Circle).copy(a.boundingArea)));return d},parseBehaviour:function(a,d){var e=new Behaviour,h=a.actions,l=a.triggers,n=this.game,s,u;if(h&&0<h.length)for(u=
0;u<h.length;u++)(s=this.parseAction(h[u],d,n))&&e.actions.push(s);else return console.error("parser: behaviour has no actions"),null;if(l&&0<l.length)for(u=0;u<l.length;u++){h=this.parseTrigger(l[u],d,n);if("start"===h)return n.startActions=n.startActions.concat(e.actions),null;h&&e.triggers.push(h)}else return console.error("parser: behaviour has no triggers"),null;return e},parseAction:function(a,d,e){var h=this.actionIDs[a.ID];return!h?(console.error("parser: no action with ID: "+a.ID),null):
h(a,d,e)},parseTrigger:function(a,d,e){var h=this.triggerIDs[a.ID];return!h?(console.error("parser: no trigger with ID: "+a.ID),null):h(a,d,e)}};var player,gameOrder=[0,1,2,3,4],gameIndex=0;function player_main(){function a(){play_game($(this).data("index"))}$("#navi li").click(a);$("#gameOverlay #games li").click(a);$(".playlist li").live("click",a);$("#messageOverlay .confirm .btn").click(function(){$("#messageOverlay").hide()});player=new Player;player.init($("#player"));player.startRunloop()}
function play_game(a){$("#navi li").removeClass("active");$("#navi li:nth-child("+(a+1)+")").addClass("active");$("#gameOverlay").hide();$("#messageOverlay").hide();5===a&&(0===gameIndex&&gameOrder.shuffle(),a=gameOrder[gameIndex],gameIndex=(gameIndex+1)%5);var d=game_data[a];$("#player .title").text(d.data.title);$("#player .instruction").text(d.data.instructions);$("#player .playerBar a").attr("href","http://www.playtin.com/play/"+d.id);player.parse(d.data);player.onRestart=function(e){addToPlaylist(d.name,
a,e,player.timePlayed/1E3);isEndlessMode()&&play_game(5);return!isEndlessMode()}}function isEndlessMode(){return $("#navi li:nth-child(6)").hasClass("active")}function addToPlaylist(a,d,e,h){var l=$(".playlist"),n=l.find(".template").clone();n.removeClass("template");n.data("index",d);n.find(".title").text(a).addClass(e?"win":"lose");e&&n.find(".time").text(h.toFixed(1)+"s");l.prepend(n);n.hide().fadeIn(500);updateScore(e)}
function updateScore(a){a=$("."+(a?"winCount":"loseCount"));a.text(parseInt(a.html())+1)}(function(a){a.fn.disableSelection=function(){return this.attr("unselectable","on").css("user-select","none").on("selectstart",!1)}})(jQuery);var trackingCode="UA-32425368-1";window._gaq=window._gaq||[];window._gaq.push(["_setAccount",trackingCode]);window._gaq.push(["_trackPageview"]);
(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)})();