var game_data=[{data:{version:4,title:"Oktoberfest Dirndl",instructions:"Click on the dirndl if the bavarians are ordering new beer",duration:15,backgroundID:173,gameObjects:[{ID:22,name:"lion",graphicID:32,position:{x:308,y:6},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:4}]}]},{ID:18,name:"german_flag",graphicID:25,position:{x:306,y:81},behaviours:[]},{ID:20,name:"brezel2",graphicID:23,position:{x:365,y:83},behaviours:[]},{ID:19,name:"brezel",graphicID:23,position:{x:244,
y:86},behaviours:[]},{ID:17,name:"blackbrid",graphicID:172,position:{x:442,y:223},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:7}]},{triggers:[{ID:"timeRandom",time:2,time2:60}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:17,object2ID:1},{ID:"counterEqualsNumber",objectID:17,counter:1}],actions:[{ID:"artToFrame",frame:8},{ID:"counterUp"}]},{triggers:[{ID:"clickObject",objectID:1},{ID:"touchObject",objectID:17,object2ID:1},{ID:"counterEqualsNumber",
objectID:17,counter:2}],actions:[{ID:"artToFrame",frame:7},{ID:"counterDown"}]}],boundingArea:{x:-36,y:-59,width:55,height:127}},{ID:16,name:"greybeard",graphicID:172,position:{x:275,y:230},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:5}]},{triggers:[{ID:"timeRandom",time:7,time2:60}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:16,object2ID:1},{ID:"counterEqualsNumber",objectID:16,counter:1}],actions:[{ID:"artToFrame",frame:6},{ID:"counterUp"}]},
{triggers:[{ID:"clickObject",objectID:1},{ID:"touchObject",objectID:16,object2ID:1},{ID:"counterEqualsNumber",objectID:16,counter:2}],actions:[{ID:"artToFrame",frame:5},{ID:"counterDown"}]}],boundingArea:{x:-35,y:-53,width:59,height:130}},{ID:15,name:"blond",graphicID:172,position:{x:364,y:225},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:3}]},{triggers:[{ID:"timeRandom",time:0,time2:48}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:15,object2ID:1},
{ID:"counterEqualsNumber",objectID:15,counter:1}],actions:[{ID:"artToFrame",frame:4},{ID:"counterUp"}]},{triggers:[{ID:"clickObject",objectID:1},{ID:"touchObject",objectID:15,object2ID:1},{ID:"counterEqualsNumber",objectID:15,counter:2}],actions:[{ID:"artToFrame",frame:3},{ID:"counterDown"}]}],boundingArea:{x:-35,y:-53,width:59,height:130}},{ID:2,name:"leftOne",graphicID:172,position:{x:182,y:225},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:1}]},{triggers:[{ID:"timeRandom",
time:0,time2:52}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:1},{ID:"counterEqualsNumber",objectID:2,counter:1}],actions:[{ID:"artToFrame",frame:2},{ID:"counterUp"}]},{triggers:[{ID:"clickObject",objectID:1},{ID:"touchObject",objectID:2,object2ID:1},{ID:"counterEqualsNumber",objectID:2,counter:2}],actions:[{ID:"artToFrame",frame:1},{ID:"counterDown"}]}],boundingArea:{x:-35,y:-53,width:59,height:130}},{ID:10,name:"table_foot2",graphicID:177,position:{x:506,
y:289},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:70,speed:4}]}]},{ID:9,name:"table_foot",graphicID:177,position:{x:126,y:293},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:70,speed:4}]}]},{ID:7,name:"table_top2",graphicID:176,position:{x:396,y:255},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:2}]}]},{ID:6,name:"table_top",graphicID:176,position:{x:226,y:256},behaviours:[]},{ID:14,name:"beer_krug4",graphicID:178,position:{x:418,
y:227},behaviours:[]},{ID:13,name:"beer_krug3",graphicID:178,position:{x:338,y:231},behaviours:[]},{ID:12,name:"beer_krug2",graphicID:178,position:{x:157,y:229},behaviours:[]},{ID:11,name:"beer_krug",graphicID:178,position:{x:249,y:229},behaviours:[]},{ID:1,name:"dirndl",graphicID:171,position:{x:48,y:265},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:3},{ID:"scaleSize",scale:90,speed:2}]},{triggers:[{ID:"timeExact",time:6}],actions:[{ID:"artPlay",frame:1,frame2:2,mode:"ping-pong",
speed:1},{ID:"moveAlongPath",path:[{x:46,y:273},{x:613,y:265}],mode:"ping-pong",speed:2}]},{triggers:[{ID:"touchArea",objectID:1,area:{x:633,y:163,width:56,height:208}}],actions:[{ID:"flipObject",mode:"horizontally"},{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchArea",objectID:1,area:{x:-35,y:161,width:56,height:208}},{ID:"counterGreaterNumber",objectID:1,counter:0}],actions:[{ID:"flipObject",mode:"horizontally"}]},{triggers:[{ID:"gameWasWon"}],actions:[{ID:"artToFrame",frame:3}]}],boundingArea:{x:-35,
y:-99,width:60,height:198}},{ID:21,name:"bayer",graphicID:15,position:{x:-62,y:301},behaviours:[{triggers:[{ID:"timeRandom",time:70,time2:93}],actions:[{ID:"artPlay",frame:1,frame2:2,mode:"ping-pong",speed:0},{ID:"moveInDirection",angle:"0.00",speed:1}]},{triggers:[{ID:"timeExact",time:100},{ID:"counterSmallerNumber",objectID:2,counter:2},{ID:"counterSmallerNumber",objectID:15,counter:2},{ID:"counterSmallerNumber",objectID:16,counter:2},{ID:"counterSmallerNumber",objectID:17,counter:2}],actions:[{ID:"gameWin"}]}]}],
graphics:[{ID:173,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/173/beer_tent.png?1349721446"},{ID:32,frameWidth:130,frameHeight:80,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/32/lion.png?1345391529"},{ID:25,frameWidth:108,frameHeight:71,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/25/german_flag.png?1345229749"},{ID:23,frameWidth:128,frameHeight:128,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/23/brezel.png?1345229445"},
{ID:172,frameWidth:100,frameHeight:160,frameCount:8,url:"http://s3.amazonaws.com/mbgfx/graphics/172/bavarians.png?1349647306"},{ID:177,frameWidth:32,frameHeight:102,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/177/table_foot.png?1349722547"},{ID:176,frameWidth:256,frameHeight:40,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/176/table_top.png?1349722425"},{ID:178,frameWidth:32,frameHeight:32,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/178/beer_krug.png?1349722820"},
{ID:171,frameWidth:152,frameHeight:256,frameCount:3,url:"http://s3.amazonaws.com/mbgfx/graphics/171/dirndl.png?1349644518"},{ID:15,frameWidth:120,frameHeight:180,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/15/bayer.png?1345212453"}]},id:35},{data:{version:4,title:"Pull the treasures",instructions:"Click on the red arrows to navigate the diver. Collect the treasures and bring them to the rope",duration:30,backgroundID:197,gameObjects:[{ID:13,name:"vertical_line",graphicID:203,position:{x:273,
y:167},behaviours:[],boundingArea:{x:-6,y:-127,width:9,height:254}},{ID:2,name:"diver",graphicID:196,position:{x:254,y:354},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:50,speed:4}]},{triggers:[{ID:"clickObject",objectID:8}],actions:[{ID:"moveInDirection",angle:"-1.57",speed:1},{ID:"artPlay",frame:2,frame2:3,mode:"ping-pong",speed:1}]},{triggers:[{ID:"clickObject",objectID:9},{ID:"counterEqualsNumber",objectID:2,counter:1}],actions:[{ID:"moveInDirection",angle:"0.00",speed:1},
{ID:"artToFrame",frame:1}]},{triggers:[{ID:"clickObject",objectID:10},{ID:"counterEqualsNumber",objectID:2,counter:1}],actions:[{ID:"moveInDirection",angle:"3.14",speed:1},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"clickObject",objectID:11}],actions:[{ID:"moveInDirection",angle:"1.57",speed:1},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchArea",objectID:2,area:{x:-1,y:389,width:640,height:26}}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:7}],
actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:13}],actions:[{ID:"counterSet",counter:0}]},{triggers:[{ID:"clickObject",objectID:9},{ID:"counterEqualsNumber",objectID:2,counter:0}],actions:[{ID:"moveInDirection",angle:"0.00",speed:2},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"clickObject",objectID:10},{ID:"counterEqualsNumber",objectID:2,counter:0}],actions:[{ID:"moveInDirection",angle:"3.14",speed:2},{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",
objectID:2,object2ID:17}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchObject",objectID:2,object2ID:18}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"gameWasLost"}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:2}]}],boundingArea:{x:-10,y:-27,width:16,height:48}},{ID:18,name:"treasure3",graphicID:201,position:{x:329,y:372},behaviours:[{triggers:[{ID:"overlapObject",objectID:18,object2ID:2},{ID:"counterEqualsNumber",objectID:18,counter:0}],actions:[{ID:"moveToObject",objectID:2,
offset:{x:0,y:6},speed:4}]},{triggers:[{ID:"touchObject",objectID:18,object2ID:13}],actions:[{ID:"moveToObject",objectID:13,offset:{x:-2,y:-136},speed:2},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:18,area:{x:259,y:9,width:24,height:22}}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:-32,y:12}}]}],boundingArea:{x:-8,y:-10,width:14,height:23}},{ID:17,name:"treasure2",graphicID:201,position:{x:438,y:349},behaviours:[{triggers:[{ID:"overlapObject",objectID:17,object2ID:2},{ID:"counterEqualsNumber",
objectID:17,counter:0}],actions:[{ID:"moveToObject",objectID:2,offset:{x:0,y:6},speed:4}]},{triggers:[{ID:"touchObject",objectID:17,object2ID:13}],actions:[{ID:"moveToObject",objectID:13,offset:{x:-2,y:-136},speed:2},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:17,area:{x:259,y:9,width:24,height:22}}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:-32,y:12}}]}],boundingArea:{x:-8,y:-10,width:14,height:23}},{ID:16,name:"swordfish_lightblue",graphicID:204,position:{x:-56,y:317},behaviours:[{triggers:[{ID:"timeRandom",
time:48,time2:69}],actions:[{ID:"moveInDirection",angle:"0.00",speed:2}]},{triggers:[{ID:"touchObject",objectID:16,object2ID:2}],actions:[{ID:"gameLose"}]}],boundingArea:{x:-28,y:-3,width:60,height:7}},{ID:11,name:"arr_down",graphicID:202,position:{x:54,y:376},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:5}]}]},{ID:10,name:"arr_left",graphicID:202,position:{x:19,y:341},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:7}]}]},{ID:9,name:"arr_right",
graphicID:202,position:{x:90,y:341},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:3}]}]},{ID:8,name:"arrows_red",graphicID:202,position:{x:54,y:306},behaviours:[]},{ID:7,name:"treasure",graphicID:201,position:{x:113,y:363},behaviours:[{triggers:[{ID:"overlapObject",objectID:7,object2ID:2},{ID:"counterEqualsNumber",objectID:7,counter:0}],actions:[{ID:"moveToObject",objectID:2,offset:{x:0,y:6},speed:4}]},{triggers:[{ID:"touchObject",objectID:7,object2ID:13}],actions:[{ID:"moveToObject",
objectID:13,offset:{x:-2,y:-136},speed:2},{ID:"counterUp"}]},{triggers:[{ID:"touchArea",objectID:7,area:{x:259,y:9,width:24,height:22}}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:-32,y:12}}]}],boundingArea:{x:-8,y:-10,width:14,height:23}},{ID:1,name:"crane_boat",graphicID:198,position:{x:323,y:34},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"scaleSize",scale:60,speed:4},{ID:"moveRoam",area:{x:217,y:5,width:242,height:72},mode:"reflect",speed:0}]},{triggers:[{ID:"touchObject",objectID:1,
object2ID:7}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"timeExact",time:100},{ID:"counterEqualsNumber",objectID:1,counter:3}],actions:[{ID:"gameWin"}]},{triggers:[{ID:"touchObject",objectID:1,object2ID:17}],actions:[{ID:"counterUp"}]},{triggers:[{ID:"touchObject",objectID:1,object2ID:18}],actions:[{ID:"counterUp"}]}]},{ID:4,name:"shark2",graphicID:199,position:{x:730,y:350},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveAlongPath",path:[{x:730,y:350},{x:-89,y:363}],mode:"circular",speed:1},
{ID:"artToFrame",frame:2}]},{triggers:[{ID:"touchArea",objectID:4,area:{x:-121,y:341,width:48,height:26}}],actions:[{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:4,object2ID:2}],actions:[{ID:"gameLose"}]}],boundingArea:{x:-50,y:-10,width:96,height:21}},{ID:3,name:"shark",graphicID:199,position:{x:-53,y:174},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveAlongPath",path:[{x:-53,y:174},{x:731,y:169},{x:725,y:249},{x:-49,y:237}],mode:"circular",speed:2}]},{triggers:[{ID:"touchArea",
objectID:3,area:{x:681,y:199,width:48,height:26}}],actions:[{ID:"artToFrame",frame:2}]},{triggers:[{ID:"touchArea",objectID:3,area:{x:-85,y:197,width:48,height:26}}],actions:[{ID:"artToFrame",frame:1}]},{triggers:[{ID:"touchObject",objectID:3,object2ID:2}],actions:[{ID:"gameLose"}]}],boundingArea:{x:-50,y:-10,width:96,height:21}},{ID:6,name:"swordfish",graphicID:200,position:{x:-38,y:90},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveAlongPath",path:[{x:-38,y:90},{x:47,y:45},{x:75,y:47},
{x:107,y:53},{x:127,y:73},{x:143,y:87},{x:165,y:95},{x:205,y:95},{x:243,y:95},{x:297,y:95},{x:347,y:95},{x:393,y:95},{x:441,y:87},{x:463,y:71},{x:475,y:55},{x:491,y:47},{x:525,y:47},{x:551,y:59},{x:571,y:73},{x:593,y:81},{x:609,y:95},{x:639,y:95},{x:661,y:95},{x:685,y:95},{x:729,y:97}],mode:"once",speed:3}]}]}],graphics:[{ID:197,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/197/underwater.png?1351960629"},{ID:203,frameWidth:32,frameHeight:256,frameCount:1,
url:"http://s3.amazonaws.com/mbgfx/graphics/203/vertical_line.png?1352027293"},{ID:196,frameWidth:72,frameHeight:103,frameCount:3,url:"http://s3.amazonaws.com/mbgfx/graphics/196/diver.png?1351960438"},{ID:201,frameWidth:32,frameHeight:32,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/201/treasure.png?1352026391"},{ID:204,frameWidth:69,frameHeight:32,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/204/swordfish_lightblue.png?1352029997"},{ID:202,frameWidth:32,frameHeight:32,frameCount:8,
url:"http://s3.amazonaws.com/mbgfx/graphics/202/arrows_red.png?1352026777"},{ID:198,frameWidth:256,frameHeight:148,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/198/crane_boat.png?1352023891"},{ID:199,frameWidth:101,frameHeight:32,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/199/shark.png?1352024587"},{ID:200,frameWidth:73,frameHeight:32,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/200/swordfish.png?1352025955"}]},id:37},{data:{version:2,title:"Paperboy Jimmy",instructions:"Help Jimmy (yellow) to throw the newspapers at the red targets. Otherwise he will lose his job!",
duration:15,backgroundID:151,gameObjects:[{ID:23,name:"employe_of_month",graphicID:157,position:{x:396,y:-67},behaviours:[{triggers:[{ID:"gameWasWon"}],actions:[{ID:"jumpToLocation",location:{x:306,y:221}}]}]},{ID:21,name:"guy_from_top2",graphicID:45,position:{x:362,y:86},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveAlongPath",path:[{x:362,y:86},{x:307,y:87},{x:309,y:223}],mode:"once",speed:0},{ID:"artToFrame",frame:3}]},{triggers:[{ID:"touchArea",area:{x:301,y:97,width:16,height:12}}],
actions:[{ID:"artToFrame",frame:4}]}],boundingArea:{x:-4,y:-8,width:8,height:13}},{ID:20,name:"paper4",graphicID:153,position:{x:247,y:411},behaviours:[{triggers:[{ID:"counterSmallerObject",objectID:13}],actions:[{ID:"jumpToObject",objectID:13,offset:{x:0,y:0}}]}]},{ID:19,name:"paper3",graphicID:153,position:{x:434,y:410},behaviours:[{triggers:[{ID:"counterSmallerObject",objectID:7}],actions:[{ID:"jumpToObject",objectID:7,offset:{x:0,y:0}}]}]},{ID:18,name:"paper2",graphicID:153,position:{x:668,y:221},
behaviours:[{triggers:[{ID:"counterSmallerObject",objectID:6}],actions:[{ID:"jumpToObject",objectID:6,offset:{x:0,y:0}}]}]},{ID:14,name:"paper1",graphicID:153,position:{x:240,y:-29},behaviours:[{triggers:[{ID:"counterSmallerObject",objectID:5}],actions:[{ID:"jumpToObject",objectID:5,offset:{x:0,y:0}}]}]},{ID:12,name:"guy_from_top",graphicID:45,position:{x:548,y:357},behaviours:[{triggers:[{ID:"touchArea",area:{x:509,y:333,width:16,height:12}}],actions:[{ID:"artToFrame",frame:2}]},{triggers:[{ID:"timeRandom",
time:19,time2:62}],actions:[{ID:"moveAlongPath",path:[{x:548,y:357},{x:515,y:357},{x:517,y:321}],mode:"once",speed:2},{ID:"artToFrame",frame:3}]}],boundingArea:{x:-4,y:-8,width:8,height:13}},{ID:22,name:"fail_message",graphicID:156,position:{x:328,y:-69},behaviours:[{triggers:[{ID:"gameWasLost"}],actions:[{ID:"jumpToLocation",location:{x:308,y:223}}]}]},{ID:11,name:"motorbike_top",graphicID:86,position:{x:138,y:127},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveToLocation",location:{x:612,
y:127},speed:2}]}]},{ID:10,name:"green_car",graphicID:155,position:{x:130,y:419},behaviours:[{triggers:[{ID:"timeRandom",time:28,time2:55}],actions:[{ID:"moveInDirection",angle:"-1.57",speed:2}]}]},{ID:9,name:"blond_woman",graphicID:154,position:{x:344,y:351},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"moveRoam",area:{x:323,y:325,width:44,height:56},mode:"reflect",speed:0}]},{triggers:[{ID:"timeExact",time:100},{ID:"counterSmallerObject",objectID:5},{ID:"counterSmallerObject",objectID:6},
{ID:"counterSmallerObject",objectID:7},{ID:"counterSmallerObject",objectID:13}],actions:[{ID:"gameWin"}]}],boundingArea:{x:-14,y:-13,width:27,height:25}},{ID:13,name:"target_5",graphicID:64,position:{x:431,y:328},behaviours:[{triggers:[{ID:"touchObject",objectID:4}],actions:[{ID:"counterUp"},{ID:"artToFrame",frame:6}]}],boundingArea:{x:0,y:0,radius:13}},{ID:7,name:"target_4",graphicID:64,position:{x:246,y:334},behaviours:[{triggers:[{ID:"touchObject",objectID:4}],actions:[{ID:"counterUp"},{ID:"artToFrame",
frame:6}]}],boundingArea:{x:0,y:0,radius:12}},{ID:6,name:"target_3",graphicID:64,position:{x:548,y:218},behaviours:[{triggers:[{ID:"touchObject",objectID:3}],actions:[{ID:"counterUp"},{ID:"artToFrame",frame:6}]}],boundingArea:{x:0,y:0,radius:13}},{ID:5,name:"target_2",graphicID:64,position:{x:249,y:55},behaviours:[{triggers:[{ID:"touchObject",objectID:2}],actions:[{ID:"counterUp"},{ID:"artToFrame",frame:6}]}],boundingArea:{x:0,y:-1,radius:10}},{ID:4,name:"newspaper3",graphicID:153,position:{x:-33,
y:127},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"counterSet",counter:3}]},{triggers:[{ID:"clickObject",objectID:1},{ID:"counterEqualsObject",objectID:1}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:0,y:-14}},{ID:"moveInDirection",angle:"1.83",speed:2}]}],boundingArea:{x:-6,y:-2,width:12,height:4}},{ID:3,name:"newspaper2",graphicID:153,position:{x:-38,y:80},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"counterSet",counter:2}]},{triggers:[{ID:"clickObject",objectID:1},{ID:"counterEqualsObject",
objectID:1}],actions:[{ID:"artToFrame",frame:2},{ID:"jumpToObject",objectID:1,offset:{x:0,y:-14}},{ID:"moveInDirection",angle:"0.19",speed:2}]}],boundingArea:{x:0,y:-5,width:2,height:9}},{ID:2,name:"newspaper",graphicID:153,position:{x:-36,y:55},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"counterSet",counter:1}]},{triggers:[{ID:"clickObject",objectID:1},{ID:"counterEqualsObject",objectID:1}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:0,y:-14}},{ID:"moveInDirection",angle:"-1.47",
speed:2}]}],boundingArea:{x:-6,y:-2,width:13,height:4}},{ID:1,name:"postman_bicycle",graphicID:152,position:{x:129,y:22},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:8},{ID:"moveAlongPath",path:[{x:129,y:22},{x:129,y:121},{x:483,y:131},{x:483,y:265},{x:133,y:267},{x:131,y:387},{x:133,y:433}],mode:"once",speed:2}]},{triggers:[{ID:"touchArea",area:{x:147,y:113,width:24,height:20}}],actions:[{ID:"artToFrame",frame:1},{ID:"counterSet",counter:1}]},{triggers:[{ID:"touchArea",
area:{x:471,y:153,width:24,height:20}}],actions:[{ID:"artToFrame",frame:8},{ID:"counterSet",counter:2}]},{triggers:[{ID:"touchArea",area:{x:119,y:283,width:24,height:20}}],actions:[{ID:"artToFrame",frame:8},{ID:"counterSet",counter:4}]},{triggers:[{ID:"touchArea",area:{x:439,y:251,width:24,height:20}}],actions:[{ID:"artToFrame",frame:3},{ID:"counterSet",counter:3}]}],boundingArea:{x:-16,y:-12,width:31,height:24}}],graphics:[{ID:151,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/151/city_top.png?1348939876"},
{ID:157,frameWidth:256,frameHeight:117,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/157/employe_of_month.png?1348950637"},{ID:45,frameWidth:32,frameHeight:32,frameCount:6,url:"http://s3.amazonaws.com/mbgfx/graphics/45/guy_from_top.png?1345541967"},{ID:153,frameWidth:32,frameHeight:32,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/153/newspaper.png?1348941856"},{ID:156,frameWidth:256,frameHeight:99,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/156/fail_message.png?1348950031"},
{ID:86,frameWidth:69,frameHeight:32,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/86/motorbike_top.png?1347208383"},{ID:155,frameWidth:32,frameHeight:44,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/155/green_car.png?1348948072"},{ID:154,frameWidth:32,frameHeight:32,frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/154/blond_woman.png?1348947665"},{ID:64,frameWidth:32,frameHeight:32,frameCount:6,url:"http://s3.amazonaws.com/mbgfx/graphics/64/target_2.png?1345639122"},
{ID:152,frameWidth:32,frameHeight:32,frameCount:8,url:"http://s3.amazonaws.com/mbgfx/graphics/152/postman_bicycle.png?1348941314"}]},id:33},{data:{version:2,title:"Road Runner",instructions:"Try to stop the coyote!",duration:5,backgroundID:33,gameObjects:[{ID:6,name:"invisible_obj_small",graphicID:51,position:{x:126,y:334},behaviours:[{triggers:[{ID:"timeRandom",time:25,time2:60}],actions:[{ID:"counterUp"}]}]},{ID:3,name:"red_stone",graphicID:90,position:{x:263,y:276},behaviours:[]},{ID:2,name:"coyote",
graphicID:108,position:{x:349,y:323},behaviours:[{triggers:[{ID:"gameStart"}],actions:[{ID:"artToFrame",frame:3}]},{triggers:[{ID:"clickObject",objectID:2}],actions:[{ID:"artToFrame",frame:4}]},{triggers:[{ID:"gameWasWon"}],actions:[{ID:"artToFrame",frame:2}]}]},{ID:5,name:"explosion",graphicID:55,position:{x:190,y:-45},behaviours:[{triggers:[{ID:"clickObject",objectID:2}],actions:[{ID:"jumpToLocation",location:{x:280,y:203}}]}]},{ID:1,name:"road_runner",graphicID:107,position:{x:-112,y:320},behaviours:[{triggers:[{ID:"gameStart"}],
actions:[{ID:"counterUp"}]},{triggers:[{ID:"timeRandom",time:13,time2:40}],actions:[{ID:"moveInDirection",angle:"0.00",speed:4},{ID:"artPlay",frame:2,frame2:4,mode:"loop",speed:4}]},{triggers:[{ID:"touchObject",objectID:4}],actions:[{ID:"gameWin"},{ID:"moveStop"},{ID:"artChange",graphicID:109},{ID:"jumpToLocation",location:{x:288,y:350}}]},{triggers:[{ID:"touchArea",area:{x:593,y:309,width:40,height:48}}],actions:[{ID:"gameLose"},{ID:"moveStop"},{ID:"artToFrame",frame:5}]},{triggers:[{ID:"counterEqualsObject",
objectID:6},{ID:"touchObject",objectID:6}],actions:[{ID:"moveStop"},{ID:"artToFrame",frame:5}]},{triggers:[{ID:"timeExact",time:60}],actions:[{ID:"moveInDirection",angle:"0.00",speed:4},{ID:"artPlay",frame:2,frame2:4,mode:"loop",speed:4}]}],boundingArea:{x:-15,y:-4,width:26,height:36}},{ID:4,name:"rock",graphicID:91,position:{x:277,y:203},behaviours:[{triggers:[{ID:"clickObject",objectID:2}],actions:[{ID:"moveInDirection",angle:"1.57",speed:4}]},{triggers:[{ID:"touchArea",area:{x:3,y:389,width:636,
height:10}}],actions:[{ID:"moveStop"}]}],boundingArea:{x:-20,y:1,width:38,height:13}}],graphics:[{ID:33,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/33/desert.png?1345391737"},{ID:51,frameWidth:32,frameHeight:32,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/51/invisible_obj_small.png?1345571142"},{ID:90,frameWidth:117,frameHeight:158,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/90/red_stone.png?1347399205"},{ID:108,frameWidth:44,frameHeight:77,
frameCount:4,url:"http://s3.amazonaws.com/mbgfx/graphics/108/coyote.png?1347884255"},{ID:55,frameWidth:78,frameHeight:77,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/55/explosion.png?1345576293"},{ID:107,frameWidth:47,frameHeight:70,frameCount:6,url:"http://s3.amazonaws.com/mbgfx/graphics/107/road_runner.png?1347883146"},{ID:109,frameWidth:84,frameHeight:39,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/109/road_runner_dead.png?1347885893"},{ID:91,frameWidth:41,frameHeight:42,
frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/91/rock.png?1347399346"}]},id:22},{data:{version:1,title:"Ghost Driver",instructions:"You are driving on the wrong direction. Dodge!",duration:15,backgroundID:83,gameObjects:[{ID:12,name:"motorbike_top2",graphicID:86,position:{x:-56,y:273},behaviours:[{triggers:[{ID:"timeRandom",time:73,time2:81,rotateToTarget:!1}],actions:[{ID:"moveInDirection",angle:"0.00",speed:4,rotateToTarget:!1}]}],boundingArea:{x:-22,y:-8,width:35,height:13}},{ID:10,
name:"grey_car_top",graphicID:85,position:{x:-72,y:186},behaviours:[{triggers:[{ID:"gameStart",rotateToTarget:!1}],actions:[{ID:"artToFrame",frame:2,rotateToTarget:!1},{ID:"counterSet",counter:1,rotateToTarget:!1}]},{triggers:[{ID:"counterEqualsObject",objectID:9,rotateToTarget:!1}],actions:[{ID:"moveInDirection",angle:"0.00",speed:3,rotateToTarget:!1}]},{triggers:[{ID:"gameIsLost",rotateToTarget:!1}],actions:[{ID:"moveStop",rotateToTarget:!1}]},{triggers:[{ID:"touchArea",area:{x:734,y:110,width:8,
height:156},rotateToTarget:!1}],actions:[{ID:"jumpToLocation",location:{x:-72,y:186},rotateToTarget:!1},{ID:"moveInDirection",angle:"0.00",speed:3,rotateToTarget:!1}]}],boundingArea:{x:-65,y:-32,width:124,height:66}},{ID:9,name:"yellow_car_top",graphicID:88,position:{x:-62,y:183},behaviours:[{triggers:[{ID:"timeRandom",time:0,time2:6,rotateToTarget:!1}],actions:[{ID:"moveInDirection",angle:"0.00",speed:3,rotateToTarget:!1}]},{triggers:[{ID:"touchArea",area:{x:728,y:12,width:4,height:382},rotateToTarget:!1}],
actions:[{ID:"jumpToLocation",location:{x:-54,y:185},rotateToTarget:!1},{ID:"moveInDirection",angle:"0.00",speed:3,rotateToTarget:!1}]},{triggers:[{ID:"touchObject",objectID:4,rotateToTarget:!1}],actions:[{ID:"counterUp",rotateToTarget:!1}]},{triggers:[{ID:"gameIsLost",rotateToTarget:!1}],actions:[{ID:"moveStop",rotateToTarget:!1}]}],boundingArea:{x:-47,y:-19,width:94,height:36}},{ID:8,name:"truck_top",graphicID:87,position:{x:453,y:328},behaviours:[{triggers:[{ID:"gameStart",rotateToTarget:!1}],
actions:[{ID:"moveInDirection",angle:"0.00",speed:2,rotateToTarget:!1}]},{triggers:[{ID:"touchArea",area:{x:720,y:266,width:14,height:106},rotateToTarget:!1}],actions:[{ID:"jumpToLocation",location:{x:-119,y:324},rotateToTarget:!1},{ID:"moveInDirection",angle:"0.00",speed:2,rotateToTarget:!1}]},{triggers:[{ID:"gameIsLost",rotateToTarget:!1}],actions:[{ID:"moveStop",rotateToTarget:!1}]}],boundingArea:{x:-76,y:-32,width:152,height:61}},{ID:7,name:"arrDown",graphicID:76,position:{x:596,y:216},behaviours:[{triggers:[{ID:"gameStart",
rotateToTarget:!1}],actions:[{ID:"artToFrame",frame:4,rotateToTarget:!1}]}]},{ID:6,name:"arrUp",graphicID:76,position:{x:596,y:163},behaviours:[{triggers:[{ID:"gameStart",rotateToTarget:!1}],actions:[{ID:"artToFrame",frame:2,rotateToTarget:!1}]}]},{ID:5,name:"tar3",graphicID:51,position:{x:437,y:328},behaviours:[]},{ID:4,name:"tar2",graphicID:51,position:{x:436,y:191},behaviours:[]},{ID:3,name:"tar1",graphicID:51,position:{x:432,y:60},behaviours:[]},{ID:2,name:"motorbike_top",graphicID:86,position:{x:259,
y:49},behaviours:[{triggers:[{ID:"gameStart",rotateToTarget:!1}],actions:[{ID:"moveInDirection",angle:"0.00",speed:3,rotateToTarget:!1}]},{triggers:[{ID:"touchArea",area:{x:648,y:20,width:18,height:90},rotateToTarget:!1}],actions:[{ID:"jumpToLocation",location:{x:-37,y:56},rotateToTarget:!1},{ID:"moveInDirection",angle:"0.00",speed:3,rotateToTarget:!1}]},{triggers:[{ID:"gameIsLost",rotateToTarget:!1}],actions:[{ID:"moveStop",rotateToTarget:!1}]}],boundingArea:{x:-22,y:-8,width:35,height:13}},{ID:1,
name:"red_car_top",graphicID:84,position:{x:437,y:190},behaviours:[{triggers:[{ID:"gameStart",rotateToTarget:!1}],actions:[{ID:"counterSet",counter:1,rotateToTarget:!1},{ID:"artPlay",frame:1,frame2:3,mode:"loop",speed:2,rotateToTarget:!1}]},{triggers:[{ID:"clickObject",objectID:6,rotateToTarget:!1},{ID:"counterGreaterNumber",counter:0,rotateToTarget:!1}],actions:[{ID:"counterDown",rotateToTarget:!1}]},{triggers:[{ID:"clickObject",objectID:7,rotateToTarget:!1},{ID:"counterSmallerNumber",counter:2,
rotateToTarget:!1}],actions:[{ID:"counterUp",rotateToTarget:!1}]},{triggers:[{ID:"counterEqualsNumber",counter:0,rotateToTarget:!1}],actions:[{ID:"moveToObject",objectID:3,offset:{x:0,y:0},speed:3,rotateToTarget:!1}]},{triggers:[{ID:"counterEqualsNumber",counter:1,rotateToTarget:!1}],actions:[{ID:"moveToObject",objectID:4,offset:{x:0,y:0},speed:3,rotateToTarget:!1}]},{triggers:[{ID:"counterEqualsNumber",counter:2,rotateToTarget:!1}],actions:[{ID:"moveToObject",objectID:5,offset:{x:0,y:0},speed:3,
rotateToTarget:!1}]},{triggers:[{ID:"touchObject",objectID:2,rotateToTarget:!1}],actions:[{ID:"gameLose",rotateToTarget:!1}]},{triggers:[{ID:"touchObject",objectID:8,rotateToTarget:!1}],actions:[{ID:"gameLose",rotateToTarget:!1}]},{triggers:[{ID:"touchObject",objectID:9,rotateToTarget:!1}],actions:[{ID:"gameLose",rotateToTarget:!1}]},{triggers:[{ID:"touchObject",objectID:10,rotateToTarget:!1}],actions:[{ID:"gameLose",rotateToTarget:!1}]},{triggers:[{ID:"gameIsLost",rotateToTarget:!1}],actions:[{ID:"counterSet",
counter:4,rotateToTarget:!1}]},{triggers:[{ID:"timeExact",time:100,rotateToTarget:!1}],actions:[{ID:"gameWin",rotateToTarget:!1}]},{triggers:[{ID:"touchObject",objectID:12,rotateToTarget:!1}],actions:[{ID:"gameLose",rotateToTarget:!1}]}],boundingArea:{x:-49,y:-20,width:94,height:46}},{ID:11,name:"explosion",graphicID:55,position:{x:292,y:-41},behaviours:[{triggers:[{ID:"gameStart",rotateToTarget:!1}],actions:[{ID:"counterSet",counter:4,rotateToTarget:!1}]},{triggers:[{ID:"counterEqualsObject",objectID:1,
rotateToTarget:!1}],actions:[{ID:"jumpToObject",objectID:1,offset:{x:-52,y:0},rotateToTarget:!1}]},{triggers:[{ID:"touchObject",objectID:1,rotateToTarget:!1}],actions:[{ID:"gameEnd",rotateToTarget:!1}]}]}],graphics:[{ID:83,frameWidth:640,frameHeight:390,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/83/street_top.png?1347203502"},{ID:86,frameWidth:69,frameHeight:32,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/86/motorbike_top.png?1347208383"},{ID:85,frameWidth:157,frameHeight:96,
frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/85/grey_car_top.png?1347207978"},{ID:88,frameWidth:111,frameHeight:62,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/88/yellow_car_top.png?1347209607"},{ID:87,frameWidth:169,frameHeight:91,frameCount:2,url:"http://s3.amazonaws.com/mbgfx/graphics/87/truck_top.png?1347208957"},{ID:76,frameWidth:50,frameHeight:50,frameCount:5,url:"http://s3.amazonaws.com/mbgfx/graphics/76/controls_brown.png?1346014961"},{ID:51,frameWidth:32,frameHeight:32,
frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/51/invisible_obj_small.png?1345571142"},{ID:84,frameWidth:126,frameHeight:91,frameCount:6,url:"http://s3.amazonaws.com/mbgfx/graphics/84/red_car_top.png?1347206317"},{ID:55,frameWidth:78,frameHeight:77,frameCount:1,url:"http://s3.amazonaws.com/mbgfx/graphics/55/explosion.png?1345576293"}]},id:16}];window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}());(function(a,d){function e(b,f,a){if(a===d&&1===b.nodeType)if(a="data-"+f.replace(sc,"-$1").toLowerCase(),a=b.getAttribute(a),"string"==typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:tc.test(a)?c.parseJSON(a):a}catch(g){}c.data(b,f,a)}else a=d;return a}function h(b){for(var f in b)if(!("data"===f&&c.isEmptyObject(b[f]))&&"toJSON"!==f)return!1;return!0}function l(){return!1}function p(){return!0}function r(b){return!b||!b.parentNode||11===b.parentNode.nodeType}function u(b,
f){do b=b[f];while(b&&1!==b.nodeType);return b}function D(b,f,a){f=f||0;if(c.isFunction(f))return c.grep(b,function(b,c){return!!f.call(b,c,b)===a});if(f.nodeType)return c.grep(b,function(b){return b===f===a});if("string"==typeof f){var g=c.grep(b,function(b){return 1===b.nodeType});if(uc.test(f))return c.filter(f,g,!a);f=c.filter(f,g)}return c.grep(b,function(b){return 0<=c.inArray(b,f)===a})}function v(b){var f=nb.split("|"),b=b.createDocumentFragment();if(b.createElement)for(;f.length;)b.createElement(f.pop());
return b}function y(b,f){if(1===f.nodeType&&c.hasData(b)){var a,g,d;g=c._data(b);var j=c._data(f,g),i=g.events;if(i)for(a in delete j.handle,j.events={},i){g=0;for(d=i[a].length;g<d;g++)c.event.add(f,a,i[a][g])}j.data&&(j.data=c.extend({},j.data))}}function ba(b,f){var a;1===f.nodeType&&(f.clearAttributes&&f.clearAttributes(),f.mergeAttributes&&f.mergeAttributes(b),a=f.nodeName.toLowerCase(),"object"===a?(f.parentNode&&(f.outerHTML=b.outerHTML),c.support.html5Clone&&b.innerHTML&&!c.trim(f.innerHTML)&&
(f.innerHTML=b.innerHTML)):"input"===a&&ob.test(b.type)?(f.defaultChecked=f.checked=b.checked,f.value!==b.value&&(f.value=b.value)):"option"===a?f.selected=b.defaultSelected:"input"===a||"textarea"===a?f.defaultValue=b.defaultValue:"script"===a&&f.text!==b.text&&(f.text=b.text),f.removeAttribute(c.expando))}function na(b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll("*"):[]}function pb(b){ob.test(b.type)&&(b.defaultChecked=
b.checked)}function qb(b,f){if(f in b)return f;for(var a=f.charAt(0).toUpperCase()+f.slice(1),c=f,d=rb.length;d--;)if(f=rb[d]+a,f in b)return f;return c}function oa(b,f){return b=f||b,"none"===c.css(b,"display")||!c.contains(b.ownerDocument,b)}function sb(b,f){for(var a,g,d=[],j=0,i=b.length;j<i;j++)a=b[j],a.style&&(d[j]=c._data(a,"olddisplay"),f?(!d[j]&&"none"===a.style.display&&(a.style.display=""),""===a.style.display&&oa(a)&&(d[j]=c._data(a,"olddisplay",tb(a.nodeName)))):(g=F(a,"display"),!d[j]&&
"none"!==g&&c._data(a,"olddisplay",g)));for(j=0;j<i;j++)if(a=b[j],a.style&&(!f||"none"===a.style.display||""===a.style.display))a.style.display=f?d[j]||"":"none";return b}function ub(b,f,a){return(b=vc.exec(f))?Math.max(0,b[1]-(a||0))+(b[2]||"px"):f}function vb(b,f,a,g){for(var f=a===(g?"border":"content")?4:"width"===f?1:0,d=0;4>f;f+=2)"margin"===a&&(d+=c.css(b,a+U[f],!0)),g?("content"===a&&(d-=parseFloat(F(b,"padding"+U[f]))||0),"margin"!==a&&(d-=parseFloat(F(b,"border"+U[f]+"Width"))||0)):(d+=
parseFloat(F(b,"padding"+U[f]))||0,"padding"!==a&&(d+=parseFloat(F(b,"border"+U[f]+"Width"))||0));return d}function wb(b,f,a){var g="width"===f?b.offsetWidth:b.offsetHeight,d=!0,j=c.support.boxSizing&&"border-box"===c.css(b,"boxSizing");if(0>=g||null==g){g=F(b,f);if(0>g||null==g)g=b.style[f];if(pa.test(g))return g;d=j&&(c.support.boxSizingReliable||g===b.style[f]);g=parseFloat(g)||0}return g+vb(b,f,a||(j?"border":"content"),d)+"px"}function tb(b){if(Oa[b])return Oa[b];var f=c("<"+b+">").appendTo(t.body),
a=f.css("display");f.remove();if("none"===a||""===a){ca=t.body.appendChild(ca||c.extend(t.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!da||!ca.createElement)da=(ca.contentWindow||ca.contentDocument).document,da.write("<!doctype html><html><body>"),da.close();f=da.body.appendChild(da.createElement(b));a=F(f,"display");t.body.removeChild(ca)}return Oa[b]=a,a}function Pa(b,f,a,g){var d;if(c.isArray(f))c.each(f,function(f,c){a||wc.test(b)?g(b,c):Pa(b+"["+("object"==typeof c?f:"")+"]",
c,a,g)});else if(!a&&"object"===c.type(f))for(d in f)Pa(b+"["+d+"]",f[d],a,g);else g(b,f)}function xb(b){return function(f,a){"string"!=typeof f&&(a=f,f="*");var g,d,j=f.toLowerCase().split(V),i=0,e=j.length;if(c.isFunction(a))for(;i<e;i++)g=j[i],(d=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=b[g]=b[g]||[],g[d?"unshift":"push"](a)}}function qa(b,f,a,c,k,j){k=k||f.dataTypes[0];j=j||{};j[k]=!0;for(var i,k=b[k],e=0,m=k?k.length:0,s=b===Qa;e<m&&(s||!i);e++)i=k[e](f,a,c),"string"==typeof i&&(!s||j[i]?i=d:(f.dataTypes.unshift(i),
i=qa(b,f,a,c,i,j)));return(s||!i)&&!j["*"]&&(i=qa(b,f,a,c,"*",j)),i}function yb(b,f){var a,g,k=c.ajaxSettings.flatOptions||{};for(a in f)f[a]!==d&&((k[a]?b:g||(g={}))[a]=f[a]);g&&c.extend(!0,b,g)}function zb(){try{return new a.XMLHttpRequest}catch(b){}}function Ab(){return setTimeout(function(){ra=d},0),ra=c.now()}function Bb(b,f,a){var g,d=0,j=sa.length,i=c.Deferred().always(function(){delete e.elem}),e=function(){for(var f=ra||Ab(),f=Math.max(0,m.startTime+m.duration-f),a=1-(f/m.duration||0),n=
0,c=m.tweens.length;n<c;n++)m.tweens[n].run(a);return i.notifyWith(b,[m,a,f]),1>a&&c?f:(i.resolveWith(b,[m]),!1)},m=i.promise({elem:b,props:c.extend({},f),opts:c.extend(!0,{specialEasing:{}},a),originalProperties:f,originalOptions:a,startTime:ra||Ab(),duration:a.duration,tweens:[],createTween:function(f,a){var n=c.Tween(b,m.opts,f,a,m.opts.specialEasing[f]||m.opts.easing);return m.tweens.push(n),n},stop:function(f){for(var a=0,n=f?m.tweens.length:0;a<n;a++)m.tweens[a].run(1);return f?i.resolveWith(b,
[m,f]):i.rejectWith(b,[m,f]),this}}),f=m.props,a=m.opts.specialEasing,s,h,q,l;for(g in f)if(s=c.camelCase(g),h=a[s],q=f[g],c.isArray(q)&&(h=q[1],q=f[g]=q[0]),g!==s&&(f[s]=q,delete f[g]),(l=c.cssHooks[s])&&"expand"in l)for(g in q=l.expand(q),delete f[s],q)g in f||(f[g]=q[g],a[g]=h);else a[s]=h;for(;d<j;d++)if(g=sa[d].call(m,b,f,m.opts))return g;var yc=m;c.each(f,function(b,f){for(var a=(ia[b]||[]).concat(ia["*"]),n=0,c=a.length;n<c&&!a[n].call(yc,b,f);n++);});return c.isFunction(m.opts.start)&&m.opts.start.call(b,
m),c.fx.timer(c.extend(e,{anim:m,queue:m.opts.queue,elem:b})),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function G(b,f,a,c,d){return new G.prototype.init(b,f,a,c,d)}function ta(b,f){for(var a,c={height:b},d=0,f=f?1:0;4>d;d+=2-f)a=U[d],c["margin"+a]=c["padding"+a]=b;return f&&(c.opacity=c.width=b),c}function Cb(b){return c.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var Db,ua,t=a.document,zc=a.location,Ac=a.navigator,Bc=
a.jQuery,Cc=a.$,Eb=Array.prototype.push,P=Array.prototype.slice,Fb=Array.prototype.indexOf,Dc=Object.prototype.toString,Ra=Object.prototype.hasOwnProperty,Sa=String.prototype.trim,c=function(b,f){return new c.fn.init(b,f,Db)},va=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Ec=/\S/,V=/\s+/,Fc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Gc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hc=/^[\],:{}\s]*$/,Ic=/(?:^|:|,)(?:\s*\[)+/g,Jc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Kc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,
Lc=/^-ms-/,Mc=/-([\da-z])/gi,Nc=function(b,f){return(f+"").toUpperCase()},wa=function(){t.addEventListener?(t.removeEventListener("DOMContentLoaded",wa,!1),c.ready()):"complete"===t.readyState&&(t.detachEvent("onreadystatechange",wa),c.ready())},Hb={};c.fn=c.prototype={constructor:c,init:function(b,f,a){var g,k;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"==typeof b){"<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?g=[null,b,null]:g=Gc.exec(b);
if(g&&(g[1]||!f)){if(g[1])return f=f instanceof c?f[0]:f,k=f&&f.nodeType?f.ownerDocument||f:t,b=c.parseHTML(g[1],k,!0),Gb.test(g[1])&&c.isPlainObject(f)&&this.attr.call(b,f,!0),c.merge(this,b);if((f=t.getElementById(g[2]))&&f.parentNode){if(f.id!==g[2])return a.find(b);this.length=1;this[0]=f}return this.context=t,this.selector=b,this}return!f||f.jquery?(f||a).find(b):this.constructor(f).find(b)}return c.isFunction(b)?a.ready(b):(b.selector!==d&&(this.selector=b.selector,this.context=b.context),c.makeArray(b,
this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return P.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b,f,a){b=c.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,"find"===f?b.selector=this.selector+(this.selector?" ":"")+a:f&&(b.selector=this.selector+"."+f+"("+a+")"),b},each:function(b,f){return c.each(this,b,f)},ready:function(b){return c.ready.promise().done(b),
this},eq:function(b){return b=+b,-1===b?this.slice(b):this.slice(b,b+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(P.apply(this,arguments),"slice",P.call(arguments).join(","))},map:function(b){return this.pushStack(c.map(this,function(f,a){return b.call(f,a,f)}))},end:function(){return this.prevObject||this.constructor(null)},push:Eb,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var b,f,
a,g,k,j,i=arguments[0]||{},e=1,m=arguments.length,s=!1;"boolean"==typeof i&&(s=i,i=arguments[1]||{},e=2);"object"!=typeof i&&!c.isFunction(i)&&(i={});for(m===e&&(i=this,--e);e<m;e++)if(null!=(b=arguments[e]))for(f in b)a=i[f],g=b[f],i!==g&&(s&&g&&(c.isPlainObject(g)||(k=c.isArray(g)))?(k?(k=!1,j=a&&c.isArray(a)?a:[]):j=a&&c.isPlainObject(a)?a:{},i[f]=c.extend(s,j,g)):g!==d&&(i[f]=g));return i};c.extend({noConflict:function(b){return a.$===c&&(a.$=Cc),b&&a.jQuery===c&&(a.jQuery=Bc),c},isReady:!1,readyWait:1,
holdReady:function(b){b?c.readyWait++:c.ready(!0)},ready:function(b){if(!(!0===b?--c.readyWait:c.isReady)){if(!t.body)return setTimeout(c.ready,1);c.isReady=!0;!0!==b&&0<--c.readyWait||(ua.resolveWith(t,[c]),c.fn.trigger&&c(t).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===c.type(b)},isArray:Array.isArray||function(b){return"array"===c.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},type:function(b){return null==
b?String(b):Hb[Dc.call(b)]||"object"},isPlainObject:function(b){if(!b||"object"!==c.type(b)||b.nodeType||c.isWindow(b))return!1;try{if(b.constructor&&!Ra.call(b,"constructor")&&!Ra.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(var a in b);return a===d||Ra.call(b,a)},isEmptyObject:function(b){for(var f in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,f,a){var g;return!b||"string"!=typeof b?null:("boolean"==typeof f&&(a=f,f=0),f=f||t,(g=
Gb.exec(b))?[f.createElement(g[1])]:(g=c.buildFragment([b],f,a?null:[]),c.merge([],(g.cacheable?c.clone(g.fragment):g.fragment).childNodes)))},parseJSON:function(b){if(!b||"string"!=typeof b)return null;b=c.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(Hc.test(b.replace(Jc,"@").replace(Kc,"]").replace(Ic,"")))return(new Function("return "+b))();c.error("Invalid JSON: "+b)},parseXML:function(b){var f,n;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(n=new DOMParser,f=n.parseFromString(b,
"text/xml")):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(b))}catch(g){f=d}return(!f||!f.documentElement||f.getElementsByTagName("parsererror").length)&&c.error("Invalid XML: "+b),f},noop:function(){},globalEval:function(b){b&&Ec.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(b){return b.replace(Lc,"ms-").replace(Mc,Nc)},nodeName:function(b,f){return b.nodeName&&b.nodeName.toLowerCase()===f.toLowerCase()},each:function(b,f,a){var g,k=0,j=b.length,
i=j===d||c.isFunction(b);if(a)if(i)for(g in b){if(!1===f.apply(b[g],a))break}else for(;k<j&&!1!==f.apply(b[k++],a););else if(i)for(g in b){if(!1===f.call(b[g],g,b[g]))break}else for(;k<j&&!1!==f.call(b[k],k,b[k++]););return b},trim:Sa&&!Sa.call("\ufeff ")?function(b){return null==b?"":Sa.call(b)}:function(b){return null==b?"":(b+"").replace(Fc,"")},makeArray:function(b,f){var a,g=f||[];return null!=b&&(a=c.type(b),null==b.length||"string"===a||"function"===a||"regexp"===a||c.isWindow(b)?Eb.call(g,
b):c.merge(g,b)),g},inArray:function(b,f,a){var c;if(f){if(Fb)return Fb.call(f,b,a);c=f.length;for(a=a?0>a?Math.max(0,c+a):a:0;a<c;a++)if(a in f&&f[a]===b)return a}return-1},merge:function(b,f){var a=f.length,c=b.length,k=0;if("number"==typeof a)for(;k<a;k++)b[c++]=f[k];else for(;f[k]!==d;)b[c++]=f[k++];return b.length=c,b},grep:function(b,f,a){for(var c,d=[],j=0,i=b.length,a=!!a;j<i;j++)c=!!f(b[j],j),a!==c&&d.push(b[j]);return d},map:function(b,f,a){var g,k,j=[],i=0,e=b.length;if(b instanceof c||
e!==d&&"number"==typeof e&&(0<e&&b[0]&&b[e-1]||0===e||c.isArray(b)))for(;i<e;i++)g=f(b[i],i,a),null!=g&&(j[j.length]=g);else for(k in b)g=f(b[k],k,a),null!=g&&(j[j.length]=g);return j.concat.apply([],j)},guid:1,proxy:function(b,f){var a,g,k;return"string"==typeof f&&(a=b[f],f=b,b=a),c.isFunction(b)?(g=P.call(arguments,2),k=function(){return b.apply(f,g.concat(P.call(arguments)))},k.guid=b.guid=b.guid||c.guid++,k):d},access:function(b,f,a,g,k,j,i){var e,m=null==a,s=0,h=b.length;if(a&&"object"==typeof a){for(s in a)c.access(b,
f,s,a[s],1,j,g);k=1}else if(g!==d){e=i===d&&c.isFunction(g);m&&(e?(e=f,f=function(b,f,a){return e.call(c(b),a)}):(f.call(b,g),f=null));if(f)for(;s<h;s++)f(b[s],a,e?g.call(b[s],s,f(b[s],a)):g,i);k=1}return k?b:m?f.call(b):h?f(b[0],a):j},now:function(){return(new Date).getTime()}});c.ready.promise=function(b){if(!ua)if(ua=c.Deferred(),"complete"===t.readyState)setTimeout(c.ready,1);else if(t.addEventListener)t.addEventListener("DOMContentLoaded",wa,!1),a.addEventListener("load",c.ready,!1);else{t.attachEvent("onreadystatechange",
wa);a.attachEvent("onload",c.ready);var f=!1;try{f=null==a.frameElement&&t.documentElement}catch(n){}f&&f.doScroll&&function k(){if(!c.isReady){try{f.doScroll("left")}catch(b){return setTimeout(k,50)}c.ready()}}()}return ua.promise(b)};c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b,f){Hb["[object "+f+"]"]=f.toLowerCase()});Db=c(t);var Ib={};c.Callbacks=function(b){var f;if("string"==typeof b){if(!(f=Ib[b])){f=b;var a=Ib[f]={};f=(c.each(f.split(V),function(b,
f){a[f]=!0}),a)}}else f=c.extend({},b);var b=f,g,k,j,i,e,m,s=[],h=!b.once&&[],q=function(f){g=b.memory&&f;k=!0;m=i||0;i=0;e=s.length;for(j=!0;s&&m<e;m++)if(!1===s[m].apply(f[0],f[1])&&b.stopOnFalse){g=!1;break}j=!1;s&&(h?h.length&&q(h.shift()):g?s=[]:l.disable())},l={add:function(){if(s){var f=s.length;(function xc(f){c.each(f,function(f,a){var n=c.type(a);"function"===n&&(!b.unique||!l.has(a))?s.push(a):a&&a.length&&"string"!==n&&xc(a)})})(arguments);j?e=s.length:g&&(i=f,q(g))}return this},remove:function(){return s&&
c.each(arguments,function(b,f){for(var a;-1<(a=c.inArray(f,s,a));)s.splice(a,1),j&&(a<=e&&e--,a<=m&&m--)}),this},has:function(b){return-1<c.inArray(b,s)},empty:function(){return s=[],this},disable:function(){return s=h=g=d,this},disabled:function(){return!s},lock:function(){return h=d,g||l.disable(),this},locked:function(){return!h},fireWith:function(b,f){return f=f||[],f=[b,f.slice?f.slice():f],s&&(!k||h)&&(j?h.push(f):q(f)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!k}};
return l};c.extend({Deferred:function(b){var f=[["resolve","done",c.Callbacks("once memory"),"resolved"],["reject","fail",c.Callbacks("once memory"),"rejected"],["notify","progress",c.Callbacks("memory")]],a="pending",g={state:function(){return a},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var b=arguments;return c.Deferred(function(a){c.each(f,function(f,n){var g=n[0],e=b[f];d[n[1]](c.isFunction(e)?function(){var b=e.apply(this,arguments);b&&c.isFunction(b.promise)?
b.promise().done(a.resolve).fail(a.reject).progress(a.notify):a[g+"With"](this===d?a:this,[b])}:a[g])});b=null}).promise()},promise:function(b){return null!=b?c.extend(b,g):g}},d={};return g.pipe=g.then,c.each(f,function(b,c){var e=c[2],m=c[3];g[c[1]]=e.add;m&&e.add(function(){a=m},f[b^1][2].disable,f[2][2].lock);d[c[0]]=e.fire;d[c[0]+"With"]=e.fireWith}),g.promise(d),b&&b.call(d,d),d},when:function(b){var f=0,a=P.call(arguments),g=a.length,d=1!==g||b&&c.isFunction(b.promise)?g:0,j=1===d?b:c.Deferred(),
i=function(b,f,a){return function(c){f[b]=this;a[b]=1<arguments.length?P.call(arguments):c;a===e?j.notifyWith(f,a):--d||j.resolveWith(f,a)}},e,m,s;if(1<g){e=Array(g);m=Array(g);for(s=Array(g);f<g;f++)a[f]&&c.isFunction(a[f].promise)?a[f].promise().done(i(f,s,a)).fail(j.reject).progress(i(f,m,e)):--d}return d||j.resolveWith(s,a),j.promise()}});var Oc=c,Ta;var z,xa,W,ya,za,E,X,Aa,Ua,ja,Jb,A=t.createElement("div");A.setAttribute("className","t");A.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
xa=A.getElementsByTagName("*");W=A.getElementsByTagName("a")[0];W.style.cssText="top:1px;float:left;opacity:.5";if(!xa||!xa.length)Ta={};else{ya=t.createElement("select");za=ya.appendChild(t.createElement("option"));E=A.getElementsByTagName("input")[0];z={leadingWhitespace:3===A.firstChild.nodeType,tbody:!A.getElementsByTagName("tbody").length,htmlSerialize:!!A.getElementsByTagName("link").length,style:/top/.test(W.getAttribute("style")),hrefNormalized:"/a"===W.getAttribute("href"),opacity:/^0.5/.test(W.style.opacity),
cssFloat:!!W.style.cssFloat,checkOn:"on"===E.value,optSelected:za.selected,getSetAttribute:"t"!==A.className,enctype:!!t.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==t.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===t.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};E.checked=!0;z.noCloneChecked=E.cloneNode(!0).checked;
ya.disabled=!0;z.optDisabled=!za.disabled;try{delete A.test}catch(Qd){z.deleteExpando=!1}!A.addEventListener&&A.attachEvent&&A.fireEvent&&(A.attachEvent("onclick",Jb=function(){z.noCloneEvent=!1}),A.cloneNode(!0).fireEvent("onclick"),A.detachEvent("onclick",Jb));E=t.createElement("input");E.value="t";E.setAttribute("type","radio");z.radioValue="t"===E.value;E.setAttribute("checked","checked");E.setAttribute("name","t");A.appendChild(E);X=t.createDocumentFragment();X.appendChild(A.lastChild);z.checkClone=
X.cloneNode(!0).cloneNode(!0).lastChild.checked;z.appendChecked=E.checked;X.removeChild(E);X.appendChild(A);if(A.attachEvent)for(Ua in{submit:!0,change:!0,focusin:!0})Aa="on"+Ua,(ja=Aa in A)||(A.setAttribute(Aa,"return;"),ja="function"==typeof A[Aa]),z[Ua+"Bubbles"]=ja;Ta=(c(function(){var b,f,c,g,d=t.getElementsByTagName("body")[0];d&&(b=t.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",d.insertBefore(b,d.firstChild),f=t.createElement("div"),
b.appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=f.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",ja=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",z.reliableHiddenOffsets=ja&&0===c[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",z.boxSizing=
4===f.offsetWidth,z.doesNotIncludeMarginInBodyOffset=1!==d.offsetTop,a.getComputedStyle&&(z.pixelPosition="1%"!==(a.getComputedStyle(f,null)||{}).top,z.boxSizingReliable="4px"===(a.getComputedStyle(f,null)||{width:"4px"}).width,g=t.createElement("div"),g.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",g.style.marginRight=g.style.width="0",f.style.width="1px",f.appendChild(g),z.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),
"undefined"!=typeof f.style.zoom&&(f.innerHTML="",f.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",z.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.style.overflow="visible",f.innerHTML="<div></div>",f.firstChild.style.width="5px",z.shrinkWrapBlocks=3!==f.offsetWidth,b.style.zoom=1),d.removeChild(b))}),X.removeChild(A),xa=W=ya=za=E=X=A=null,z)}Oc.support=Ta;var tc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sc=/([A-Z])/g;
c.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){return b=b.nodeType?c.cache[b[c.expando]]:b[c.expando],!!b&&!h(b)},data:function(b,f,a,g){if(c.acceptData(b)){var k,j,i=c.expando,e="string"==typeof f,m=b.nodeType,s=m?c.cache:b,h=m?b[i]:b[i]&&i;if(h&&s[h]&&(g||s[h].data)||!(e&&a===d)){h||(m?b[i]=h=c.deletedIds.pop()||c.guid++:h=i);s[h]||(s[h]={},
m||(s[h].toJSON=c.noop));if("object"==typeof f||"function"==typeof f)g?s[h]=c.extend(s[h],f):s[h].data=c.extend(s[h].data,f);return k=s[h],g||(k.data||(k.data={}),k=k.data),a!==d&&(k[c.camelCase(f)]=a),e?(j=k[f],null==j&&(j=k[c.camelCase(f)])):j=k,j}}},removeData:function(b,f,a){if(c.acceptData(b)){var g,d,j,i=b.nodeType,e=i?c.cache:b,m=i?b[c.expando]:c.expando;if(e[m]){if(f&&(g=a?e[m]:e[m].data)){c.isArray(f)||(f in g?f=[f]:(f=c.camelCase(f),f in g?f=[f]:f=f.split(" ")));d=0;for(j=f.length;d<j;d++)delete g[f[d]];
if(!(a?h:c.isEmptyObject)(g))return}if(!a&&(delete e[m].data,!h(e[m])))return;i?c.cleanData([b],!0):c.support.deleteExpando||e!=e.window?delete e[m]:e[m]=null}}},_data:function(b,f,a){return c.data(b,f,a,!0)},acceptData:function(b){var f=b.nodeName&&c.noData[b.nodeName.toLowerCase()];return!f||!0!==f&&b.getAttribute("classid")===f}});c.fn.extend({data:function(b,f){var a,g,k,j,i,M=this[0],m=0,h=null;if(b===d){if(this.length&&(h=c.data(M),1===M.nodeType&&!c._data(M,"parsedAttrs"))){k=M.attributes;
for(i=k.length;m<i;m++)j=k[m].name,j.indexOf("data-")||(j=c.camelCase(j.substring(5)),e(M,j,h[j]));c._data(M,"parsedAttrs",!0)}return h}return"object"==typeof b?this.each(function(){c.data(this,b)}):(a=b.split(".",2),a[1]=a[1]?"."+a[1]:"",g=a[1]+"!",c.access(this,function(f){if(f===d)return h=this.triggerHandler("getData"+g,[a[0]]),h===d&&M&&(h=c.data(M,b),h=e(M,b,h)),h===d&&a[1]?this.data(a[0]):h;a[1]=f;this.each(function(){var d=c(this);d.triggerHandler("setData"+g,a);c.data(this,b,f);d.triggerHandler("changeData"+
g,a)})},null,f,1<arguments.length,null,!1))},removeData:function(b){return this.each(function(){c.removeData(this,b)})}});c.extend({queue:function(b,f,a){var g;if(b)return f=(f||"fx")+"queue",g=c._data(b,f),a&&(!g||c.isArray(a)?g=c._data(b,f,c.makeArray(a)):g.push(a)),g||[]},dequeue:function(b,f){var f=f||"fx",a=c.queue(b,f),g=a.length,d=a.shift(),j=c._queueHooks(b,f),i=function(){c.dequeue(b,f)};"inprogress"===d&&(d=a.shift(),g--);d&&("fx"===f&&a.unshift("inprogress"),delete j.stop,d.call(b,i,j));
!g&&j&&j.empty.fire()},_queueHooks:function(b,f){var a=f+"queueHooks";return c._data(b,a)||c._data(b,a,{empty:c.Callbacks("once memory").add(function(){c.removeData(b,f+"queue",!0);c.removeData(b,a,!0)})})}});c.fn.extend({queue:function(b,f){var a=2;return"string"!=typeof b&&(f=b,b="fx",a--),arguments.length<a?c.queue(this[0],b):f===d?this:this.each(function(){var a=c.queue(this,b,f);c._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&c.dequeue(this,b)})},dequeue:function(b){return this.each(function(){c.dequeue(this,
b)})},delay:function(b,f){return b=c.fx?c.fx.speeds[b]||b:b,f=f||"fx",this.queue(f,function(f,a){var c=setTimeout(f,b);a.stop=function(){clearTimeout(c)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,f){var a,g=1,k=c.Deferred(),j=this,i=this.length,e=function(){--g||k.resolveWith(j,[j])};"string"!=typeof b&&(f=b,b=d);for(b=b||"fx";i--;)(a=c._data(j[i],b+"queueHooks"))&&a.empty&&(g++,a.empty.add(e));return e(),k.promise(f)}});var R,Kb,Lb,Mb=/[\t\r\n]/g,Pc=/\r/g,Qc=/^(?:button|input)$/i,
Rc=/^(?:button|input|object|select|textarea)$/i,Sc=/^a(?:rea|)$/i,Nb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ob=c.support.getSetAttribute;c.fn.extend({attr:function(b,f){return c.access(this,c.attr,b,f,1<arguments.length)},removeAttr:function(b){return this.each(function(){c.removeAttr(this,b)})},prop:function(b,f){return c.access(this,c.prop,b,f,1<arguments.length)},removeProp:function(b){return b=c.propFix[b]||
b,this.each(function(){try{this[b]=d,delete this[b]}catch(f){}})},addClass:function(b){var f,a,g,d,j,i,e;if(c.isFunction(b))return this.each(function(f){c(this).addClass(b.call(this,f,this.className))});if(b&&"string"==typeof b){f=b.split(V);a=0;for(g=this.length;a<g;a++)if(d=this[a],1===d.nodeType)if(!d.className&&1===f.length)d.className=b;else{j=" "+d.className+" ";i=0;for(e=f.length;i<e;i++)0>j.indexOf(" "+f[i]+" ")&&(j+=f[i]+" ");d.className=c.trim(j)}}return this},removeClass:function(b){var f,
a,g,k,j,i,e;if(c.isFunction(b))return this.each(function(f){c(this).removeClass(b.call(this,f,this.className))});if(b&&"string"==typeof b||b===d){f=(b||"").split(V);i=0;for(e=this.length;i<e;i++)if(g=this[i],1===g.nodeType&&g.className){a=(" "+g.className+" ").replace(Mb," ");k=0;for(j=f.length;k<j;k++)for(;0<=a.indexOf(" "+f[k]+" ");)a=a.replace(" "+f[k]+" "," ");g.className=b?c.trim(a):""}}return this},toggleClass:function(b,f){var a=typeof b,d="boolean"==typeof f;return c.isFunction(b)?this.each(function(a){c(this).toggleClass(b.call(this,
a,this.className,f),f)}):this.each(function(){if("string"===a)for(var k,j=0,i=c(this),e=f,m=b.split(V);k=m[j++];)e=d?e:!i.hasClass(k),i[e?"addClass":"removeClass"](k);else if("undefined"===a||"boolean"===a)this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===b?"":c._data(this,"__className__")||""})},hasClass:function(b){for(var b=" "+b+" ",f=0,a=this.length;f<a;f++)if(1===this[f].nodeType&&0<=(" "+this[f].className+" ").replace(Mb," ").indexOf(b))return!0;
return!1},val:function(b){var f,a,g,k=this[0];if(arguments.length)return g=c.isFunction(b),this.each(function(a){var n,k=c(this);if(1===this.nodeType&&(g?n=b.call(this,a,k.val()):n=b,null==n?n="":"number"==typeof n?n+="":c.isArray(n)&&(n=c.map(n,function(b){return null==b?"":b+""})),f=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],!f||!("set"in f)||f.set(this,n,"value")===d))this.value=n});if(k)return f=c.valHooks[k.type]||c.valHooks[k.nodeName.toLowerCase()],f&&"get"in f&&(a=f.get(k,
"value"))!==d?a:(a=k.value,"string"==typeof a?a.replace(Pc,""):null==a?"":a)}});c.extend({valHooks:{option:{get:function(b){var f=b.attributes.value;return!f||f.specified?b.value:b.text}},select:{get:function(b){var f,a,d=b.selectedIndex,k=[],j=b.options,i="select-one"===b.type;if(0>d)return null;b=i?d:0;for(a=i?d+1:j.length;b<a;b++)if(f=j[b],f.selected&&(c.support.optDisabled?!f.disabled:null===f.getAttribute("disabled"))&&(!f.parentNode.disabled||!c.nodeName(f.parentNode,"optgroup"))){f=c(f).val();
if(i)return f;k.push(f)}return i&&!k.length&&j.length?c(j[d]).val():k},set:function(b,a){var d=c.makeArray(a);return c(b).find("option").each(function(){this.selected=0<=c.inArray(c(this).val(),d)}),d.length||(b.selectedIndex=-1),d}}},attrFn:{},attr:function(b,a,n,g){var k,j,i=b.nodeType;if(b&&!(3===i||8===i||2===i)){if(g&&c.isFunction(c.fn[a]))return c(b)[a](n);if("undefined"==typeof b.getAttribute)return c.prop(b,a,n);(g=1!==i||!c.isXMLDoc(b))&&(a=a.toLowerCase(),j=c.attrHooks[a]||(Nb.test(a)?Kb:
R));if(n!==d){if(null===n){c.removeAttr(b,a);return}return j&&"set"in j&&g&&(k=j.set(b,n,a))!==d?k:(b.setAttribute(a,n+""),n)}return j&&"get"in j&&g&&null!==(k=j.get(b,a))?k:(k=b.getAttribute(a),null===k?d:k)}},removeAttr:function(b,a){var d,g,k,j,i=0;if(a&&1===b.nodeType)for(g=a.split(V);i<g.length;i++)(k=g[i])&&(d=c.propFix[k]||k,j=Nb.test(k),j||c.attr(b,k,""),b.removeAttribute(Ob?k:d),j&&d in b&&(b[d]=!1))},attrHooks:{type:{set:function(b,a){if(Qc.test(b.nodeName)&&b.parentNode)c.error("type property can't be changed");
else if(!c.support.radioValue&&"radio"===a&&c.nodeName(b,"input")){var d=b.value;return b.setAttribute("type",a),d&&(b.value=d),a}}},value:{get:function(b,a){return R&&c.nodeName(b,"button")?R.get(b,a):a in b?b.value:null},set:function(b,a,d){if(R&&c.nodeName(b,"button"))return R.set(b,a,d);b.value=a}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,a,n){var g,k,j,i=b.nodeType;if(b&&!(3===i||8===i||2===i))return j=1!==i||!c.isXMLDoc(b),j&&(a=c.propFix[a]||a,k=c.propHooks[a]),n!==d?k&&"set"in k&&(g=k.set(b,n,a))!==d?g:b[a]=n:k&&"get"in k&&null!==(g=k.get(b,a))?g:b[a]},propHooks:{tabIndex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Rc.test(b.nodeName)||Sc.test(b.nodeName)&&b.href?0:d}}}});Kb={get:function(b,a){var n,
g=c.prop(b,a);return!0===g||"boolean"!=typeof g&&(n=b.getAttributeNode(a))&&!1!==n.nodeValue?a.toLowerCase():d},set:function(b,a,d){var g;return!1===a?c.removeAttr(b,d):(g=c.propFix[d]||d,g in b&&(b[g]=!0),b.setAttribute(d,d.toLowerCase())),d}};Ob||(Lb={name:!0,id:!0,coords:!0},R=c.valHooks.button={get:function(b,a){var c;return c=b.getAttributeNode(a),c&&(Lb[a]?""!==c.value:c.specified)?c.value:d},set:function(b,a,c){var d=b.getAttributeNode(c);return d||(d=t.createAttribute(c),b.setAttributeNode(d)),
d.value=a+""}},c.each(["width","height"],function(b,a){c.attrHooks[a]=c.extend(c.attrHooks[a],{set:function(b,c){if(""===c)return b.setAttribute(a,"auto"),c}})}),c.attrHooks.contenteditable={get:R.get,set:function(b,a,c){""===a&&(a="false");R.set(b,a,c)}});c.support.hrefNormalized||c.each(["href","src","width","height"],function(b,a){c.attrHooks[a]=c.extend(c.attrHooks[a],{get:function(b){b=b.getAttribute(a,2);return null===b?d:b}})});c.support.style||(c.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
d},set:function(b,a){return b.style.cssText=a+""}});c.support.optSelected||(c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}));c.support.enctype||(c.propFix.enctype="encoding");c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],
{set:function(b,a){if(c.isArray(a))return b.checked=0<=c.inArray(c(b).val(),a)}})});var Va=/^(?:textarea|input|select)$/i,Pb=/^([^\.]*|)(?:\.(.+)|)$/,Tc=/(?:^|\s)hover(\.\S+|)\b/,Uc=/^key/,Vc=/^(?:mouse|contextmenu)|click/,Qb=/^(?:focusinfocus|focusoutblur)$/,Rb=function(b){return c.event.special.hover?b:b.replace(Tc,"mouseenter$1 mouseleave$1")};c.event={add:function(b,a,n,g,k){var j,i,e,m,h,l,q,p,r;if(!(3===b.nodeType||8===b.nodeType||!a||!n||!(j=c._data(b)))){n.handler&&(q=n,n=q.handler,k=q.selector);
n.guid||(n.guid=c.guid++);(e=j.events)||(j.events=e={});(i=j.handle)||(j.handle=i=function(b){return"undefined"!=typeof c&&(!b||c.event.triggered!==b.type)?c.event.dispatch.apply(i.elem,arguments):d},i.elem=b);a=c.trim(Rb(a)).split(" ");for(j=0;j<a.length;j++){m=Pb.exec(a[j])||[];h=m[1];l=(m[2]||"").split(".").sort();r=c.event.special[h]||{};h=(k?r.delegateType:r.bindType)||h;r=c.event.special[h]||{};m=c.extend({type:h,origType:m[1],data:g,handler:n,guid:n.guid,selector:k,needsContext:k&&c.expr.match.needsContext.test(k),
namespace:l.join(".")},q);p=e[h];if(!p&&(p=e[h]=[],p.delegateCount=0,!r.setup||!1===r.setup.call(b,g,l,i)))b.addEventListener?b.addEventListener(h,i,!1):b.attachEvent&&b.attachEvent("on"+h,i);r.add&&(r.add.call(b,m),m.handler.guid||(m.handler.guid=n.guid));k?p.splice(p.delegateCount++,0,m):p.push(m);c.event.global[h]=!0}b=null}},global:{},remove:function(b,a,d,g,k){var j,i,e,m,h,l,q,p,r,t,u=c.hasData(b)&&c._data(b);if(u&&(q=u.events)){a=c.trim(Rb(a||"")).split(" ");for(j=0;j<a.length;j++)if(i=Pb.exec(a[j])||
[],e=m=i[1],i=i[2],e){p=c.event.special[e]||{};e=(g?p.delegateType:p.bindType)||e;r=q[e]||[];h=r.length;i=i?RegExp("(^|\\.)"+i.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<r.length;l++)t=r[l],(k||m===t.origType)&&(!d||d.guid===t.guid)&&(!i||i.test(t.namespace))&&(!g||g===t.selector||"**"===g&&t.selector)&&(r.splice(l--,1),t.selector&&r.delegateCount--,p.remove&&p.remove.call(b,t));0===r.length&&h!==r.length&&((!p.teardown||!1===p.teardown.call(b,i,u.handle))&&c.removeEvent(b,
e,u.handle),delete q[e])}else for(e in q)c.event.remove(b,e+a[j],d,g,!0);c.isEmptyObject(q)&&(delete u.handle,c.removeData(b,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,f,n,g){if(!n||3!==n.nodeType&&8!==n.nodeType){var k,j,i,e,m,h,l,q=b.type||b;e=[];if(!Qb.test(q+c.event.triggered)&&(0<=q.indexOf("!")&&(q=q.slice(0,-1),k=!0),0<=q.indexOf(".")&&(e=q.split("."),q=e.shift(),e.sort()),n&&!c.event.customEvent[q]||c.event.global[q]))if(b="object"==typeof b?b[c.expando]?
b:new c.Event(q,b):new c.Event(q),b.type=q,b.isTrigger=!0,b.exclusive=k,b.namespace=e.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e=0>q.indexOf(":")?"on"+q:"",n){if(b.result=d,b.target||(b.target=n),f=null!=f?c.makeArray(f):[],f.unshift(b),m=c.event.special[q]||{},!(m.trigger&&!1===m.trigger.apply(n,f))){l=[[n,m.bindType||q]];if(!g&&!m.noBubble&&!c.isWindow(n)){j=m.delegateType||q;k=Qb.test(j+q)?n:n.parentNode;for(i=n;k;k=k.parentNode)l.push([k,j]),
i=k;i===(n.ownerDocument||t)&&l.push([i.defaultView||i.parentWindow||a,j])}for(j=0;j<l.length&&!b.isPropagationStopped();j++)k=l[j][0],b.type=l[j][1],(h=(c._data(k,"events")||{})[b.type]&&c._data(k,"handle"))&&h.apply(k,f),(h=e&&k[e])&&c.acceptData(k)&&h.apply&&!1===h.apply(k,f)&&b.preventDefault();return b.type=q,!g&&!b.isDefaultPrevented()&&(!m._default||!1===m._default.apply(n.ownerDocument,f))&&("click"!==q||!c.nodeName(n,"a"))&&c.acceptData(n)&&e&&n[q]&&("focus"!==q&&"blur"!==q||0!==b.target.offsetWidth)&&
!c.isWindow(n)&&(i=n[e],i&&(n[e]=null),c.event.triggered=q,n[q](),c.event.triggered=d,i&&(n[e]=i)),b.result}}else for(j in n=c.cache,n)n[j].events&&n[j].events[q]&&c.event.trigger(b,f,n[j].handle.elem,!0)}},dispatch:function(b){var b=c.event.fix(b||a.event),f,n,g,k,j,i,e=(c._data(this,"events")||{})[b.type]||[],h=e.delegateCount,s=P.call(arguments),l=!b.exclusive&&!b.namespace,q=c.event.special[b.type]||{},p=[];s[0]=b;b.delegateTarget=this;if(!(q.preDispatch&&!1===q.preDispatch.call(this,b))){if(h&&
(!b.button||"click"!==b.type))for(n=b.target;n!=this;n=n.parentNode||this)if(!0!==n.disabled||"click"!==b.type){k={};j=[];for(f=0;f<h;f++)g=e[f],i=g.selector,k[i]===d&&(k[i]=g.needsContext?0<=c(i,this).index(n):c.find(i,this,null,[n]).length),k[i]&&j.push(g);j.length&&p.push({elem:n,matches:j})}e.length>h&&p.push({elem:this,matches:e.slice(h)});for(f=0;f<p.length&&!b.isPropagationStopped();f++){k=p[f];b.currentTarget=k.elem;for(n=0;n<k.matches.length&&!b.isImmediatePropagationStopped();n++)if(g=k.matches[n],
l||!b.namespace&&!g.namespace||b.namespace_re&&b.namespace_re.test(g.namespace))b.data=g.data,b.handleObj=g,g=((c.event.special[g.origType]||{}).handle||g.handler).apply(k.elem,s),g!==d&&(b.result=g,!1===g&&(b.preventDefault(),b.stopPropagation()))}return q.postDispatch&&q.postDispatch.call(this,b),b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){return null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var c,g,k,e=a.button,i=a.fromElement;return null==b.pageX&&null!=a.clientX&&(c=b.target.ownerDocument||t,g=c.documentElement,k=c.body,b.pageX=a.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||0)-(g&&g.clientLeft||
k&&k.clientLeft||0),b.pageY=a.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)),!b.relatedTarget&&i&&(b.relatedTarget=i===b.target?a.toElement:i),!b.which&&e!==d&&(b.which=e&1?1:e&2?3:e&4?2:0),b}},fix:function(b){if(b[c.expando])return b;var a,d,g=b,k=c.event.fixHooks[b.type]||{},e=k.props?this.props.concat(k.props):this.props,b=c.Event(g);for(a=e.length;a;)d=e[--a],b[d]=g[d];return b.target||(b.target=g.srcElement||t),3===b.target.nodeType&&(b.target=b.target.parentNode),
b.metaKey=!!b.metaKey,k.filter?k.filter(b,g):b},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b,a,d){c.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(b,a){this.onbeforeunload===a&&(this.onbeforeunload=null)}}},simulate:function(b,a,d,g){b=c.extend(new c.Event,d,{type:b,isSimulated:!0,originalEvent:{}});g?c.event.trigger(b,null,a):c.event.dispatch.call(a,b);b.isDefaultPrevented()&&d.preventDefault()}};c.event.handle=
c.event.dispatch;c.removeEvent=t.removeEventListener?function(b,a,c){b.removeEventListener&&b.removeEventListener(a,c,!1)}:function(b,a,c){a="on"+a;b.detachEvent&&("undefined"==typeof b[a]&&(b[a]=null),b.detachEvent(a,c))};c.Event=function(b,a){if(this instanceof c.Event)b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?p:l):this.type=b,a&&c.extend(this,a),this.timeStamp=b&&b.timeStamp||c.now(),
this[c.expando]=!0;else return new c.Event(b,a)};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=p;var b=this.originalEvent;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=p;var b=this.originalEvent;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p;this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l};
c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){c.event.special[b]={delegateType:a,bindType:a,handle:function(b){var d,e=b.relatedTarget,j=b.handleObj;if(!e||e!==this&&!c.contains(this,e))b.type=j.origType,d=j.handler.apply(this,arguments),b.type=a;return d}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return!1;c.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=c.nodeName(b,"input")||c.nodeName(b,"button")?
b.form:d)&&!c._data(b,"_submit_attached")&&(c.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),c._data(b,"_submit_attached",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&c.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(c.nodeName(this,"form"))return!1;c.event.remove(this,"._submit")}});c.support.changeBubbles||(c.event.special.change={setup:function(){if(Va.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)c.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),c.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);c.event.simulate("change",this,b,!0)});return!1}c.event.add(this,"beforeactivate._change",function(b){b=b.target;Va.test(b.nodeName)&&!c._data(b,"_change_attached")&&(c.event.add(b,"change._change",function(b){this.parentNode&&!b.isSimulated&&!b.isTrigger&&
c.event.simulate("change",this.parentNode,b,!0)}),c._data(b,"_change_attached",!0))})},handle:function(b){var a=b.target;if(this!==a||b.isSimulated||b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){return c.event.remove(this,"._change"),!Va.test(this.nodeName)}});c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(b,a){var d=0,g=function(b){c.event.simulate(a,b.target,c.event.fix(b),!0)};c.event.special[a]=
{setup:function(){0===d++&&t.addEventListener(b,g,!0)},teardown:function(){0===--d&&t.removeEventListener(b,g,!0)}}});c.fn.extend({on:function(b,a,n,g,e){var j,i;if("object"==typeof b){"string"!=typeof a&&(n=n||a,a=d);for(i in b)this.on(i,a,n,b[i],e);return this}null==n&&null==g?(g=a,n=a=d):null==g&&("string"==typeof a?(g=n,n=d):(g=n,n=a,a=d));if(!1===g)g=l;else if(!g)return this;return 1===e&&(j=g,g=function(b){return c().off(b),j.apply(this,arguments)},g.guid=j.guid||(j.guid=c.guid++)),this.each(function(){c.event.add(this,
b,g,n,a)})},one:function(b,a,c,d){return this.on(b,a,c,d,1)},off:function(b,a,n){var g,e;if(b&&b.preventDefault&&b.handleObj)return g=b.handleObj,c(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof b){for(e in b)this.off(e,a,b[e]);return this}if(!1===a||"function"==typeof a)n=a,a=d;return!1===n&&(n=l),this.each(function(){c.event.remove(this,b,n,a)})},bind:function(b,a,c){return this.on(b,null,a,c)},unbind:function(b,a){return this.off(b,
null,a)},live:function(b,a,d){return c(this.context).on(b,this.selector,a,d),this},die:function(b,a){return c(this.context).off(b,this.selector||"**",a),this},delegate:function(b,a,c,d){return this.on(a,b,c,d)},undelegate:function(b,a,c){return 1===arguments.length?this.off(b,"**"):this.off(a,b||"**",c)},trigger:function(b,a){return this.each(function(){c.event.trigger(b,a,this)})},triggerHandler:function(b,a){if(this[0])return c.event.trigger(b,a,this[0],!0)},toggle:function(b){var a=arguments,d=
b.guid||c.guid++,g=0,e=function(d){var n=(c._data(this,"lastToggle"+b.guid)||0)%g;return c._data(this,"lastToggle"+b.guid,n+1),d.preventDefault(),a[n].apply(this,arguments)||!1};for(e.guid=d;g<a.length;)a[g++].guid=d;return this.click(e)},hover:function(b,a){return this.mouseenter(b).mouseleave(a||b)}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,a){c.fn[a]=function(b,c){return null==c&&(c=b,b=null),0<arguments.length?this.on(a,null,b,c):this.trigger(a)};Uc.test(a)&&(c.event.fixHooks[a]=c.event.keyHooks);Vc.test(a)&&(c.event.fixHooks[a]=c.event.mouseHooks)});var Wc=a,B=function(b,a,c,d){var c=c||[],a=a||L,e,j,i,h,m=a.nodeType;if(!b||"string"!=typeof b)return c;if(1!==m&&9!==m)return[];i=Ba(a);if(!i&&!d&&(e=Xc.exec(b)))if(h=e[1])if(9===m){j=a.getElementById(h);if(!j||!j.parentNode)return c;if(j.id===h)return c.push(j),c}else{if(a.ownerDocument&&
(j=a.ownerDocument.getElementById(h))&&Sb(a,j)&&j.id===h)return c.push(j),c}else{if(e[2])return ea.apply(c,fa.call(a.getElementsByTagName(b),0)),c;if((h=e[3])&&Tb&&a.getElementsByClassName)return ea.apply(c,fa.call(a.getElementsByClassName(h),0)),c}return Wa(b.replace(Ca,"$1"),a,c,d,i)},ka=function(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}},Ub=function(b){return function(a){var c=a.nodeName.toLowerCase();return("input"===c||"button"===c)&&a.type===b}},Y=function(b){return N(function(a){return a=
+a,N(function(c,d){for(var e,j=b([],c.length,a),i=j.length;i--;)c[e=j[i]]&&(c[e]=!(d[e]=c[e]))})})},Da=function(b,a,c){if(b===a)return c;for(b=b.nextSibling;b;){if(b===a)return-1;b=b.nextSibling}return 1},Fa=function(b,a){var c,d,e,j,i,h,m;if(i=Vb[C][b])return a?0:i.slice(0);i=b;h=[];for(m=w.preFilter;i;){if(!c||(d=Yc.exec(i)))d&&(i=i.slice(d[0].length)),h.push(e=[]);c=!1;if(d=Zc.exec(i))e.push(c=new Wb(d.shift())),i=i.slice(c.length),c.type=d[0].replace(Ca," ");for(j in w.filter)(d=Ea[j].exec(i))&&
(!m[j]||(d=m[j](d,L,!0)))&&(e.push(c=new Wb(d.shift())),i=i.slice(c.length),c.type=j,c.matches=d);if(!c)break}return a?i.length:i?B.error(b):Vb(b,h).slice(0)},Ya=function(b,a,c){var d=a.dir,e=c&&"parentNode"===a.dir,j=$c++;return a.first?function(a,f,c){for(;a=a[d];)if(e||1===a.nodeType)return b(a,f,c)}:function(a,f,c){if(c)for(;a=a[d];){if((e||1===a.nodeType)&&b(a,f,c))return a}else for(var n,h=la+" "+j+" ",q=h+Xa;a=a[d];)if(e||1===a.nodeType){if((n=a[C])===q)return a.sizset;if("string"==typeof n&&
0===n.indexOf(h)){if(a.sizset)return a}else{a[C]=q;if(b(a,f,c))return a.sizset=!0,a;a.sizset=!1}}}},Za=function(b){return 1<b.length?function(a,c,d){for(var e=b.length;e--;)if(!b[e](a,c,d))return!1;return!0}:b[0]},Ga=function(b,a,c,d,e){for(var j,i=[],h=0,m=b.length,s=null!=a;h<m;h++)if(j=b[h])if(!c||c(j,d,e))i.push(j),s&&a.push(h);return i},$a=function(b,a,c,d,e,j){return d&&!d[C]&&(d=$a(d)),e&&!e[C]&&(e=$a(e,j)),N(function(i,j,h,s){if(!i||!e){var l,q,p=[],r=[],t=j.length;if(!(q=i)){q=a||"*";var u=
h.nodeType?[h]:h,K=[];l=0;for(var A=u.length;l<A;l++)B(q,u[l],K,i);q=K}u=b&&(i||!a)?Ga(q,p,b,h,s):q;K=c?e||(i?b:t||d)?[]:j:u;c&&c(u,K,h,s);if(d){q=Ga(K,r);d(q,[],h,s);for(h=q.length;h--;)if(l=q[h])K[r[h]]=!(u[r[h]]=l)}if(i)for(h=b&&K.length;h--;){if(l=K[h])i[p[h]]=!(j[p[h]]=l)}else K=Ga(K===j?K.splice(t,K.length):K),e?e(null,j,K,s):ea.apply(j,K)}})},ab=function(b){var a,c,d,e=b.length,j=w.relative[b[0].type];c=j||w.relative[" "];for(var i=j?1:0,h=Ya(function(b){return b===a},c,!0),m=Ya(function(b){return-1<
Xb.call(a,b)},c,!0),s=[function(b,c,d){return!j&&(d||c!==Ha)||((a=c).nodeType?h(b,c,d):m(b,c,d))}];i<e;i++)if(c=w.relative[b[i].type])s=[Ya(Za(s),c)];else{c=w.filter[b[i].type].apply(null,b[i].matches);if(c[C]){for(d=++i;d<e&&!w.relative[b[d].type];d++);return $a(1<i&&Za(s),1<i&&b.slice(0,i-1).join("").replace(Ca,"$1"),c,i<d&&ab(b.slice(i,d)),d<e&&ab(b=b.slice(d)),d<e&&b.join(""))}s.push(c)}return Za(s)},Wa=function(b,a,c,d,e){var j,i,h,m,s=Fa(b);if(!d&&1===s.length){i=s[0]=s[0].slice(0);if(2<i.length&&
"ID"===(h=i[0]).type&&9===a.nodeType&&!e&&w.relative[i[1].type]){a=w.find.ID(h.matches[0].replace(Z,""),a,e)[0];if(!a)return c;b=b.slice(i.shift().length)}for(j=Ea.POS.test(b)?-1:i.length-1;0<=j;j--){h=i[j];if(w.relative[m=h.type])break;if(m=w.find[m])if(d=m(h.matches[0].replace(Z,""),bb.test(i[0].type)&&a.parentNode||a,e)){i.splice(j,1);b=d.length&&i.join("");if(!b)return ea.apply(c,fa.call(d,0)),c;break}}}return cb(b,s)(d,a,e,c,bb.test(b)),c},Yb=function(){},Xa,db,w,Ia,Ba,Sb,cb,eb,ma,Ha,Zb=!0,C=
("sizcache"+Math.random()).replace(".",""),Wb=String,L=Wc.document,H=L.documentElement,la=0,$c=0,ad=[].pop,ea=[].push,fa=[].slice,Xb=[].indexOf||function(b){for(var a=0,c=this.length;a<c;a++)if(this[a]===b)return a;return-1},N=function(b,a){return b[C]=null==a||a,b},fb=function(){var b={},a=[];return N(function(c,d){return a.push(c)>w.cacheLength&&delete b[a.shift()],b[c]=d},b)},$b=fb(),Vb=fb(),ac=fb(),bc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",gb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+bc+")|[^:]|\\\\.)*|.*))\\)|)",Ca=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,bd=RegExp(gb),Xc=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,bb=/[\x20\t\r\n\f]*[+~]/,cd=/h\d/i,dd=/input|select|textarea|button/i,
Z=/\\(?!\\)/g,Ea={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+bc),PSEUDO:RegExp("^"+gb),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},S=function(b){var a=L.createElement("div");try{return b(a)}catch(c){return!1}finally{}},ed=S(function(b){return b.appendChild(L.createComment("")),!b.getElementsByTagName("*").length}),fd=S(function(b){return b.innerHTML="<a href='#'></a>",b.firstChild&&"undefined"!==typeof b.firstChild.getAttribute&&"#"===b.firstChild.getAttribute("href")}),
gd=S(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),Tb=S(function(b){return b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!b.getElementsByClassName||!b.getElementsByClassName("e").length?!1:(b.lastChild.className="e",2===b.getElementsByClassName("e").length)}),hd=S(function(b){b.id=C+0;b.innerHTML="<a name='"+C+"'></a><div name='"+C+"'></div>";H.insertBefore(b,H.firstChild);var a=L.getElementsByName&&
L.getElementsByName(C).length===2+L.getElementsByName(C+0).length;return db=!L.getElementById(C),H.removeChild(b),a});try{fa.call(H.childNodes,0)[0].nodeType}catch(Rd){fa=function(b){for(var a,c=[];a=this[b];b++)c.push(a);return c}}B.matches=function(b,a){return B(b,null,null,a)};B.matchesSelector=function(b,a){return 0<B(a,null,null,[b]).length};Ia=B.getText=function(b){var a,c="",d=0;if(a=b.nodeType)if(1===a||9===a||11===a){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=
b.nextSibling)c+=Ia(b)}else{if(3===a||4===a)return b.nodeValue}else for(;a=b[d];d++)c+=Ia(a);return c};Ba=B.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};Sb=B.contains=H.contains?function(b,a){var c=9===b.nodeType?b.documentElement:b,d=a&&a.parentNode;return b===d||!(!d||!(1===d.nodeType&&c.contains&&c.contains(d)))}:H.compareDocumentPosition?function(b,a){return a&&!!(b.compareDocumentPosition(a)&16)}:function(b,a){for(;a=a.parentNode;)if(a===b)return!0;
return!1};B.attr=function(b,a){var c,d=Ba(b);return d||(a=a.toLowerCase()),(c=w.attrHandle[a])?c(b):d||gd?b.getAttribute(a):(c=b.getAttributeNode(a),c?"boolean"==typeof b[a]?b[a]?a:null:c.specified?c.value:null:null)};w=B.selectors={cacheLength:50,createPseudo:N,match:Ea,attrHandle:fd?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}},find:{ID:db?function(b,a,c){if("undefined"!==typeof a.getElementById&&!c)return(b=a.getElementById(b))&&b.parentNode?
[b]:[]}:function(b,a,c){if("undefined"!==typeof a.getElementById&&!c)return(a=a.getElementById(b))?a.id===b||"undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id").value===b?[a]:void 0:[]},TAG:ed?function(b,a){if("undefined"!==typeof a.getElementsByTagName)return a.getElementsByTagName(b)}:function(b,a){var c=a.getElementsByTagName(b);if("*"===b){for(var d,e=[],j=0;d=c[j];j++)1===d.nodeType&&e.push(d);return e}return c},NAME:hd&&function(b,a){if("undefined"!==typeof a.getElementsByName)return a.getElementsByName(name)},
CLASS:Tb&&function(b,a,c){if("undefined"!==typeof a.getElementsByClassName&&!c)return a.getElementsByClassName(b)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Z,""),b[3]=(b[4]||b[5]||"").replace(Z,""),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1]?(b[2]||B.error(b[0]),b[3]=+(b[3]?b[4]+(b[5]||1):2*
("even"===b[2]||"odd"===b[2])),b[4]=+(b[6]+b[7]||"odd"===b[2])):b[2]&&B.error(b[0]),b},PSEUDO:function(b){var a,c;if(Ea.CHILD.test(b[0]))return null;if(b[3])b[2]=b[3];else if(a=b[4])bd.test(a)&&(c=Fa(a,!0))&&(c=a.indexOf(")",a.length-c)-a.length)&&(a=a.slice(0,c),b[0]=b[0].slice(0,c)),b[2]=a;return b.slice(0,3)}},filter:{ID:db?function(b){return b=b.replace(Z,""),function(a){return a.getAttribute("id")===b}}:function(b){return b=b.replace(Z,""),function(a){return(a="undefined"!==typeof a.getAttributeNode&&
a.getAttributeNode("id"))&&a.value===b}},TAG:function(b){return"*"===b?function(){return!0}:(b=b.replace(Z,"").toLowerCase(),function(a){return a.nodeName&&a.nodeName.toLowerCase()===b})},CLASS:function(b){var a=$b[C][b];return a||(a=$b(b,RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))),function(b){return a.test(b.className||"undefined"!==typeof b.getAttribute&&b.getAttribute("class")||"")}},ATTR:function(b,a,c){return function(d){d=B.attr(d,b);return null==d?"!="===a:a?(d+="","="===
a?d===c:"!="===a?d!==c:"^="===a?c&&0===d.indexOf(c):"*="===a?c&&-1<d.indexOf(c):"$="===a?c&&d.substr(d.length-c.length)===c:"~="===a?-1<(" "+d+" ").indexOf(c):"|="===a?d===c||d.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(b,a,c,d){return"nth"===b?function(b){var a,f;a=b.parentNode;if(1===c&&0===d)return!0;if(a){f=0;for(a=a.firstChild;a&&!(1===a.nodeType&&(f++,b===a));a=a.nextSibling);}return f-=d,f===c||0===f%c&&0<=f/c}:function(a){var c=a;switch(b){case "only":case "first":for(;c=c.previousSibling;)if(1===
c.nodeType)return!1;if("first"===b)return!0;c=a;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(b,a){var c,d=w.pseudos[b]||w.setFilters[b.toLowerCase()]||B.error("unsupported pseudo: "+b);return d[C]?d(a):1<d.length?(c=[b,b,"",a],w.setFilters.hasOwnProperty(b.toLowerCase())?N(function(b,c){for(var e,n=d(b,a),h=n.length;h--;)e=Xb.call(b,n[h]),b[e]=!(c[e]=n[h])}):function(b){return d(b,0,c)}):d}},pseudos:{not:N(function(b){var a=[],c=[],d=cb(b.replace(Ca,"$1"));
return d[C]?N(function(b,a,c,f){for(var f=d(b,null,f,[]),e=b.length;e--;)if(c=f[e])b[e]=!(a[e]=c)}):function(b,e,i){return a[0]=b,d(a,null,i,c),!c.pop()}}),has:N(function(b){return function(a){return 0<B(b,a).length}}),contains:N(function(b){return function(a){return-1<(a.textContent||a.innerText||Ia(a)).indexOf(b)}}),enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===
a&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},parent:function(b){return!w.pseudos.empty(b)},empty:function(b){for(var a,b=b.firstChild;b;){if("@"<b.nodeName||3===(a=b.nodeType)||4===a)return!1;b=b.nextSibling}return!0},header:function(b){return cd.test(b.nodeName)},text:function(b){var a,c;return"input"===b.nodeName.toLowerCase()&&"text"===(a=b.type)&&(null==(c=b.getAttribute("type"))||c.toLowerCase()===a)},radio:ka("radio"),checkbox:ka("checkbox"),
file:ka("file"),password:ka("password"),image:ka("image"),submit:Ub("submit"),reset:Ub("reset"),button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},input:function(b){return dd.test(b.nodeName)},focus:function(b){var a=b.ownerDocument;return b===a.activeElement&&(!a.hasFocus||a.hasFocus())&&(!!b.type||!!b.href)},active:function(b){return b===b.ownerDocument.activeElement},first:Y(function(){return[0]}),last:Y(function(b,a){return[a-1]}),eq:Y(function(b,
a,c){return[0>c?c+a:c]}),even:Y(function(b,a){for(var c=0;c<a;c+=2)b.push(c);return b}),odd:Y(function(b,a){for(var c=1;c<a;c+=2)b.push(c);return b}),lt:Y(function(b,a,c){for(a=0>c?c+a:c;0<=--a;)b.push(a);return b}),gt:Y(function(b,a,c){for(c=0>c?c+a:c;++c<a;)b.push(c);return b})}};eb=H.compareDocumentPosition?function(b,a){return b===a?(ma=!0,0):(!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition:b.compareDocumentPosition(a)&4)?-1:1}:function(b,a){if(b===a)return ma=
!0,0;if(b.sourceIndex&&a.sourceIndex)return b.sourceIndex-a.sourceIndex;var c,d,e=[],j=[];c=b.parentNode;d=a.parentNode;var i=c;if(c===d)return Da(b,a);if(!c)return-1;if(!d)return 1;for(;i;)e.unshift(i),i=i.parentNode;for(i=d;i;)j.unshift(i),i=i.parentNode;c=e.length;d=j.length;for(i=0;i<c&&i<d;i++)if(e[i]!==j[i])return Da(e[i],j[i]);return i===c?Da(b,j[i],-1):Da(e[i],a,1)};[0,0].sort(eb);Zb=!ma;B.uniqueSort=function(b){var a,c=1;ma=Zb;b.sort(eb);if(ma)for(;a=b[c];c++)a===b[c-1]&&b.splice(c--,1);
return b};B.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};cb=B.compile=function(b,a){var c,d=[],e=[],j=ac[C][b];if(!j){a||(a=Fa(b));for(c=a.length;c--;)j=ab(a[c]),j[C]?d.push(j):e.push(j);var i=0<d.length,h=0<e.length,m=function(b,a,c,f,n){var j,l,p=[],r=0,t="0",u=b&&[],A=null!=n,x=Ha,v=b||h&&w.find.TAG("*",n&&a.parentNode||a),C=la+=null==x?1:Math.E;for(A&&(Ha=a!==L&&a,Xa=m.el);null!=(n=v[t]);t++){if(h&&n){for(j=0;l=e[j];j++)if(l(n,a,c)){f.push(n);break}A&&(la=C,Xa=
++m.el)}i&&((n=!l&&n)&&r--,b&&u.push(n))}r+=t;if(i&&t!==r){for(j=0;l=d[j];j++)l(u,p,a,c);if(b){if(0<r)for(;t--;)!u[t]&&!p[t]&&(p[t]=ad.call(f));p=Ga(p)}ea.apply(f,p);A&&!b&&0<p.length&&1<r+d.length&&B.uniqueSort(f)}return A&&(la=C,Ha=x),u};c=(m.el=0,i?N(m):m);j=ac(b,c)}return j};if(L.querySelectorAll){var cc,id=Wa,jd=/'|\\/g,kd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,O=[":focus"],Ja=[":active",":focus"],Ka=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector||
H.msMatchesSelector;S(function(b){b.innerHTML="<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||O.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||O.push(":checked")});S(function(b){b.innerHTML="<p test=''></p>";b.querySelectorAll("[test^='']").length&&O.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.innerHTML="<input type='hidden'/>";b.querySelectorAll(":enabled").length||O.push(":enabled",
":disabled")});O=RegExp(O.join("|"));Wa=function(b,a,c,d,e){if(!d&&!e&&(!O||!O.test(b))){var j,i,h=!0,m=C;i=a;j=9===a.nodeType&&b;if(1===a.nodeType&&"object"!==a.nodeName.toLowerCase()){j=Fa(b);(h=a.getAttribute("id"))?m=h.replace(jd,"\\$&"):a.setAttribute("id",m);m="[id='"+m+"'] ";for(i=j.length;i--;)j[i]=m+j[i].join("");i=bb.test(b)&&a.parentNode||a;j=j.join(",")}if(j)try{return ea.apply(c,fa.call(i.querySelectorAll(j),0)),c}catch(s){}finally{h||a.removeAttribute("id")}}return id(b,a,c,d,e)};Ka&&
(S(function(b){cc=Ka.call(b,"div");try{Ka.call(b,"[test!='']:sizzle"),Ja.push("!=",gb)}catch(a){}}),Ja=RegExp(Ja.join("|")),B.matchesSelector=function(b,a){a=a.replace(kd,"='$1']");if(!Ba(b)&&!Ja.test(a)&&(!O||!O.test(a)))try{var c=Ka.call(b,a);if(c||cc||b.document&&11!==b.document.nodeType)return c}catch(d){}return 0<B(a,null,null,[b]).length})}w.pseudos.nth=w.pseudos.eq;w.filters=Yb.prototype=w.pseudos;w.setFilters=new Yb;B.attr=c.attr;c.find=B;c.expr=B.selectors;c.expr[":"]=c.expr.pseudos;c.unique=
B.uniqueSort;c.text=B.getText;c.isXMLDoc=B.isXML;c.contains=B.contains;var ld=/Until$/,md=/^(?:parents|prev(?:Until|All))/,uc=/^.[^:#\[\.,]*$/,dc=c.expr.match.needsContext,nd={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(b){var a,d,e,k,j,i,h=this;if("string"!=typeof b)return c(b).filter(function(){a=0;for(d=h.length;a<d;a++)if(c.contains(h[a],this))return!0});i=this.pushStack("","find",b);a=0;for(d=this.length;a<d;a++)if(e=i.length,c.find(b,this[a],i),0<a)for(k=e;k<i.length;k++)for(j=
0;j<e;j++)if(i[j]===i[k]){i.splice(k--,1);break}return i},has:function(b){var a,d=c(b,this),e=d.length;return this.filter(function(){for(a=0;a<e;a++)if(c.contains(this,d[a]))return!0})},not:function(b){return this.pushStack(D(this,b,!1),"not",b)},filter:function(b){return this.pushStack(D(this,b,!0),"filter",b)},is:function(b){return!!b&&("string"==typeof b?dc.test(b)?0<=c(b,this.context).index(this[0]):0<c.filter(b,this).length:0<this.filter(b).length)},closest:function(b,a){for(var d,e=0,k=this.length,
j=[],i=dc.test(b)||"string"!=typeof b?c(b,a||this.context):0;e<k;e++)for(d=this[e];d&&d.ownerDocument&&d!==a&&11!==d.nodeType;){if(i?-1<i.index(d):c.find.matchesSelector(d,b)){j.push(d);break}d=d.parentNode}return j=1<j.length?c.unique(j):j,this.pushStack(j,"closest",b)},index:function(b){return b?"string"==typeof b?c.inArray(this[0],c(b)):c.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(b,a){var d="string"==typeof b?c(b,a):c.makeArray(b&&b.nodeType?
[b]:b),e=c.merge(this.get(),d);return this.pushStack(r(d[0])||r(e[0])?e:c.unique(e))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});c.fn.andSelf=c.fn.addBack;c.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return c.dir(b,"parentNode")},parentsUntil:function(b,a,d){return c.dir(b,"parentNode",d)},next:function(b){return u(b,"nextSibling")},prev:function(b){return u(b,"previousSibling")},nextAll:function(b){return c.dir(b,
"nextSibling")},prevAll:function(b){return c.dir(b,"previousSibling")},nextUntil:function(b,a,d){return c.dir(b,"nextSibling",d)},prevUntil:function(b,a,d){return c.dir(b,"previousSibling",d)},siblings:function(b){return c.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return c.sibling(b.firstChild)},contents:function(b){return c.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:c.merge([],b.childNodes)}},function(b,a){c.fn[b]=function(d,e){var k=c.map(this,a,d);return ld.test(b)||
(e=d),e&&"string"==typeof e&&(k=c.filter(e,k)),k=1<this.length&&!nd[b]?c.unique(k):k,1<this.length&&md.test(b)&&(k=k.reverse()),this.pushStack(k,b,P.call(arguments).join(","))}});c.extend({filter:function(b,a,d){return d&&(b=":not("+b+")"),1===a.length?c.find.matchesSelector(a[0],b)?[a[0]]:[]:c.find.matches(b,a)},dir:function(b,a,e){for(var g=[],b=b[a];b&&9!==b.nodeType&&(e===d||1!==b.nodeType||!c(b).is(e));)1===b.nodeType&&g.push(b),b=b[a];return g},sibling:function(b,a){for(var c=[];b;b=b.nextSibling)1===
b.nodeType&&b!==a&&c.push(b);return c}});var nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",od=/ jQuery\d+="(?:null|\d+)"/g,hb=/^\s+/,ec=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fc=/<([\w:]+)/,pd=/<tbody/i,qd=/<|&#?\w+;/,rd=/<(?:script|style|link)/i,sd=/<(?:script|object|embed|option|style)/i,ib=RegExp("<(?:"+nb+")[\\s/>]","i"),ob=/^(?:checkbox|radio)$/,
gc=/checked\s*(?:[^=]|=\s*.checked.)/i,td=/\/(java|ecma)script/i,ud=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,I={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},hc=v(t),jb=hc.appendChild(t.createElement("div"));I.optgroup=
I.option;I.tbody=I.tfoot=I.colgroup=I.caption=I.thead;I.th=I.td;c.support.htmlSerialize||(I._default=[1,"X<div>","</div>"]);c.fn.extend({text:function(b){return c.access(this,function(b){return b===d?c.text(this):this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(b))},null,b,arguments.length)},wrapAll:function(b){if(c.isFunction(b))return this.each(function(a){c(this).wrapAll(b.call(this,a))});if(this[0]){var a=c(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);
a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return c.isFunction(b)?this.each(function(a){c(this).wrapInner(b.call(this,a))}):this.each(function(){var a=c(this),d=a.contents();d.length?d.wrapAll(b):a.append(b)})},wrap:function(b){var a=c.isFunction(b);return this.each(function(d){c(this).wrapAll(a?b.call(this,d):b)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||
c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(b,this.firstChild)})},before:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var b=c.clean(arguments);return this.pushStack(c.merge(b,
this),"before",this.selector)}},after:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this.nextSibling)});if(arguments.length){var b=c.clean(arguments);return this.pushStack(c.merge(this,b),"after",this.selector)}},remove:function(b,a){for(var d,e=0;null!=(d=this[e]);e++)if(!b||c.filter(b,[d]).length)!a&&1===d.nodeType&&(c.cleanData(d.getElementsByTagName("*")),c.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var b,
a=0;null!=(b=this[a]);a++)for(1===b.nodeType&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(b,a){return b=null==b?!1:b,a=null==a?b:a,this.map(function(){return c.clone(this,b,a)})},html:function(b){return c.access(this,function(b){var a=this[0]||{},e=0,k=this.length;if(b===d)return 1===a.nodeType?a.innerHTML.replace(od,""):d;if("string"==typeof b&&!rd.test(b)&&(c.support.htmlSerialize||!ib.test(b))&&(c.support.leadingWhitespace||!hb.test(b))&&
!I[(fc.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(ec,"<$1></$2>");try{for(;e<k;e++)a=this[e]||{},1===a.nodeType&&(c.cleanData(a.getElementsByTagName("*")),a.innerHTML=b);a=0}catch(j){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){return r(this[0])?this.length?this.pushStack(c(c.isFunction(b)?b():b),"replaceWith",b):this:c.isFunction(b)?this.each(function(a){var d=c(this),e=d.html();d.replaceWith(b.call(this,a,e))}):("string"!=typeof b&&(b=c(b).detach()),this.each(function(){var a=
this.nextSibling,d=this.parentNode;c(this).remove();a?c(a).before(b):c(d).append(b)}))},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,e){var b=[].concat.apply([],b),g,k,j,i=0,h=b[0],m=[],s=this.length;if(!c.support.checkClone&&1<s&&"string"==typeof h&&gc.test(h))return this.each(function(){c(this).domManip(b,a,e)});if(c.isFunction(h))return this.each(function(g){var i=c(this);b[0]=h.call(this,g,a?i.html():d);i.domManip(b,a,e)});if(this[0]){g=c.buildFragment(b,this,m);j=g.fragment;
k=j.firstChild;1===j.childNodes.length&&(j=k);if(k){a=a&&c.nodeName(k,"tr");for(g=g.cacheable||s-1;i<s;i++)e.call(a&&c.nodeName(this[i],"table")?this[i].getElementsByTagName("tbody")[0]||this[i].appendChild(this[i].ownerDocument.createElement("tbody")):this[i],i===g?j:c.clone(j,!0,!0))}j=k=null;m.length&&c.each(m,function(b,a){a.src?c.ajax?c.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):c.error("no ajax"):c.globalEval((a.text||a.textContent||a.innerHTML||"").replace(ud,
""));a.parentNode&&a.parentNode.removeChild(a)})}return this}});c.buildFragment=function(b,a,e){var g,k,j,i=b[0];return a=a||t,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,1===b.length&&"string"==typeof i&&512>i.length&&a===t&&"<"===i.charAt(0)&&!sd.test(i)&&(c.support.checkClone||!gc.test(i))&&(c.support.html5Clone||!ib.test(i))&&(k=!0,g=c.fragments[i],j=g!==d),g||(g=a.createDocumentFragment(),c.clean(b,a,g,e),k&&(c.fragments[i]=j&&g)),{fragment:g,cacheable:k}};c.fragments={};c.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){c.fn[a]=function(e){var g,k=0,j=[],e=c(e),i=e.length;g=1===this.length&&this[0].parentNode;if((null==g||g&&11===g.nodeType&&1===g.childNodes.length)&&1===i)return e[d](this[0]),this;for(;k<i;k++)g=(0<k?this.clone(!0):this).get(),c(e[k])[d](g),j=j.concat(g);return this.pushStack(j,a,e.selector)}});c.extend({clone:function(a,d,e){var g,k,j,i;c.support.html5Clone||c.isXMLDoc(a)||!ib.test("<"+a.nodeName+
">")?i=a.cloneNode(!0):(jb.innerHTML=a.outerHTML,jb.removeChild(i=jb.firstChild));if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!c.isXMLDoc(a)){ba(a,i);g=na(a);k=na(i);for(j=0;g[j];++j)k[j]&&ba(g[j],k[j])}if(d&&(y(a,i),e)){g=na(a);k=na(i);for(j=0;g[j];++j)y(g[j],k[j])}return i},clean:function(a,d,e,g){var k,j,i,h,m,s,l,q=d===t&&hc,p=[];if(!d||"undefined"==typeof d.createDocumentFragment)d=t;for(k=0;null!=(i=a[k]);k++)if("number"==typeof i&&(i+=""),i){if("string"==
typeof i)if(qd.test(i)){q=q||v(d);s=d.createElement("div");q.appendChild(s);i=i.replace(ec,"<$1></$2>");j=(fc.exec(i)||["",""])[1].toLowerCase();h=I[j]||I._default;m=h[0];for(s.innerHTML=h[1]+i+h[2];m--;)s=s.lastChild;if(!c.support.tbody){m=pd.test(i);h="table"===j&&!m?s.firstChild&&s.firstChild.childNodes:"<table>"===h[1]&&!m?s.childNodes:[];for(j=h.length-1;0<=j;--j)c.nodeName(h[j],"tbody")&&!h[j].childNodes.length&&h[j].parentNode.removeChild(h[j])}!c.support.leadingWhitespace&&hb.test(i)&&s.insertBefore(d.createTextNode(hb.exec(i)[0]),
s.firstChild);i=s.childNodes;s.parentNode.removeChild(s)}else i=d.createTextNode(i);i.nodeType?p.push(i):c.merge(p,i)}s&&(i=s=q=null);if(!c.support.appendChecked)for(k=0;null!=(i=p[k]);k++)c.nodeName(i,"input")?pb(i):"undefined"!=typeof i.getElementsByTagName&&c.grep(i.getElementsByTagName("input"),pb);if(e){a=function(a){if(!a.type||td.test(a.type))return g?g.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a)};for(k=0;null!=(i=p[k]);k++)if(!c.nodeName(i,"script")||!a(i))e.appendChild(i),
"undefined"!=typeof i.getElementsByTagName&&(l=c.grep(c.merge([],i.getElementsByTagName("script")),a),p.splice.apply(p,[k+1,0].concat(l)),k+=l.length)}return p},cleanData:function(a,d){for(var e,g,k,j,i=0,h=c.expando,m=c.cache,s=c.support.deleteExpando,l=c.event.special;null!=(k=a[i]);i++)if(d||c.acceptData(k))if(e=(g=k[h])&&m[g]){if(e.events)for(j in e.events)l[j]?c.event.remove(k,j):c.removeEvent(k,j,e.handle);m[g]&&(delete m[g],s?delete k[h]:k.removeAttribute?k.removeAttribute(h):k[h]=null,c.deletedIds.push(g))}}});
var La,T;c.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};La=c.uaMatch(Ac.userAgent);T={};La.browser&&(T[La.browser]=!0,T.version=La.version);T.chrome?T.webkit=!0:T.webkit&&(T.safari=!0);c.browser=T;c.sub=function(){function a(c,d){return new a.fn.init(c,
d)}c.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(e,g){return g&&g instanceof c&&!(g instanceof a)&&(g=a(g)),c.fn.init.call(this,e,g,d)};a.fn.init.prototype=a.fn;var d=a(t);return a};var F,ca,da,kb=/alpha\([^)]*\)/i,vd=/opacity=([^)]*)/,wd=/^(top|right|bottom|left)$/,xd=/^(none|table(?!-c[ea]).+)/,ic=/^margin/,vc=RegExp("^("+va+")(.*)$","i"),pa=RegExp("^("+va+")(?!px)[a-z%]+$","i"),yd=RegExp("^([-+])=("+va+")","i"),Oa={},zd={position:"absolute",
visibility:"hidden",display:"block"},jc={letterSpacing:0,fontWeight:400},U=["Top","Right","Bottom","Left"],rb=["Webkit","O","Moz","ms"],Ad=c.fn.toggle;c.fn.extend({css:function(a,f){return c.access(this,function(a,b,f){return f!==d?c.style(a,b,f):c.css(a,b)},a,f,1<arguments.length)},show:function(){return sb(this,!0)},hide:function(){return sb(this)},toggle:function(a,d){var e="boolean"==typeof a;return c.isFunction(a)&&c.isFunction(d)?Ad.apply(this,arguments):this.each(function(){(e?a:oa(this))?
c(this).show():c(this).hide()})}});c.extend({cssHooks:{opacity:{get:function(a,c){if(c){var d=F(a,"opacity");return""===d?"1":d}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,f,e,g){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var k,j,i,h=c.camelCase(f),m=a.style,f=c.cssProps[h]||(c.cssProps[h]=qb(m,h));i=c.cssHooks[f]||c.cssHooks[h];if(e===d)return i&&
"get"in i&&(k=i.get(a,!1,g))!==d?k:m[f];j=typeof e;"string"===j&&(k=yd.exec(e))&&(e=(k[1]+1)*k[2]+parseFloat(c.css(a,f)),j="number");if(!(null==e||"number"===j&&isNaN(e)))if("number"===j&&!c.cssNumber[h]&&(e+="px"),!i||!("set"in i)||(e=i.set(a,e,g))!==d)try{m[f]=e}catch(s){}}},css:function(a,f,e,g){var k,j,i,h=c.camelCase(f);return f=c.cssProps[h]||(c.cssProps[h]=qb(a.style,h)),i=c.cssHooks[f]||c.cssHooks[h],i&&"get"in i&&(k=i.get(a,!0,g)),k===d&&(k=F(a,f)),"normal"===k&&f in jc&&(k=jc[f]),e||g!==
d?(j=parseFloat(k),e||c.isNumeric(j)?j||0:k):k},swap:function(a,c,d){var e,k={};for(e in c)k[e]=a.style[e],a.style[e]=c[e];d=d.call(a);for(e in c)a.style[e]=k[e];return d}});a.getComputedStyle?F=function(b,d){var e,g,k,j,i=a.getComputedStyle(b,null),h=b.style;return i&&(e=i[d],""===e&&!c.contains(b.ownerDocument,b)&&(e=c.style(b,d)),pa.test(e)&&ic.test(d)&&(g=h.width,k=h.minWidth,j=h.maxWidth,h.minWidth=h.maxWidth=h.width=e,e=i.width,h.width=g,h.minWidth=k,h.maxWidth=j)),e}:t.documentElement.currentStyle&&
(F=function(a,c){var d,e,k=a.currentStyle&&a.currentStyle[c],j=a.style;return null==k&&j&&j[c]&&(k=j[c]),pa.test(k)&&!wd.test(c)&&(d=j.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),j.left="fontSize"===c?"1em":k,k=j.pixelLeft+"px",j.left=d,e&&(a.runtimeStyle.left=e)),""===k?"auto":k});c.each(["height","width"],function(a,d){c.cssHooks[d]={get:function(a,b,e){if(b)return 0===a.offsetWidth&&xd.test(F(a,"display"))?c.swap(a,zd,function(){return wb(a,d,e)}):wb(a,
d,e)},set:function(a,b,e){return ub(a,b,e?vb(a,d,e,c.support.boxSizing&&"border-box"===c.css(a,"boxSizing")):0)}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,c){return vd.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(a,d){var e=a.style,g=a.currentStyle,h=c.isNumeric(d)?"alpha(opacity="+100*d+")":"",j=g&&g.filter||e.filter||"";e.zoom=1;if(1<=d&&(""===c.trim(j.replace(kb,""))&&e.removeAttribute)&&(e.removeAttribute("filter"),
g&&!g.filter))return;e.filter=kb.test(j)?j.replace(kb,h):j+" "+h}});c(function(){c.support.reliableMarginRight||(c.cssHooks.marginRight={get:function(a,d){return c.swap(a,{display:"inline-block"},function(){if(d)return F(a,"marginRight")})}});!c.support.pixelPosition&&c.fn.position&&c.each(["top","left"],function(a,d){c.cssHooks[d]={get:function(a,b){if(b){var e=F(a,d);return pa.test(e)?c(a).position()[d]+"px":e}}}})});c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){return 0===a.offsetWidth&&
0===a.offsetHeight||!c.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||F(a,"display"))},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});c.each({margin:"",padding:"",border:"Width"},function(a,d){c.cssHooks[a+d]={expand:function(c){for(var e="string"==typeof c?c.split(" "):[c],h={},c=0;4>c;c++)h[a+U[c]+d]=e[c]||e[c-2]||e[0];return h}};ic.test(a)||(c.cssHooks[a+d].set=ub)});var Bd=/%20/g,wc=/\[\]$/,kc=/\r?\n/g,Cd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Dd=/^(?:select|textarea)/i;c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Dd.test(this.nodeName)||Cd.test(this.type))}).map(function(a,d){var e=c(this).val();return null==e?null:c.isArray(e)?c.map(e,function(a){return{name:d.name,value:a.replace(kc,"\r\n")}}):{name:d.name,value:e.replace(kc,"\r\n")}}).get()}});
c.param=function(a,f){var e,g=[],h=function(a,b){b=c.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};f===d&&(f=c.ajaxSettings&&c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){h(this.name,this.value)});else for(e in a)Pa(e,a[e],f,h);return g.join("&").replace(Bd,"+")};var ga,aa,Ed=/#.*$/,Fd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Gd=/^(?:GET|HEAD)$/,Hd=/^\/\//,lc=/\?/,Id=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Jd=/([?&])_=[^&]*/,mc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nc=c.fn.load,Qa={},oc={},pc=["*/"]+["*"];try{aa=zc.href}catch(Sd){aa=t.createElement("a"),aa.href="",aa=aa.href}ga=mc.exec(aa.toLowerCase())||[];c.fn.load=function(a,f,e){if("string"!=typeof a&&nc)return nc.apply(this,arguments);if(!this.length)return this;var g,h,j,i=this,l=a.indexOf(" ");return 0<=l&&(g=a.slice(l,a.length),a=a.slice(0,l)),c.isFunction(f)?(e=f,f=d):f&&"object"==typeof f&&(h="POST"),c.ajax({url:a,type:h,dataType:"html",
data:f,complete:function(a,b){e&&i.each(e,j||[a.responseText,b,a])}}).done(function(a){j=arguments;i.html(g?c("<div>").append(a.replace(Id,"")).find(g):a)}),this};c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){c.fn[d]=function(a){return this.on(d,a)}});c.each(["get","post"],function(a,f){c[f]=function(a,b,e,j){return c.isFunction(b)&&(j=j||e,e=b,b=d),c.ajax({type:f,url:a,data:b,success:e,dataType:j})}});c.extend({getScript:function(a,f){return c.get(a,
d,f,"script")},getJSON:function(a,d,e){return c.get(a,d,e,"json")},ajaxSetup:function(a,d){return d?yb(a,c.ajaxSettings):(d=a,a=c.ajaxSettings),yb(a,d),a},ajaxSettings:{url:aa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ga[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":pc},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:xb(Qa),ajaxTransport:xb(oc),ajax:function(a,f){function e(a,b,f,j){var n,m,p,Q,w,v=b;if(2!==C){C=2;l&&clearTimeout(l);i=d;h=j||"";x.readyState=0<a?4:0;if(f){Q=q;var j=x,z,y,D,F,G=Q.contents,E=Q.dataTypes,I=Q.responseFields;for(y in I)y in f&&(j[I[y]]=f[y]);for(;"*"===E[0];)E.shift(),
z===d&&(z=Q.mimeType||j.getResponseHeader("content-type"));if(z)for(y in G)if(G[y]&&G[y].test(z)){E.unshift(y);break}if(E[0]in f)D=E[0];else{for(y in f){if(!E[0]||Q.converters[y+" "+E[0]]){D=y;break}F||(F=y)}D=D||F}f=D?(D!==E[0]&&E.unshift(D),f[D]):void 0;Q=f}if(200<=a&&300>a||304===a)if(q.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(c.lastModified[g]=w),w=x.getResponseHeader("Etag"),w&&(c.etag[g]=w)),304===a)v="notmodified",n=!0;else{var J;a:{n=q;m=Q;var H,v=n.dataTypes.slice(),f=v[0];
z={};y=0;n.dataFilter&&(m=n.dataFilter(m,n.dataType));if(v[1])for(J in n.converters)z[J.toLowerCase()]=n.converters[J];for(;p=v[++y];)if("*"!==p){if("*"!==f&&f!==p){J=z[f+" "+p]||z["* "+p];if(!J)for(H in z)if(w=H.split(" "),w[1]===p&&(J=z[f+" "+w[0]]||z["* "+w[0]])){!0===J?J=z[H]:!0!==z[H]&&(p=w[0],v.splice(y--,0,p));break}if(!0!==J)if(J&&n["throws"])m=J(m);else try{m=J(m)}catch(L){J={state:"parsererror",error:J?L:"No conversion from "+f+" to "+p};break a}}f=p}J={state:"success",data:m}}n=J;v=n.state;
m=n.data;p=n.error;n=!p}else if(p=v,!v||a)v="error",0>a&&(a=0);x.status=a;x.statusText=(b||v)+"";n?u.resolveWith(r,[m,v,x]):u.rejectWith(r,[x,v,p]);x.statusCode(B);B=d;s&&t.trigger("ajax"+(n?"Success":"Error"),[x,q,n?m:p]);A.fireWith(r,[x,v]);s&&(t.trigger("ajaxComplete",[x,q]),--c.active||c.event.trigger("ajaxStop"))}}"object"==typeof a&&(f=a,a=d);var f=f||{},g,h,j,i,l,m,s,p,q=c.ajaxSetup({},f),r=q.context||q,t=r!==q&&(r.nodeType||r instanceof c)?c(r):c.event,u=c.Deferred(),A=c.Callbacks("once memory"),
B=q.statusCode||{},w={},v={},C=0,z="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!C){var c=a.toLowerCase(),a=v[c]=v[c]||a;w[a]=b}return this},getAllResponseHeaders:function(){return 2===C?h:null},getResponseHeader:function(a){var b;if(2===C){if(!j)for(j={};b=Fd.exec(h);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return b===d?null:b},overrideMimeType:function(a){return C||(q.mimeType=a),this},abort:function(a){return a=a||z,i&&i.abort(a),e(0,a),this}};u.promise(x);x.success=x.done;
x.error=x.fail;x.complete=A.add;x.statusCode=function(a){if(a){var b;if(2>C)for(b in a)B[b]=[B[b],a[b]];else b=a[x.status],x.always(b)}return this};q.url=((a||q.url)+"").replace(Ed,"").replace(Hd,ga[1]+"//");q.dataTypes=c.trim(q.dataType||"*").toLowerCase().split(V);null==q.crossDomain&&(m=mc.exec(q.url.toLowerCase())||!1,q.crossDomain=m&&m.join(":")+(m[3]?"":"http:"===m[1]?80:443)!==ga.join(":")+(ga[3]?"":"http:"===ga[1]?80:443));q.data&&q.processData&&"string"!=typeof q.data&&(q.data=c.param(q.data,
q.traditional));qa(Qa,q,f,x);if(2===C)return x;s=q.global;q.type=q.type.toUpperCase();q.hasContent=!Gd.test(q.type);s&&0===c.active++&&c.event.trigger("ajaxStart");if(!q.hasContent&&(q.data&&(q.url+=(lc.test(q.url)?"&":"?")+q.data,delete q.data),g=q.url,!1===q.cache)){m=c.now();var y=q.url.replace(Jd,"$1_="+m);q.url=y+(y===q.url?(lc.test(q.url)?"&":"?")+"_="+m:"")}(q.data&&q.hasContent&&!1!==q.contentType||f.contentType)&&x.setRequestHeader("Content-Type",q.contentType);q.ifModified&&(g=g||q.url,
c.lastModified[g]&&x.setRequestHeader("If-Modified-Since",c.lastModified[g]),c.etag[g]&&x.setRequestHeader("If-None-Match",c.etag[g]));x.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+pc+"; q=0.01":""):q.accepts["*"]);for(p in q.headers)x.setRequestHeader(p,q.headers[p]);if(!q.beforeSend||!1!==q.beforeSend.call(r,x,q)&&2!==C){z="abort";for(p in{success:1,error:1,complete:1})x[p](q[p]);if(i=qa(oc,q,f,x)){x.readyState=1;s&&t.trigger("ajaxSend",
[x,q]);q.async&&0<q.timeout&&(l=setTimeout(function(){x.abort("timeout")},q.timeout));try{C=1,i.send(w,e)}catch(D){if(2>C)e(-1,D);else throw D;}}else e(-1,"No Transport");return x}return x.abort()},active:0,lastModified:{},etag:{}});var qc=[],Kd=/\?/,Ma=/(=)\?(?=&|$)|\?\?/,Ld=c.now();c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=qc.pop()||c.expando+"_"+Ld++;return this[a]=!0,a}});c.ajaxPrefilter("json jsonp",function(b,f,e){var g,h,j,i=b.data,l=b.url,m=!1!==b.jsonp,s=m&&Ma.test(l),
p=m&&!s&&"string"==typeof i&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ma.test(i);if("jsonp"===b.dataTypes[0]||s||p)return g=b.jsonpCallback=c.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],s?b.url=l.replace(Ma,"$1"+g):p?b.data=i.replace(Ma,"$1"+g):m&&(b.url+=(Kd.test(l)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){return j||c.error(g+" was not called"),j[0]},b.dataTypes[0]="json",a[g]=function(){j=arguments},e.always(function(){a[g]=
h;b[g]&&(b.jsonpCallback=f.jsonpCallback,qc.push(g));j&&c.isFunction(h)&&h(j[0]);j=h=d}),"script"});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return c.globalEval(a),a}}});c.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var c,e=
t.head||t.getElementsByTagName("head")[0]||t.documentElement;return{send:function(g,h){c=t.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,e&&c.parentNode&&e.removeChild(c),c=d,b||h(200,"success")};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var ha,lb=a.ActiveXObject?function(){for(var a in ha)ha[a](0,
1)}:!1,Md=0;c.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&zb()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:zb;var mb=c.ajaxSettings.xhr();c.extend(c.support,{ajax:!!mb,cors:!!mb&&"withCredentials"in mb});c.support.ajax&&c.ajaxTransport(function(b){if(!b.crossDomain||c.support.cors){var e;return{send:function(h,g){var k,j,i=b.xhr();b.username?i.open(b.type,b.url,b.async,b.username,b.password):i.open(b.type,b.url,b.async);if(b.xhrFields)for(j in b.xhrFields)i[j]=
b.xhrFields[j];b.mimeType&&i.overrideMimeType&&i.overrideMimeType(b.mimeType);!b.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");try{for(j in h)i.setRequestHeader(j,h[j])}catch(l){}i.send(b.hasContent&&b.data||null);e=function(a,j){var h,n,l,p,r;try{if(e&&(j||4===i.readyState))if(e=d,k&&(i.onreadystatechange=c.noop,lb&&delete ha[k]),j)4!==i.readyState&&i.abort();else{h=i.status;l=i.getAllResponseHeaders();p={};(r=i.responseXML)&&r.documentElement&&(p.xml=r);try{p.text=
i.responseText}catch(t){}try{n=i.statusText}catch(u){n=""}!h&&b.isLocal&&!b.crossDomain?h=p.text?200:404:1223===h&&(h=204)}}catch(M){j||g(-1,M)}p&&g(h,n,p,l)};b.async?4===i.readyState?setTimeout(e,0):(k=++Md,lb&&(ha||(ha={},c(a).unload(lb)),ha[k]=e),i.onreadystatechange=e):e()},abort:function(){e&&e(0,1)}}}});var ra,Na,Nd=/^(?:toggle|show|hide)$/,Od=RegExp("^(?:([-+])=|)("+va+")([a-z%]*)$","i"),Pd=/queueHooks$/,sa=[function(a,d,e){var g,h,j,i,l,m,p=this,r=a.style,q={},t=[],u=a.nodeType&&oa(a);e.queue||
(l=c._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,p.always(function(){p.always(function(){l.unqueued--;c.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(e.overflow=[r.overflow,r.overflowX,r.overflowY],"inline"===c.css(a,"display")&&"none"===c.css(a,"float")&&(!c.support.inlineBlockNeedsLayout||"inline"===tb(a.nodeName)?r.display="inline-block":r.zoom=1));e.overflow&&(r.overflow="hidden",
c.support.shrinkWrapBlocks||p.done(function(){r.overflow=e.overflow[0];r.overflowX=e.overflow[1];r.overflowY=e.overflow[2]}));for(g in d)h=d[g],Nd.exec(h)&&(delete d[g],h!==(u?"hide":"show")&&t.push(g));if(h=t.length){j=c._data(a,"fxshow")||c._data(a,"fxshow",{});u?c(a).show():p.done(function(){c(a).hide()});p.done(function(){var d;c.removeData(a,"fxshow",!0);for(d in q)c.style(a,d,q[d])});for(g=0;g<h;g++)d=t[g],i=p.createTween(d,u?j[d]:0),q[d]=j[d]||c.style(a,d),d in j||(j[d]=i.start,u&&(i.end=i.start,
i.start="width"===d||"height"===d?1:0))}}],ia={"*":[function(a,d){var e,g,h=this.createTween(a,d),j=Od.exec(d),i=h.cur(),l=+i||0,m=1,p=20;if(j){e=+j[2];g=j[3]||(c.cssNumber[a]?"":"px");if("px"!==g&&l){l=c.css(h.elem,a,!0)||e||1;do m=m||".5",l/=m,c.style(h.elem,a,l+g);while(m!==(m=h.cur()/i)&&1!==m&&--p)}h.unit=g;h.start=l;h.end=j[1]?l+(j[1]+1)*e:e}return h}]};c.Animation=c.extend(Bb,{tweener:function(a,d){c.isFunction(a)?(d=a,a=["*"]):a=a.split(" ");for(var e,g=0,h=a.length;g<h;g++)e=a[g],ia[e]=ia[e]||
[],ia[e].unshift(d)},prefilter:function(a,c){c?sa.unshift(a):sa.push(a)}});c.Tween=G;G.prototype={constructor:G,init:function(a,d,e,g,h,j){this.elem=a;this.prop=e;this.easing=h||"swing";this.options=d;this.start=this.now=this.cur();this.end=g;this.unit=j||(c.cssNumber[e]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var d,e=G.propHooks[this.prop];return this.options.duration?this.pos=d=c.easing[this.easing](a,this.options.duration*
a,0,1,this.options.duration):this.pos=d=a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):G.propHooks._default.set(this),this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(a){var d;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(d=c.css(a.elem,a.prop,!1,""),!d||"auto"===d?0:d):a.elem[a.prop]},set:function(a){c.fx.step[a.prop]?c.fx.step[a.prop](a):a.elem.style&&
(null!=a.elem.style[c.cssProps[a.prop]]||c.cssHooks[a.prop])?c.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};c.each(["toggle","show","hide"],function(a,d){var e=c.fn[d];c.fn[d]=function(g,h,j){return null==g||"boolean"==typeof g||!a&&c.isFunction(g)&&c.isFunction(h)?e.apply(this,arguments):this.animate(ta(d,!0),g,h,j)}});c.fn.extend({fadeTo:function(a,c,d,e){return this.filter(oa).css("opacity",
0).show().end().animate({opacity:c},a,d,e)},animate:function(a,d,e,g){var h=c.isEmptyObject(a),j=c.speed(d,e,g),d=function(){var d=Bb(this,c.extend({},a),j);h&&d.stop(!0)};return h||!1===j.queue?this.each(d):this.queue(j.queue,d)},stop:function(a,e,h){var g=function(a){var b=a.stop;delete a.stop;b(h)};return"string"!=typeof a&&(h=e,e=a,a=d),e&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var d=!0,e=null!=a&&a+"queueHooks",f=c.timers,l=c._data(this);if(e)l[e]&&l[e].stop&&g(l[e]);else for(e in l)l[e]&&
l[e].stop&&Pd.test(e)&&g(l[e]);for(e=f.length;e--;)f[e].elem===this&&(null==a||f[e].queue===a)&&(f[e].anim.stop(h),d=!1,f.splice(e,1));(d||!h)&&c.dequeue(this,a)})}});c.each({slideDown:ta("show"),slideUp:ta("hide"),slideToggle:ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){c.fn[a]=function(a,b,c){return this.animate(d,a,b,c)}});c.speed=function(a,d,e){var g=a&&"object"==typeof a?c.extend({},a):{complete:e||!e&&d||c.isFunction(a)&&a,duration:a,
easing:e&&d||d&&!c.isFunction(d)&&d};g.duration=c.fx.off?0:"number"==typeof g.duration?g.duration:g.duration in c.fx.speeds?c.fx.speeds[g.duration]:c.fx.speeds._default;if(null==g.queue||!0===g.queue)g.queue="fx";return g.old=g.complete,g.complete=function(){c.isFunction(g.old)&&g.old.call(this);g.queue&&c.dequeue(this,g.queue)},g};c.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};c.timers=[];c.fx=G.prototype.init;c.fx.tick=function(){for(var a,d=c.timers,
e=0;e<d.length;e++)a=d[e],!a()&&d[e]===a&&d.splice(e--,1);d.length||c.fx.stop()};c.fx.timer=function(a){a()&&c.timers.push(a)&&!Na&&(Na=setInterval(c.fx.tick,c.fx.interval))};c.fx.interval=13;c.fx.stop=function(){clearInterval(Na);Na=null};c.fx.speeds={slow:600,fast:200,_default:400};c.fx.step={};c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(c){return a===c.elem}).length});var rc=/^(?:body|html)$/i;c.fn.offset=function(a){if(arguments.length)return a===
d?this:this.each(function(d){c.offset.setOffset(this,a,d)});var e,h,g,k,j,i,l,m={top:0,left:0},p=this[0],r=p&&p.ownerDocument;if(r)return(h=r.body)===p?c.offset.bodyOffset(p):(e=r.documentElement,c.contains(e,p)?("undefined"!=typeof p.getBoundingClientRect&&(m=p.getBoundingClientRect()),g=Cb(r),k=e.clientTop||h.clientTop||0,j=e.clientLeft||h.clientLeft||0,i=g.pageYOffset||e.scrollTop,l=g.pageXOffset||e.scrollLeft,{top:m.top+i-k,left:m.left+l-j}):m)};c.offset={bodyOffset:function(a){var d=a.offsetTop,
e=a.offsetLeft;return c.support.doesNotIncludeMarginInBodyOffset&&(d+=parseFloat(c.css(a,"marginTop"))||0,e+=parseFloat(c.css(a,"marginLeft"))||0),{top:d,left:e}},setOffset:function(a,d,e){var g=c.css(a,"position");"static"===g&&(a.style.position="relative");var h=c(a),j=h.offset(),i=c.css(a,"top"),l=c.css(a,"left"),m={},p={},r,q;("absolute"===g||"fixed"===g)&&-1<c.inArray("auto",[i,l])?(p=h.position(),r=p.top,q=p.left):(r=parseFloat(i)||0,q=parseFloat(l)||0);c.isFunction(d)&&(d=d.call(a,e,j));null!=
d.top&&(m.top=d.top-j.top+r);null!=d.left&&(m.left=d.left-j.left+q);"using"in d?d.using.call(a,m):h.css(m)}};c.fn.extend({position:function(){if(this[0]){var a=this[0],d=this.offsetParent(),e=this.offset(),g=rc.test(d[0].nodeName)?{top:0,left:0}:d.offset();return e.top-=parseFloat(c.css(a,"marginTop"))||0,e.left-=parseFloat(c.css(a,"marginLeft"))||0,g.top+=parseFloat(c.css(d[0],"borderTopWidth"))||0,g.left+=parseFloat(c.css(d[0],"borderLeftWidth"))||0,{top:e.top-g.top,left:e.left-g.left}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||t.body;a&&!rc.test(a.nodeName)&&"static"===c.css(a,"position");)a=a.offsetParent;return a||t.body})}});c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,e){var h=/Y/.test(e);c.fn[a]=function(g){return c.access(this,function(a,b,g){var l=Cb(a);if(g===d)return l?e in l?l[e]:l.document.documentElement[b]:a[b];l?l.scrollTo(h?c(l).scrollLeft():g,h?g:c(l).scrollTop()):a[b]=g},a,g,arguments.length,null)}});c.each({Height:"height",Width:"width"},function(a,e){c.each({padding:"inner"+
a,content:e,"":"outer"+a},function(h,g){c.fn[g]=function(g,j){var i=arguments.length&&(h||"boolean"!=typeof g),l=h||(!0===g||!0===j?"margin":"border");return c.access(this,function(e,f,g){var h;return c.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(h=e.documentElement,Math.max(e.body["scroll"+a],h["scroll"+a],e.body["offset"+a],h["offset"+a],h["client"+a])):g===d?c.css(e,f,g,l):c.style(e,f,g,l)},e,i?g:d,i,null)}})});a.jQuery=a.$=c;"function"==typeof define&&define.amd&&define.amd.jQuery&&
define("jquery",[],function(){return c})})(window);$(function(){$.extend($.support,{touch:"ontouchend"in document});$.fn.addTouch=function(){$.support.touch&&this.each(function(a,d){d.addEventListener("touchstart",iPadTouchHandler,!1);d.addEventListener("touchmove",iPadTouchHandler,!1);d.addEventListener("touchend",iPadTouchHandler,!1);d.addEventListener("touchcancel",iPadTouchHandler,!1)});return this}});var lastTap=null,tapValid=!1,tapTimeout=null;function cancelTap(){tapValid=!1}
var rightClickPending=!1,rightClickEvent=null,holdTimeout=null,cancelMouseUp=!1;function cancelHold(){rightClickPending&&(window.clearTimeout(holdTimeout),rightClickPending=!1,rightClickEvent=null)}function startHold(a){rightClickPending||(rightClickPending=!0,rightClickEvent=a.changedTouches[0],holdTimeout=window.setTimeout("doRightClick();",800))}
function doRightClick(){rightClickPending=!1;var a=rightClickEvent,d=document.createEvent("MouseEvent");d.initMouseEvent("mouseup",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d);d=document.createEvent("MouseEvent");d.initMouseEvent("mousedown",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,2,null);a.target.dispatchEvent(d);d=document.createEvent("MouseEvent");d.initMouseEvent("contextmenu",!0,!0,window,1,a.screenX+50,a.screenY+
5,a.clientX+50,a.clientY+5,!1,!1,!1,!1,2,null);a.target.dispatchEvent(d);cancelMouseUp=!0;rightClickEvent=null}
function iPadTouchStart(a){var d=a.changedTouches[0],e="mouseover",h=document.createEvent("MouseEvent");h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);d.target.dispatchEvent(h);e="mousedown";h=document.createEvent("MouseEvent");h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);d.target.dispatchEvent(h);tapValid?(window.clearTimeout(tapTimeout),d.target==lastTap?(lastTap=null,tapValid=!1,e="click",h=document.createEvent("MouseEvent"),
h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(h),e="dblclick",h=document.createEvent("MouseEvent"),h.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(h)):(lastTap=d.target,tapValid=!0,tapTimeout=window.setTimeout("cancelTap();",600),startHold(a))):(lastTap=d.target,tapValid=!0,tapTimeout=window.setTimeout("cancelTap();",600),startHold(a))}
function iPadTouchHandler(a){var d="";if(!(1<a.touches.length)){switch(a.type){case "touchstart":if($(a.changedTouches[0].target).is("select"))return;iPadTouchStart(a);a.preventDefault();return!1;case "touchmove":cancelHold();d="mousemove";a.preventDefault();break;case "touchend":if(cancelMouseUp)return cancelMouseUp=!1,a.preventDefault(),!1;cancelHold();d="mouseup";break;default:return}var a=a.changedTouches[0],e=document.createEvent("MouseEvent");e.initMouseEvent(d,!0,!0,window,1,a.screenX,a.screenY,
a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(e);"mouseup"==d&&(tapValid&&a.target==lastTap)&&(e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(e))}};var TAU=2*Math.PI;function bind(a,d){if(d)return function(){d.apply(a,arguments)}}function extend(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);return a}function log(){console.log.apply(console,arguments)}function clamp(a,d,e){return a?a<d?d:a>e?e:a:d}function map(a,d,e,h,l){return(a-d)*(l-h)/(e-d)+h}function checkAngle(a){a>Math.PI?a-=2*Math.PI:a<=-Math.PI&&(a+=2*Math.PI);return a}function rand(a,d){a=a||0;d=d||1;return Math.random()*(d-a)+a}function randInt(a,d){return Math.floor(rand(a,d))}
function randSign(){return 0.5<Math.random()?1:-1}function randBool(){return 0.5<Math.random()}function incrementString(a){var d,e=null,h=0;if(!a||!a.length)return"2";do{d=parseInt(a.charAt(a.length-1));if(isNaN(d))break;a=a.slice(0,-1);e+=d*Math.pow(10,h++)}while(9===d);return null!==e?a+(e+1):a+"2"}function timeString(a){var d=Math.floor(a/60),a=a-60*d;return(10>d?"0":"")+d+":"+(10>a?"0":"")+a}function rgbToHex(a,d,e){return"#"+(16777216+(a<<16)+(d<<8)+e).toString(16).slice(1).toUpperCase()}
function bresenham(a,d,e,h,l){for(var p=Math.abs(d-h),r=-Math.abs(e-l),u=d<h?1:-1,D=e<l?1:-1,v=p+r,y;;){a(d,e);if(d===h&&e===l)break;y=2*v;y>=r&&(v+=r,d+=u);y<=p&&(v+=p,e+=D)}}function ellipse(a,d,e,h,l){var p=Math.abs(d-h),r=Math.abs(e-l),u=r&1,D=4*(1-p)*r*r,v=4*(u+1)*p*p,y=D+v+u*p*p,ba;d>h&&(d=h,h+=p);e>l&&(e=l);e+=(r+1)/2;l=e-u;p*=8*p;u=8*r*r;do if(a(h,e,d,e),a(d,l,h,l),ba=2*y,ba<=v&&(e++,l--,y+=v+=p),ba>=D||2*y>v)d++,h--,y+=D+=u;while(d<=h);for(;e-l<r;)a(d-1,e,h+1,e++),a(d-1,l,h+1,l--)}
extend(CanvasRenderingContext2D.prototype,{drawLine:function(a,d,e,h){this.beginPath();this.moveTo(a,d);this.lineTo(e,h);this.stroke()},fillCircle:function(a,d,e){this.beginPath();this.arc(a,d,e,0,2*Math.PI,!0);this.fill()},strokeCircle:function(a,d,e){this.beginPath();this.arc(a,d,e,0,2*Math.PI,!0);this.stroke()},dashedTo:function(a,d,e,h,l){var p=e-a,r=h-d,u=Math.sqrt(p*p+r*r),D=l*p/u,l=l*r/u,u=D,v=l,y=!0;for(this.moveTo(a,d);Math.abs(p)>Math.abs(u)||Math.abs(r)>Math.abs(v);)y?this.lineTo(a+u,d+
v):this.moveTo(a+u,d+v),y=!y,u+=D,v+=l;this.lineTo(e,h)},dashedLine:function(a,d,e,h,l){this.beginPath();this.dashedTo(a,d,e,h,l);this.stroke()},dashedRect:function(a,d,e,h,l){this.beginPath();this.dashedTo(a,d,a+e,d,l);this.dashedTo(a+e,d,a+e,d+h,l);this.dashedTo(a+e,d+h,a,d+h,l);this.dashedTo(a,d+h,a,d,l);this.stroke()},drawArrow:function(a,d,e,h,l){l=l||1;this.drawLine(a,d,e,h);this.save();this.translate(e,h);this.rotate((new Vector(e-a,h-d)).angle());this.scale(l,l);this.beginPath();this.moveTo(-20,
0);this.lineTo(-25,-12);this.lineTo(1,0);this.lineTo(-25,12);this.closePath();this.fill();this.restore()},putImageDataOverlap:function(a,d,e){var h,l,p,r=a.data,u=a.width,a=a.height;this.save();this.translate(d,e);for(d=0;d<a;d++){h=0;l=4*d*u;for(e=0;e<u;e++)if(p=4*(d*u+e),r[l]!==r[p]||r[l+1]!==r[p+1]||r[l+2]!==r[p+2]||r[l+3]!==r[p+3])this.fillStyle="rgba("+r[l]+","+r[l+1]+","+r[l+2]+","+r[l+3]/255+")",this.fillRect(h,d,e-h,1),h=e,l=4*(d*u+h);this.fillStyle="rgba("+r[l]+","+r[l+1]+","+r[l+2]+","+
r[l+3]/255+")";this.fillRect(h,d,u-h,1)}this.restore()},cloneImageData:function(a){var d=this.createImageData(a),e;for(e=0;e<a.data.length;e++)d.data[e]=a.data[e];return d},createImageDataFromData:function(a){var d=this.createImageData(a.width,a.height),e;for(e=0;e<a.data.length;e++)d.data[e]=a.data[e];return d}});Array.prototype.forEachApply=function(a,d){this.forEach(function(e){e[a].call(e,d)})};Array.prototype.clone=function(){return this.concat()};
Array.prototype.shuffle=function(){for(var a=this.length,d,e;0<a--;)d=Math.floor(Math.random()*(a+1)),e=this[a],this[a]=this[d],this[d]=e;return this};Array.max=function(a){return Math.max.apply(Math,a)};Array.min=function(a){return Math.min.apply(Math,a)};var Vector=function(a,d){return this.set(a||0,d||0)};
Vector.prototype={set:function(a,d){this.x=a;this.y=d;return this},copy:function(a){return this.set(a.x,a.y)},clone:function(){return new Vector(this.x,this.y)},add:function(a){return new Vector(this.x+a.x,this.y+a.y)},addSelf:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a){return new Vector(this.x-a.x,this.y-a.y)},subSelf:function(a){this.x-=a.x;this.y-=a.y;return this},mul:function(a){return new Vector(this.x*a,this.y*a)},mulSelf:function(a){this.x*=a;this.y*=a;return this},div:function(a){return!a?
new Vector:new Vector(this.x/a,this.y/a)},divSelf:function(a){a&&(this.x/=a,this.y/=a);return this},dot:function(a){return this.x*a.x+this.y*a.y},normSquared:function(){return this.x*this.x+this.y*this.y},norm:function(){return Math.sqrt(this.normSquared())},normalize:function(){return this.div(this.norm())},normalizeSelf:function(){return this.divSelf(this.norm())},clamp:function(a){return this.normSquared()>a*a?this.normalize().mul(a):this},clampSelf:function(a){return this.normSquared()>a*a?this.normalizeSelf().mulSelf(a):
this},angle:function(a){return a?Math.acos(this.dot(a)/this.norm()/a.norm()):Math.atan2(this.y,this.x)},rotate:function(a){return this.clone().rotateSelf(a)},rotateSelf:function(a){return!a?this:this.set(Math.cos(a)*this.x-Math.sin(a)*this.y,Math.sin(a)*this.x+Math.cos(a)*this.y)},string:function(){return"( "+this.x+" | "+this.y+" )"},log:function(){console.log(this.string())},getData:function(){return{x:this.x,y:this.y}},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}};var Area=function(a,d,e,h){return this.set(a||0,d||0,e||0,h||0)};Area.prototype=new Vector;Area.prototype.constructor=Vector;
extend(Area.prototype,{set:function(a,d,e,h){this.x=a;this.y=d;this.width=e;this.height=h;return this},setPosition:function(a,d){this.x=a;this.y=d;return this},setCenter:function(a,d){this.x=a-0.5*this.width;this.y=d-0.5*this.height;return this},setSize:function(a,d){this.width=a;this.height=d;return this},copy:function(a){return this.set(a.x,a.y,a.width,a.height)},clone:function(){return new Area(this.x,this.y,this.width,this.height)},center:function(){return new Vector(this.x+this.width/2,this.y+
this.height/2)},contains:function(a){return a.x>=this.x&&a.x<=this.x+this.width&&a.y>=this.y&&a.y<=this.y+this.height},overlaps:function(a){return a instanceof Area?this.overlapsArea(a):a.overlapsArea(this)},overlapsArea:function(a){return this.x+this.width>a.x&&this.y+this.height>a.y&&this.x<a.x+a.width&&this.y<a.y+a.height},draw:function(a){a.strokeRect(this.x,this.y,this.width,this.height)},move:function(a){return this.addSelf(a)},resize:function(a){this.width=a.x-this.x;this.height=a.y-this.y;
return this},rasterize:function(a){this.x=Math.floor(this.x/a)*a;this.y=Math.floor(this.y/a)*a;this.width=Math.floor(this.width/a)*a;this.height=Math.floor(this.height/a)*a;return this},leavesArea:function(a){if(a.contains(this)){if(!a.contains({x:this.x+this.width,y:this.y+this.height}))return this.x+this.width>a.x+a.width?"width":"height"}else return this.x<a.x?"x":"y";return!1},adjust:function(){0>this.width&&(this.x-=this.width*=-1);0>this.height&&(this.y-=this.height*=-1);this.x=Math.floor(this.x);
this.y=Math.floor(this.y);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this},scaleSelf:function(a){this.x*=a.x;this.y*=a.y;this.width*=a.x;this.height*=a.y;return this.adjust()},string:function(){return"( "+this.x+" | "+this.y+" | "+this.width+" | "+this.height+" )"},getData:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}});var Circle=function(a,d,e){this.set(a||0,d||0,e||0)};Circle.prototype=new Vector;Circle.prototype.constructor=Vector;
extend(Circle.prototype,{set:function(a,d,e){this.x=a;this.y=d;this.radius=e;return this},setPosition:function(a,d){this.x=a;this.y=d;return this},setRadius:function(a){this.radius=a;return this},copy:function(a){return this.set(a.x,a.y,a.radius)},clone:function(){return new Circle(this.x,this.y,this.radius)},contains:function(a){return this.sub(a).norm()<=this.radius},overlaps:function(a){return a instanceof Circle?this.overlapsCircle(a):this.overlapsArea(a)},overlapsCircle:function(a){return this.sub(a).norm()<=
this.radius+a.radius},overlapsArea:function(a){var d=a.center().subSelf(this);d.x=Math.abs(d.x)-0.5*a.width;d.y=Math.abs(d.y)-0.5*a.height;return d.x>this.radius||d.y>this.radius?!1:0>=d.x||0>=d.y?!0:d.normSquared()<this.radius*this.radius},draw:function(a){a.strokeCircle(this.x,this.y,this.radius)},move:function(a){return this.addSelf(a)},resize:function(a){this.radius=this.sub(a).norm();return this},leavesArea:function(a){a.center();if(a.contains({x:this.x-this.radius,y:this.y-this.radius})){if(!a.contains({x:this.x+
this.radius,y:this.y+this.radius}))return this.x+this.radius>a.x+a.width?"width":"height"}else return this.x-this.radius<a.x?"x":"y";return!1},adjust:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.radius=Math.floor(this.radius)},scaleSelf:function(a){this.x*=a.x;this.y*=a.y;this.radius*=Math.abs(a.x);return this},string:function(){return"( "+this.x+" | "+this.y+" | "+this.radius+" )"},getData:function(){return{x:this.x,y:this.y,radius:this.radius}}});var Path=function(a){this.points=a||[]};Path.prototype={add:function(a){this.points.push(a);return this},copy:function(a){this.points=[];for(var d=0;d<a.points.length;d++)this.add(a.points[d]);return this},clone:function(){return(new Path).copy(this)},draw:function(a,d){for(var e=this.points,h=0;h<e.length-1;h++)a.drawArrow(e[h].x,e[h].y,e[h+1].x,e[h+1].y,d||1)},string:function(){return JSON.stringify(this.points)},log:function(){console.log(this.string())},getData:function(){return this.clone().points}};var StateMachine=function(a){this.scope=a;this.currentState=new this.State;this.states={};this.transitions={}};
StateMachine.prototype={State:function(a){a=a||{};this.name=a.name||"none";this.enter=a.enter||function(){};this.update=a.update||function(){};this.draw=a.draw||function(){};this.exit=a.exit||function(){}},Transition:function(a){a=a||{};this.name=a.name||"none";this.from=a.from||"none";this.to=a.to||"none";this.callback=a.callback||function(){}},init:function(a){var d,e=a.states instanceof Array?a.states:[];transitions=a.transitions instanceof Array?a.transitions:[];for(d=0;d<e.length;d++)this.addState(new this.State(e[d]));
for(d=0;d<transitions.length;d++)this.addTransition(new this.Transition(transitions[d]));this.states[a.initial]&&this.changeState(a.initial)},update:function(a){this.currentState.update.call(this.scope,a,this)},draw:function(a){this.currentState.draw.call(this.scope,a,this)},addState:function(a){this.states[a.name]=a},addTransition:function(a){var d=this;this.transitions[a.name]=a;this[a.name]=function(){return d.currentState.name!==a.to&&(d.currentState.name===a.from||"*"===a.from)?(d.changeState(a.to,
a.callback),!0):!1}},changeState:function(a,d){this.currentState.exit.call(this.scope);this.currentState=this.states[a];d&&d.call(this.scope);this.currentState.enter.call(this.scope,this)},hasState:function(a){return this.currentState.name===a}};var MoveAction=function(a,d,e){this.gameObject=d;this.speed=e;this.target=null;this.offset=new Vector;this.area=null;this.random=!1;this.direction=null;this.path=[];"moveIn"===a?this.execute=this.executeMoveIn:"moveTo"===a?this.execute=this.executeMoveTo:"moveAlongPath"==a?this.execute=this.executePath:"jumpTo"===a&&(this.execute=this.executeJumpTo)};
MoveAction.prototype={execute:null,executeJumpTo:function(){this.area?this.gameObject.movement.jump(this.area):this.gameObject.movement.setPosition(this.target.add(this.offset))},executeMoveTo:function(){this.gameObject.movement.setTarget(this.target,this.offset,this.speed)},executePath:function(){this.gameObject.movement.followPath(this.path,this.mode,this.speed)},executeMoveIn:function(){var a;a=this.random?2*Math.random()*Math.PI:null!==this.direction?this.direction:this.target.sub(this.gameObject.getPosition()).angle();
this.gameObject.movement.setDirection(a,this.speed)}};
var RoamAction=function(a,d,e,h){this.execute=function(){a.movement.roam(d,e,h)}},SwapAction=function(a,d){this.execute=function(){var e=a.getPosition(),h=d.getPosition(),l=e.clone();a.movement.stop();d.movement.stop();e.copy(h);h.copy(l)}},StopAction=function(a){this.execute=function(){a.movement.stop()}},ScaleAction=function(a,d,e){this.shape=a.shape;this.scale=new Vector(d,d);this.speed=this.speeds[e];this.execute=4===e?this.executeJumpScale:this.executeMoveScale};
ScaleAction.prototype={speeds:[1.25E-4,3.75E-4,0.00125,0.00375,1],execute:null,executeJumpScale:function(){this.shape.setScale(this.scale)},executeMoveScale:function(){this.shape.scaleTo(this.scale,this.speed)}};var FlipAction=function(a,d){this.shape=d.shape;this.flip=new Vector(1,1);"horizontally"===a?this.flip.set(-1,1):"vertically"===a?this.flip.set(1,-1):"both"===a&&this.flip.set(-1,-1)};FlipAction.prototype={execute:function(){this.shape.flip(this.flip)}};
var ArtAction=function(a,d,e,h,l,p){this.gameObject=d;this.frame=e;this.frame2=h;this.mode=l;this.speed=p;this.graphic;"frame"===a?this.execute=this.executeFrame:"play"===a?this.execute=this.executePlay:"stop"===a?this.execute=this.executeStop:"change"===a&&(this.execute=this.executeChange)};
ArtAction.prototype={execute:null,executeFrame:function(){this.gameObject.animation.setFrame(this.frame)},executePlay:function(){this.gameObject.animation.play(this.frame,this.frame2,this.mode,this.speed)},executeChange:function(){this.gameObject.setGraphic(this.graphic)},executeStop:function(){this.gameObject.animation.stop()}};
var WinAction={execute:function(a){!a.isWon&&!a.isLost&&(a.isWon=!0,a.player.fsm.end())}},LoseAction={execute:function(a){!a.isWon&&!a.isLost&&(a.isLost=!0,a.player.fsm.end())}},CounterAction=function(a,d,e){this.gameObject=e;this.count=d;this.type=a;this.execute=this[a];if(!this[a])throw"Counter type is unknown: "+a;};CounterAction.prototype={execute:null,up:function(){this.gameObject.counter++},down:function(){this.gameObject.counter--},set:function(){this.gameObject.counter=this.count}};var Animation=function(){this.frame=1;this.time=0;this.up=!0;this.plays=!1;this.speed};
Animation.prototype={speeds:[400,250,150,90,40],reset:function(){this.stop()},getFrame:function(){return this.frame},setFrame:function(a){this.frame=a;this.stop()},play:function(a,d,e,h){if(!this.plays||!(a===this.start&&d===this.end&&e===this.mode&&this.speed===this.speeds[h]))this.stop(),this.start=a,this.end=d,this.frame=a,this.up=a<d,this.mode=a!==d?e:"once",this.speed=this.speeds[h],this.plays=!0},stop:function(){this.time=0;this.plays=!1},update:function(a){if(this.plays&&(this.time+=a,this.time>=
this.speed))if(this.time-=this.speed,"loop"===this.mode)this.frame=this.up?this.frame+1>this.end?this.start:this.frame+1:this.frame-1<this.end?this.start:this.frame-1;else if("ping-pong"===this.mode){if(this.frame+=this.up?1:-1,this.frame===this.end||this.frame===this.start)this.up=!this.up}else this.frame!==this.end?this.frame+=this.up?1:-1:this.stop()}};var Behaviour=function(){this.triggers=[];this.actions=[]};Behaviour.prototype={check:function(a){for(var d=!0,e=0;e<this.triggers.length;e++)if(!this.triggers[e].check(a)){d=!1;break}d&&this.actions.forEachApply("execute",a)},reset:function(){this.triggers.forEachApply("reset")},draw:function(a){this.triggers.forEachApply("draw",a)}};var Game=function(a){this.player=a;this.mouse=a.mouse;this.background=null;this.duration=5E3;this.graphics=[];this.gameObjects=[];this.behaviours=[];this.startActions=[];this.isLost=this.isWon=!1};
Game.prototype={init:function(){},reset:function(){this.isLost=this.isWon=!1;this.gameObjects.forEachApply("reset");this.behaviours.forEachApply("reset")},start:function(){this.startActions.forEachApply("execute",this)},update:function(a){this.behaviours.forEachApply("check",this);this.gameObjects.forEachApply("update",a)},draw:function(a){this.background?a.drawImage(this.background,0,0):(a.fillStyle="#FFF",a.fillRect(0,0,640,390));a.debug&&this.behaviours.forEachApply("draw",a);a.fillStyle="#AAA";
a.strokeStyle="#AAA";this.gameObjects.forEachApply("draw",a);a.debug&&a.fillCircle(this.mouse._pos.x,this.mouse._pos.y,3)},getGameObjectWithID:function(a){for(var d=0;d<this.gameObjects.length;d++)if(this.gameObjects[d].ID===a)return this.gameObjects[d];console.error("no gameObject with ID "+a);return null},getGraphicWithID:function(a){for(var d=0;d<this.graphics.length;d++)if(this.graphics[d].ID===a)return this.graphics[d];console.error("no graphic with ID "+a);return null},getGameObjectAt:function(a){for(var d=
this.gameObjects.length-1;0<=d;d--)if(this.gameObjects[d].getArea().contains(a))return this.gameObjects[d];return null}};var GameObject=function(a,d){this.ID=a;this.name=d;this.graphic=this.startGraphic=null;this.shape=new Shape;this.movement=new Movement(this.shape);this.animation=new Animation;this.counter=0};
GameObject.prototype={reset:function(){this.setGraphic(this.startGraphic);this.shape.reset();this.movement.reset();this.animation.reset();this.counter=0},update:function(a){this.shape.update(a);this.movement.update(a);this.animation.update(a)},draw:function(a){var d;this.shape.draw(a,this.graphic,this.animation.getFrame());a.debug&&(this.movement.draw(a),d=this.shape.getBounds(),a.fillText(this.counter,d.x+2,d.y+17))},setGraphic:function(a){this.graphic=a;this.shape.setGraphicSize(a.frameWidth,a.frameHeight);
this.animation.setFrame(1)},setStartGraphic:function(a){this.startGraphic=a;this.setGraphic(a)},getPosition:function(){return this.shape.getPosition()},getArea:function(){return this.shape.getBounds()}};var Graphic=function(a){this.ID=a;this.image=null;this.frameHeight=this.frameWidth=0;this.frameCount=1};Graphic.prototype={draw:function(a,d){var e=this.frameWidth,h=this.frameHeight;a.drawImage(this.image,(d-1)*e,0,e,h,-0.5*e,-0.5*h,e,h)},checkSize:function(){var a=this.image;(this.frameWidth*this.frameCount!==a.width||this.frameHeight!==a.height)&&console.error("graphic size and image size is not the same",this,a.width,a.height)}};var Mouse=function(a,d){this.canvas=d;this.player=a;this.dragging=this.clicked=!1;this._pos=new Vector;this.pos=new Vector;this.move=new Vector;this.area=new Area(0,0,640,390)};
Mouse.prototype={unbind:function(){$(this.canvas).unbind("mousedown");$(this.canvas).unbind("mousemove");$(this.canvas).unbind("mouseup");$(this.canvas).unbind("mousedown")},handleClick:function(){this.unbind();$(this.canvas).mousedown(bind(this,this.click))},handleDrag:function(){this.unbind();$(this.canvas).mousedown(bind(this,this.mousedown));$(this.canvas).mousemove(bind(this,this.mousemove));$(this.canvas).mouseup(bind(this,this.mouseup))},click:function(a){this.setMouse(a,this._pos);this.area.contains(this._pos)&&
(this.pos.copy(this._pos),this.clicked=!0,this.player.click(this));a.stopPropagation()},mousedown:function(a){this.setMouse(a,this.pos);this._pos.copy(this.pos);this.dragging=!0;this.player.mousedown(this);a.stopPropagation()},mousemove:function(a){this.dragging&&(this._pos.copy(this.pos),this.setMouse(a,this.pos),this.move.copy(this.pos).subSelf(this._pos),this.player.mousemove(this));a.stopPropagation()},mouseup:function(a){this.setMouse(a,this.pos);this.dragging=!1;this.player.mouseup(this);a.stopPropagation()},
setMouse:function(a,d){var e=$(this.canvas).offset(),h=this.player.increment;d.set(a.pageX-e.left,a.pageY-e.top);d.mulSelf(this.player.scale);d.x-=h.x+1;d.y-=h.y+1}};var Movement=function(a){this.shape=a;this.target;this.direction;this.offset=new Vector;this.roamArea;this.roamMode;this.bounceStart;this.time;this.speed;this.path=[];this.pathCounter=0;this.pathDirection=this.pathMode=null};
Movement.prototype={speeds:[0.125,0.375,1,2.5,6.25],reset:function(){this.stop()},getPosition:function(){return this.shape.getPosition()},setPosition:function(a){this.stop();this.shape.setPosition(a)},getArea:function(){return this.shape.getBounds()},setTarget:function(a,d,e){this.stop();this.target=a;this.offset.copy(d);this.setSpeed(e)},setDirection:function(a,d){this.stop();this.direction=a;this.setSpeed(d)},setSpeed:function(a){this.speed=this.speeds[a]},roam:function(a,d,e){var h=this.getArea(),
l=this.shape.getStartBounds(),p;a===this.roamMode&&d===this.roamArea&&this.speed===this.speeds[e]||(this.stop(),this.roamMode=a,this.roamArea=d,this.setSpeed(e),p=h.width||2*h.radius,e=h.height||2*h.radius,d.width<p&&(p=p-d.width+10,d.width+=p,d.x-=0.5*p),d.height<e&&(p=e-d.height+10,d.height+=p,d.y-=0.5*p),h.leavesArea(d)&&this.insertObject(d),"wiggle"===a||"insect"===a?this.direction=2*Math.random()*Math.PI:"reflect"===a?this.direction=Math.PI*(0.25+0.5*(Math.floor(100*Math.random())%4)):"bounce"===
a&&(h=this.getArea(),a=d.height-e,h=a-h.y,a=Math.sqrt(19.62*a),l.done?(h+=l.radius||0,this.bounceStart=d.y+d.height-(l.radius||l.height)-l.y):this.bounceStart=d.y+d.height-0.5*e,this.direction=new Vector(this.speed*randSign(),a),this.time=100*((a-Math.sqrt(a*a-19.62*h))/9.81)))},jump:function(a){a!==this.roamArea&&(this.stop(),this.roamArea=a,this.insertObject(a))},followPath:function(a,d,e){a===this.path&&d===this.pathMode&&this.speed===this.speeds[e]||(this.stop(),1<a.length&&(a[0]=this.getPosition().clone(),
this.target=a[1],this.path=a,this.pathMode=d,this.setSpeed(e),this.pathCounter=1))},stop:function(){this.roamArea=this.roamMode=this.direction=this.target=null;this.pathCounter=0;this.pathDirection=this.pathMode=null;this.offset.set(0,0)},update:function(a){var d=0.08*this.speed*a;this.target?this.updateTarget(d):"bounce"===this.roamMode?(this.time+=a,this.updateBounce(0.001*this.time)):null!==this.direction&&this.updateDirection(d)},updateTarget:function(a){var d=this.vector,e=this.target,h=this.getPosition();
d.copy(e).addSelf(this.offset).subSelf(h);d.norm()<a?(h.copy(e).addSelf(this.offset),this.pathMode?this.updatePath():this.target=null):(d.normalizeSelf().mulSelf(a),h.addSelf(d))},updatePath:function(){var a=this.path.length-1,d=this.pathMode,e=this.pathCounter;if("circular"===d)e===a?e=0:e++;else if("ping-pong"===d)e===a?this.pathDirection="backward":0===e&&(this.pathDirection="forward"),e+="backward"===this.pathDirection?-1:1;else if("once"===d){if(e===a){this.stop();return}e++}this.target=this.path[e];
this.pathCounter=e},updateDirection:function(a){var d=this.vector,e=this.roamMode,h=this.getPosition();d.set(a,0).rotateSelf(this.direction);h.addSelf(d);if(e&&("wiggle"===e?this.direction+=(0.2*Math.random()-0.1)*Math.PI:"insect"===e&&(this.direction=2*Math.random()*Math.PI),a=this.getArea().leavesArea(this.roamArea)))h.subSelf(d),this.reflectDirection(a)},updateBounce:function(a){var d=this.getPosition(),e=this.direction,a=a*10*this.speed;d.x+=e.x;d.y=this.bounceStart-e.y*a+4.905*a*a;if(a=this.getArea().leavesArea(this.roamArea))"x"===
a||"width"===a?(e.x*=-1,d.x+=e.x):(this.time=0,d.y=this.bounceStart)},reflectDirection:function(a){var d=this.vector.set(1,0).rotateSelf(this.direction);"x"===a||"width"===a?d.x*=-1:d.y*=-1;this.direction=d.angle()},insertObject:function(a){var d=this.getArea(),e=this.shape.getStartBounds(),h=this.getPosition();h.set(a.x+Math.random()*(a.width-(d.width||2*d.radius)),a.y+Math.random()*(a.height-(d.height||2*d.radius)));e.done?(h.subSelf(e),e.radius&&(h.x+=e.radius,h.y+=e.radius)):(h.x+=0.5*d.width,
h.y+=0.5*d.height)},draw:function(a){var d=this.getPosition();this.getArea().draw(a);this.target?(this.pathMode&&(new Path(this.path)).draw(a,0.5),a.save(),a.fillStyle=a.strokeStyle="red",a.drawArrow(d.x,d.y,this.target.x+this.offset.x,this.target.y+this.offset.y,0.7),a.restore()):this.roamMode?this.roamArea.draw(a):this.direction&&(a.save(),a.translate(d.x,d.y),a.rotate(this.direction),a.drawArrow(0,0,70,0,0.5),a.restore())},vector:new Vector};var ClickTrigger=function(a,d){this.gameObject=a;this.area=d};ClickTrigger.prototype={check:function(a){return a.mouse.clicked?this.gameObject?this.gameObject.getArea().contains(a.mouse.pos):this.area.contains(a.mouse.pos):!1},draw:function(a){this.area&&(a.strokeStyle="#F84",this.area.draw(a))},reset:function(){}};var ContactTrigger=function(a,d,e,h){this.gameObject=d;this.gameObject2=e;this.area=h;triggered=!1;"touch"===a?this.check=this.checkTouch:"overlap"===a&&(this.check=this.checkOverlap)};
ContactTrigger.prototype={check:null,checkTouch:function(){var a=this.checkOverlap();if(this.triggered&&!a)this.triggered=!1;else if(!this.triggered&&a)return this.triggered=!0;return!1},checkOverlap:function(){return this.area?this.gameObject.getArea().overlaps(this.area):this.gameObject.getArea().overlaps(this.gameObject2.getArea())},reset:function(){this.triggered=!1},draw:function(a){this.area&&(a.strokeStyle="#F77",this.area.draw(a))}};var TimeTrigger=function(a,d){this.time=a;this.time2=d;this.reset()};
TimeTrigger.prototype={check:function(a){var a=100*(a.player.timePlayed/a.duration),d=this.time2?this.randTime:this.time;return!this.triggered&&a>=d?this.triggered=!0:!1},reset:function(){this.triggered=!1;this.time2&&(this.randTime=this.time+Math.random()*(this.time2-this.time))},draw:function(a){var d=this.randTime||this.time,e=a.player.timelineCanvas.width,a=a.player.timelineCtx;a.fillStyle=this.triggered?"#AAA":"#333";this.randTime&&(a.fillRect(Math.floor(0.01*e*this.time)-1,0,2,16),a.fillRect(Math.floor(0.01*
e*this.time2)-1,0,2,16));a.fillRect(Math.floor(0.01*e*d)-1,0,3,16)}};
var EndTrigger=function(a){this.triggered=!1;this.check=function(d){return d[a]&&!this.triggered?this.triggered=!0:!1};this.reset=function(){this.triggered=!1};this.draw=function(){}},WonTrigger={check:function(a){return a.isWon},reset:function(){},draw:function(){}},LostTrigger={check:function(a){return a.isLost},reset:function(){},draw:function(){}},CounterTrigger=function(a,d,e,h){this.gameObject=d;this.gameObject2=h||{counter:e};this.triggered=!1;this.compareFunction=this[a];if(!this[a])throw"Counter type is unknown: "+
a;};CounterTrigger.prototype={check:function(){return this.compareFunction(this.gameObject.counter,this.gameObject2.counter)?this.triggered=!0:!1},compareFunction:null,equal:function(a,d){return a===d},greater:function(a,d){return a>d},smaller:function(a,d){return a<d},reset:function(){this.triggered=!1},draw:function(){}};var Shape=function(){this.startPosition=new Vector;this.position=new Vector;this.startBounds=new Area;this.bounds=new Area;this.scale=new Vector(1,1);this.targetScale=new Vector;this.speed;this.scales=!1;this.vector=new Vector};
Shape.prototype={reset:function(){this.position.copy(this.startPosition);this.scale.set(1,1);this.scales=!1},getPosition:function(){return this.position},setPosition:function(a){this.position.copy(a)},movePosition:function(a){this.position.copy(this.startPosition.addSelf(a))},getBounds:function(){return this.bounds.copy(this.startBounds).scaleSelf(this.scale).addSelf(this.position)},getStartBounds:function(){return this.startBounds},setBounds:function(a){this.startBounds=a.clone();this.bounds=a.clone();
this.startBounds.done=!0},setGraphicSize:function(a,d){this.startBounds.done||this.startBounds.set(-a/2,-d/2,a,d)},getScale:function(){return this.scale},setScale:function(a){this.scale.copy(a);this.scales=!1},scaleTo:function(a,d){this.targetScale.copy(a);this.speed=d;this.scales=!0},flip:function(a){this.scale.x*=a.x;this.scale.y*=a.y;this.targetScale.x*=a.x;this.targetScale.y*=a.y},update:function(a){if(this.scales){var d=this.vector,e=this.targetScale,h=this.scale,a=this.speed*a;d.copy(e).subSelf(h);
d.norm()<a?(h.copy(e),this.scales=!1):(d.normalizeSelf().mulSelf(a),h.addSelf(d))}},draw:function(a,d,e){a.save();a.translate(this.position.x,this.position.y);a.scale(this.scale.x,this.scale.y);d.draw(a,e);a.restore()}};var Player=function(){this.ID=Player.count++;this.mouse=this.loader=this.game=this.node=this.timelineCtx=this.timelineCanvas=this.canvas=this.ctx=null;this.fsm=new StateMachine(this);this.fsm.init({initial:"init",states:[{name:"init"},{name:"load",enter:this.enterLoad,draw:this.drawLoad,exit:this.exitLoad},{name:"ready",enter:this.enterReady},{name:"play",enter:this.enterPlay,draw:this.draw,update:this.update,exit:this.exitPlay},{name:"end",draw:this.draw,update:this.update},{name:"error",enter:this.enterError}],
transitions:[{name:"parse",from:"*",to:"load"},{name:"loaded",from:"load",to:"ready",callback:this.onReady},{name:"start",from:"ready",to:"play",callback:this.onStart},{name:"end",from:"play",to:"end",callback:this.onEnd},{name:"restart",from:"end",to:"ready"},{name:"error",from:"*",to:"error"}]});this.restTime=this.timePlayed=this.time=0;this.terminate=this.hasLoaded=!1};
Player.prototype={increment:{x:0,y:0},scale:1,loadAnimated:!0,endDelay:1E3,init:function(a){var d=$("#playerCanvas",a)[0],e=d.getContext("2d"),h=$(".playerTimeline",a)[0],l=this.increment,p=this;a.disableSelection();d.width=640+2*l.x;d.height=390+2*l.y;e.save();e.translate(l.x,l.y);e.font="20px sans-serif";this.ctx=e;this.canvas=d;e.player=this;this.mouse=new Mouse(this,d);e.debug=!1;$(".playButton",a).click(function(a){p.fsm.start();a.stopPropagation()});$(".playerUI",a).click(function(){p.fsm.restart()});
$(".titleBar",a).click(function(){$(this).toggleClass("active")});$("#player").addTouch();this.node=a;h&&(h.width=$(".playerTimeline",a).width(),h.height=$(".playerTimeline",a).height(),this.timelineCanvas=h,this.timelineCtx=h.getContext("2d"))},startRunloop:function(){function a(){d.terminate||(d.run(),requestAnimationFrame(a))}var d=this;a()},run:function(){var a,d=Date.now();a=d-this.time;this.time=d;this.fsm.update(100<a?100:a);this.fsm.draw(this.ctx);this.mouse.clicked=!1;Player.updates[this.ID]=
this.time},reset:function(){this.restTime=this.timePlayed=0;this.mouse.clicked=!1},parse:function(a,d,e){var h=this;this.hasLoaded=!1;this.fsm.parse();this.game=new Game(this,this.mouse);this.loader=new Loader(function(){h.hasLoaded=!0;h.fsm.loaded();d&&d()},this.loadAnimated,e);try{Parser.parseData(a,this.game,this.loader)}catch(l){console.log(l,l.message,l.stack),this.fsm.error()}},update:function(a){this.fsm.hasState("play")&&(this.timePlayed+=a);this.game.update(a);this.fsm.hasState("play")&&
this.timePlayed>this.game.duration&&LoseAction.execute(this.game)},draw:function(a){this.game.draw(a);this.timePlayed&&(this.drawTimeline(this.timelineCtx),a=Math.ceil((this.game.duration-this.timePlayed)/1E3),this.restTime!==a&&(this.showTime(a),this.restTime=a))},drawTimeline:function(a){a.fillStyle=this.game.isWon?"#70B477":this.game.isLost?"#CD5654":"#999";a.fillRect(0,0,Math.floor(this.timePlayed/this.game.duration*this.timelineCanvas.width),this.timelineCanvas.height)},drawLoad:function(a){this.loader.draw(a)},
click:function(){},enterLoad:function(){var a=this.node;$(".playerUI",a).show();$(".loadScreen",a).show();$(".titleScreen",a).hide();$(".playButton",a).hide();$(".titleBar",a).removeClass("interactive");$(".titleBar",a).removeClass("active")},exitLoad:function(){$(".loadScreen",this.node).hide();this.showTime(this.game.duration/1E3)},enterReady:function(){var a=this.node;$(".titleScreen",a).show();$(".endScreen",a).fadeOut(200);$(".endBg",a).animate({width:65},200,function(){$(".endBg",a).animate({opacity:0},
500);$(".playButton",a).fadeIn(300);$(".titleBar",a).addClass("interactive")})},onReady:function(){this.reset();this.game.reset();this.draw(this.ctx)},onStart:function(){var a=this.node;$(".playButton",a).fadeOut(200);$(".titleBar",a).removeClass("interactive");$(".titleBar",a).removeClass("active");setTimeout(function(){$(".playerUI",a).hide();$(".titleScreen",a).hide()},200);this.reset();this.game.reset();this.game.start()},enterPlay:function(){this.timelineCanvas.width=this.timelineCanvas.width;
this.showTime(this.game.duration/1E3);this.mouse.handleClick()},exitPlay:function(){this.mouse.unbind()},onEnd:function(){var a=this,d;$(".playerUI",this.node).show();this.game.isWon?(d=".winScreen",this.onWin()):(d=".loseScreen",this.onLose());$(d,this.node).fadeIn(300);$(".endBg",this.node).css({width:640});$(".endBg",this.node).animate({opacity:0.8},300);this.draw(this.ctx);setTimeout(function(){a.onRestart(a.game.isWon)&&a.fsm.restart()},1500)},enterError:function(){$(".titleScreen",this.node).hide();
$(".startScreen",this.node).hide();$(".endScreen",this.node).hide();$(".endBg",this.node).hide();$(".errorScreen",this.node).show();this.ctx.fillStyle="white";this.ctx.fillRect(0,0,640,390);this.showTime(0)},showTime:function(a){$(".playerTime",this.node).html(timeString(a))},debug:function(){this.ctx.debug=!this.ctx.debug;this.redraw=!0},onWin:function(){},onLose:function(){},onRestart:function(){return!0}};Player.count=0;Player.updates=[];var Loader=function(a,d,e){this.callback=a;this.imagesLoaded=this.imageCount=0;this.corsSave=e;this.animated=d;this.loadCircle=0};
Loader.prototype={loadImage:function(a,d){if(a)if(100<=this.imageCount)console.error("Loader does not load more than 100 images");else{var e=new Image,h=this;e.onload=function(){d();h.imageLoaded()};var l="localhost"===document.location.hostname?!0:!1;this.corsSave&&(a=l?a:"/s3?url="+a);e.src=a;this.imageCount++;return e}},imageLoaded:function(){this.imagesLoaded++;this.animated||this.checkRemaining()},checkRemaining:function(){this.imageCount===this.imagesLoaded&&this.callback()},draw:function(a){var d=
this.imagesLoaded/this.imageCount+0.02,e=this.loadCircle,e=e+0.1*(d-e);0.02>d-e?1.02===d&&this.checkRemaining():(a.fillStyle="white",a.fillRect(0,0,640,390),a.save(),a.translate(320.5,160.5),a.lineWidth=5,a.strokeStyle="#C3C3C3",a.beginPath(),a.arc(0,0,30,0,TAU,!0),a.stroke(),a.strokeStyle="#CD5654",a.lineWidth=7,a.beginPath(),a.arc(0,0,30,-0.25*TAU,(-0.25+e)*TAU,!1),a.stroke(),a.restore(),this.loadCircle=e)}};var Parser={game:null,loader:null,actionIDs:{moveInDirection:function(a,d){var e=new MoveAction("moveIn",d,a.speed);e.direction=a.angle;return e},moveInRandom:function(a,d){var e=new MoveAction("moveIn",d,a.speed);e.random=!0;return e},moveInLocation:function(a,d){var e=new MoveAction("moveIn",d,a.speed);e.target=(new Vector).copy(a.location);return e},moveInObject:function(a,d,e){d=new MoveAction("moveIn",d,a.speed);d.target=e.getGameObjectWithID(a.objectID).getPosition();return d},moveToLocation:function(a,
d){var e=new MoveAction("moveTo",d,a.speed);e.target=(new Vector).copy(a.location);return e},moveAlongPath:function(a,d){var e=new MoveAction("moveAlongPath",d,a.speed);e.path=a.path;e.mode=a.mode;return e},moveToObject:function(a,d,e){d=new MoveAction("moveTo",d,a.speed);d.target=e.getGameObjectWithID(a.objectID).getPosition();d.offset=(new Vector).copy(a.offset);return d},jumpToLocation:function(a,d){var e=new MoveAction("jumpTo",d);e.target=(new Vector).copy(a.location);return e},jumpToObject:function(a,
d,e){d=new MoveAction("jumpTo",d);d.target=e.getGameObjectWithID(a.objectID).getPosition();d.offset=(new Vector).copy(a.offset);return d},jumpToArea:function(a,d){var e=new MoveAction("jumpTo",d);e.area=(new Area).copy(a.area);return e},moveRoam:function(a,d){return new RoamAction(d,a.mode,(new Area).copy(a.area),a.speed)},moveSwap:function(a,d,e){return new SwapAction(d,e.getGameObjectWithID(a.objectID))},moveStop:function(a,d){return new StopAction(d)},scaleSize:function(a,d){return new ScaleAction(d,
a.scale/100,a.speed)},flipObject:function(a,d){return new FlipAction(a.mode,d)},artToFrame:function(a,d){return new ArtAction("frame",d,a.frame)},artPlay:function(a,d){return new ArtAction("play",d,a.frame,a.frame2,a.mode,a.speed)},artStop:function(a,d){return new ArtAction("stop",d)},artChange:function(a,d,e){d=new ArtAction("change",d);d.graphic=e.getGraphicWithID(a.graphicID);return d},gameWin:function(){return WinAction},gameLose:function(){return LoseAction},gameEnd:function(){return LoseAction},
counterSet:function(a,d){return action=new CounterAction("set",a.counter,d)},counterUp:function(a,d){return action=new CounterAction("up",a,d)},counterDown:function(a,d){return action=new CounterAction("down",a,d)}},triggerIDs:{clickSelf:function(a,d){return new ClickTrigger(d)},clickObject:function(a,d,e){return new ClickTrigger(e.getGameObjectWithID(a.objectID))},clickArea:function(a){return new ClickTrigger(null,(new Area).copy(a.area))},touchObject:function(a,d,e){return 3>e.version?new ContactTrigger("touch",
d,e.getGameObjectWithID(a.objectID)):new ContactTrigger("touch",e.getGameObjectWithID(a.objectID),e.getGameObjectWithID(a.object2ID))},touchArea:function(a,d,e){return 3>e.version?new ContactTrigger("touch",d,null,(new Area).copy(a.area)):new ContactTrigger("touch",e.getGameObjectWithID(a.objectID),null,(new Area).copy(a.area))},overlapObject:function(a,d,e){return 3>e.version?new ContactTrigger("overlap",d,e.getGameObjectWithID(a.objectID)):new ContactTrigger("overlap",e.getGameObjectWithID(a.objectID),
e.getGameObjectWithID(a.object2ID))},overlapArea:function(a,d,e){return 3>e.version?new ContactTrigger("overlap",d,null,(new Area).copy(a.area)):new ContactTrigger("overlap",e.getGameObjectWithID(a.objectID),null,(new Area).copy(a.area))},timeExact:function(a){return new TimeTrigger(a.time)},timeRandom:function(a){return new TimeTrigger(a.time,a.time2)},counterEqualsObject:function(a,d,e){return 4>e.version?new CounterTrigger("equal",d,null,e.getGameObjectWithID(a.objectID)):new CounterTrigger("equal",
e.getGameObjectWithID(a.objectID),null,e.getGameObjectWithID(a.object2ID))},counterGreaterObject:function(a,d,e){return 4>e.version?new CounterTrigger("greater",d,null,e.getGameObjectWithID(a.objectID)):new CounterTrigger("greater",e.getGameObjectWithID(a.objectID),null,e.getGameObjectWithID(a.object2ID))},counterSmallerObject:function(a,d,e){return 4>e.version?new CounterTrigger("smaller",d,null,e.getGameObjectWithID(a.objectID)):new CounterTrigger("smaller",e.getGameObjectWithID(a.objectID),null,
e.getGameObjectWithID(a.object2ID))},counterEqualsNumber:function(a,d,e){return 4>e.version?new CounterTrigger("equal",d,a.counter,null):new CounterTrigger("equal",e.getGameObjectWithID(a.objectID),a.counter,null)},counterGreaterNumber:function(a,d,e){return 4>e.version?new CounterTrigger("greater",d,a.counter,null):new CounterTrigger("greater",e.getGameObjectWithID(a.objectID),a.counter,null)},counterSmallerNumber:function(a,d,e){return 4>e.version?new CounterTrigger("smaller",d,a.counter,null):
new CounterTrigger("smaller",e.getGameObjectWithID(a.objectID),a.counter,null)},gameIsWon:function(){return new EndTrigger("isWon")},gameWasWon:function(){return WonTrigger},gameIsLost:function(){return new EndTrigger("isLost")},gameWasLost:function(){return LostTrigger},gameStart:function(){return"start"}},parseData:function(a,d,e){var h=a.graphics,l=a.gameObjects,p,r,u;this.game=d;d.version=a.version;d.duration=1E3*(a.duration||5);if(h&&0<h.length)for(r=0;r<h.length;r++)p=this.parseGraphic(h[r],
e),d.graphics.push(p);if(l&&0<l.length){for(r=0;r<l.length;r++)p=this.parseGameObject(l[r]),d.gameObjects.push(p);for(r=0;r<l.length;r++)if(h=l[r].behaviours,p=d.gameObjects[r],h&&0<h.length)for(u=0;u<h.length;u++){var D=this.parseBehaviour(h[u],p);D&&this.game.behaviours.push(D)}}a.backgroundID&&(d.background=d.getGraphicWithID(a.backgroundID).image);e.checkRemaining()},parseGraphic:function(a,d){var e=new Graphic(a.ID);e.frameWidth=a.frameWidth;e.frameHeight=a.frameHeight;e.frameCount=a.frameCount||
1;e.image=d.loadImage(a.url,function(){e.checkSize()});return e},parseGameObject:function(a){var d=new GameObject(a.ID,a.name);d.shape.startPosition.copy(a.position);d.setStartGraphic(this.game.getGraphicWithID(a.graphicID));a.boundingArea&&(a.boundingArea.width?d.shape.setBounds((new Area).copy(a.boundingArea)):a.boundingArea.radius&&d.shape.setBounds((new Circle).copy(a.boundingArea)));return d},parseBehaviour:function(a,d){var e=new Behaviour,h=a.actions,l=a.triggers,p=this.game,r,u;if(h&&0<h.length)for(u=
0;u<h.length;u++)(r=this.parseAction(h[u],d,p))&&e.actions.push(r);else return console.error("parser: behaviour has no actions"),null;if(l&&0<l.length)for(u=0;u<l.length;u++){h=this.parseTrigger(l[u],d,p);if("start"===h)return p.startActions=p.startActions.concat(e.actions),null;h&&e.triggers.push(h)}else return console.error("parser: behaviour has no triggers"),null;return e},parseAction:function(a,d,e){var h=this.actionIDs[a.ID];return!h?(console.error("parser: no action with ID: "+a.ID),null):
h(a,d,e)},parseTrigger:function(a,d,e){var h=this.triggerIDs[a.ID];return!h?(console.error("parser: no trigger with ID: "+a.ID),null):h(a,d,e)}};var player,gamePlayed=[0,0,0,0,0],gameOrder=[0,1,2,3,4],gameIndex=0,messageAppeared=!1;function player_main(){function a(){play_game($(this).data("index"))}$("#navi li").click(a);$("#gameOverlay #games li").click(a);$(".playlist li").live("click",a);$("#messageOverlay .confirm .btn").click(function(){$("#messageOverlay").hide()});player=new Player;player.init($("#player"));player.startRunloop()}
function play_game(a){$("#navi li").removeClass("active");$("#navi li:nth-child("+(a+1)+")").addClass("active");$("#gameOverlay").hide();$("#messageOverlay").hide();5===a&&(0===gameIndex&&gameOrder.shuffle(),a=gameOrder[gameIndex],gameIndex=(gameIndex+1)%5);var d=game_data[a];$("#player .title").text(d.data.title);$("#player .instruction").text(d.data.instructions);$("#player .playerBar a").attr("href","http://www.playtin.com/play/"+d.id);player.parse(d.data);player.onRestart=function(e){addToPlaylist(d.data.title,
a,e,player.timePlayed/1E3);isEndlessMode()&&play_game(5);gamePlayed[a]=1;!messageAppeared&&gamePlayed.every(function(a){return 1===a})&&($("#messageOverlay").show(),messageAppeared=!0);return!isEndlessMode()}}function isEndlessMode(){return $("#navi li:nth-child(6)").hasClass("active")}
function addToPlaylist(a,d,e,h){var l=$(".playlist"),p=l.find(".template").clone();p.removeClass("template");p.data("index",d);p.find(".title").text(a).addClass(e?"win":"lose");e&&p.find(".time").text(h.toFixed(1)+"s");l.prepend(p);p.hide().fadeIn(500);updateScore(e)}function updateScore(a){a=$("."+(a?"winCount":"loseCount"));a.text(parseInt(a.html())+1)}(function(a){a.fn.disableSelection=function(){return this.attr("unselectable","on").css("user-select","none").on("selectstart",!1)}})(jQuery);